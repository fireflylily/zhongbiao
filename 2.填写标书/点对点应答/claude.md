# Claude代码助手配置文档

## 基本要求

- **始终使用中文回答问题** - 所有回复、说明、注释都用中文
- **执行Python命令时使用python3** - 不要使用python命令，统一使用python3
- 提供简洁明确的解决方案
- 在代码修改后自动测试功能
- 代码注释使用中文，变量命名优先使用有意义的中文

## 项目说明

这是一个AI标书智能生成系统的点对点应答模块，主要功能包括：

1. 商务应答文档处理
2. 公司信息自动填充
3. 项目信息匹配
4. 文档下载功能

## 技术栈

- Python Flask Web应用 (使用python3命令)
- Word文档处理 (python-docx)
- MCP (Model Context Protocol) 处理架构
- 前端HTML/JavaScript/Bootstrap
- API集成 (始皇API)
- 支持22种格式模式识别和跨run处理

## 常见问题解决

### 下载功能问题
- 确保输出文件路径与下载端点一致
- 检查文件权限和目录存在性

### 公司信息加载问题  
- 验证API端点正常工作
- 确保JSON格式正确
- 检查前端JavaScript逻辑

## 开发规范

- 修改代码后立即测试
- 保持日志记录清晰
- 错误处理要完善
- **最小化修改原则** - 在修复问题或添加功能时，始终选择对现有代码影响最小的方案

## 问题处理流程

**遇到问题时的标准处理步骤：**

1. **首先检查日志** - 必须先查看相关日志文件，了解具体错误信息
   - Web应用日志：`web_app.log` 或控制台输出
   - 处理日志：`tender_extraction.log` 
   - 增强处理日志：`enhanced_inline_reply.log`

2. **分析问题根本原因** - 基于日志信息分析
   - 找出具体的错误位置和原因
   - 区分是代码错误、网络问题、还是数据问题
   - 确定影响范围和严重程度

3. **制定修复方案** - 针对性解决
   - 优先解决根本原因，而非症状
   - 考虑修复的副作用和兼容性
   - 选择最小影响的修复方案

4. **实施修复并验证** - 确保修复有效
   - 应用修复方案
   - 重新测试问题场景
   - 验证其他功能未受影响

**常见日志文件位置：**
- `web_app.log` - Web应用运行日志
- `tender_extraction.log` - 招标信息提取日志  
- `enhanced_inline_reply.log` - 文档处理日志

**日志检查命令：**
```bash
# 查看最新日志
tail -50 tender_extraction.log

# 实时监控日志
tail -f web_app.log

# 搜索错误信息
grep -i error *.log
```