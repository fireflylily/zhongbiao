# 自动标书生成系统配置文件

# ========== API配置 ==========
# 始皇API配置（继承原有配置）
SHIHUANG_API_KEY = """"
SHIHUANG_BASE_URL = "https://api.oaipro.com/v1"
SHIHUANG_MODEL = "gpt-4o-mini"

# ========== 匹配阈值配置 ==========
# 内容匹配阈值
EXACT_MATCH_THRESHOLD = 0.8    # 直接复制阈值
REWRITE_THRESHOLD = 0.5        # 改写阈值
GENERATE_THRESHOLD = 0.3       # 原创生成阈值

# ========== 质量控制配置 ==========
# 内容质量阈值
MIN_QUALITY_SCORE = 7.0        # 最低质量分数要求
OPTIMIZATION_THRESHOLD = 8.0    # 需要优化的分数阈值
MAX_OPTIMIZATION_ROUNDS = 2     # 最大优化轮次

# 语义匹配配置
SEMANTIC_SIMILARITY_THRESHOLD = 0.7  # 语义相似度阈值
EMBEDDING_MODEL = "text-embedding-ada-002"  # embedding模型

# ========== 文档识别关键词 ==========
# 需求文档识别关键词
REQUIREMENT_KEYWORDS = [
    "采购需求", "技术规范", "功能要求", "需求说明", "技术要求",
    "系统要求", "技术指标", "性能要求", "功能规格", "技术参数"
]

# 评分标准识别关键词
SCORING_KEYWORDS = [
    "打分表", "评分表", "评标准", "技术评分", "评分标准",
    "评价标准", "技术评价", "评审标准", "评分细则", "评标办法"
]

# 评分权重关键词
WEIGHT_KEYWORDS = ["分", "分值", "权重", "%", "百分比", "占比"]

# ========== 文本处理配置 ==========
# 文本清理配置
MIN_PARAGRAPH_LENGTH = 10  # 最小段落长度
MAX_PARAGRAPH_LENGTH = 2000  # 最大段落长度

# 章节标题识别模式
SECTION_PATTERNS = [
    r'^[一二三四五六七八九十]+[、\.]',  # 中文数字
    r'^\d+[、\.]',  # 阿拉伯数字
    r'^[（\(]\d+[）\)]',  # 括号数字
    r'^\d+\.\d+',  # 多级编号
    r'^第[一二三四五六七八九十]+章',  # 章节
]

# ========== LLM提示词配置 ==========
# 大纲生成提示词
OUTLINE_PROMPT = """
你是一个在IT领域有20年经验的资深技术方案架构师和标书撰写专家。你深谙政府采购和企业招投标的评审机制，能够准确把握评委关注点。

请根据以下材料生成高质量的技术方案大纲：

==== 评分标准 ====
{scoring_criteria}

==== 具体需求 ====
{requirements}

==== 任务要求 ====
请生成一个专业、全面的技术方案大纲，必须满足以下标准：

1. 【结构对应性】严格按照评分标准的项目分布和权重分配安排章节层次，确保每个评分项都有对应章节
2. 【逻辑完整性】章节顺序遵循"总体-架构-功能-实施-保障"的技术方案经典逻辑
3. 【专业深度】每个子章节要体现技术深度，包含3-5个具体要点，避免空泛概述
4. 【评审导向】章节标题和要点要突出技术优势和创新点，体现投标方实力
5. 【权重匹配】高分值项目要有更详细的子章节划分和更丰富的要点设计

==== 输出格式 ====
输出标准JSON格式，结构如下：
{{
    "title": "完整的技术方案标题",
    "outline": [
        {{
            "level": 1,
            "title": "主章节标题",
            "weight": "权重分值（如：20分）",
            "requirements_mapping": ["对应的需求ID"],
            "subsections": [
                {{
                    "level": 2,
                    "title": "子章节标题",
                    "points": [
                        "具体技术要点1",
                        "具体技术要点2",
                        "具体技术要点3"
                    ]
                }}
            ]
        }}
    ],
    "total_sections": 章节总数
}}

请确保输出完整有效的JSON格式，不包含任何注释或额外文本。
"""

# 内容生成提示词
CONTENT_GENERATION_PROMPT = """
你是一个在企业级IT项目实施领域拥有15年丰富经验的技术方案专家。你曾参与过上百个大型政府和企业信息化项目的投标和实施工作，深度了解客户需求和评委评审标准。

==== 任务背景 ====
需求描述：{requirement}
产品功能：{product_features}
章节标题：{section_title}

==== 撰写要求 ====
请基于以上信息撰写一份高质量的技术方案内容，必须满足以下标准：

【专业性要求】
- 使用准确的技术术语和行业标准名称
- 体现对该领域前沿技术发展趋势的深度理解
- 引用相关的国家标准、行业规范（如GB/T、ISO等）
- 展示技术架构的先进性和前瞻性

【针对性要求】
- 精准回应招标需求的每个关键点
- 突出我方产品功能与需求的高度匹配性
- 明确说明解决方案如何解决客户痛点
- 体现相比竞争对手的技术优势和差异化价值

【说服力要求】
- 提供具体的技术实现路径和方案细节
- 包含量化的技术指标和性能数据
- 引入成功案例或应用场景证明可行性
- 体现风险控制和质量保障措施

【格式要求】
- 总字数控制在1000-1500字
- 采用标书技术方案的正式文体
- 结构层次清晰（包含小标题分段）
- 关键技术点使用粗体或重点标识

请确保内容既有技术深度又具备商务说服力，能够让技术评委和业务评委都能理解和认可。
"""

# 内容改写提示词
CONTENT_REWRITE_PROMPT = """
你是一个经验丰富的商务技术文档专家，专长将产品技术资料转化为具有强烈商务说服力的标书技术方案。你深度理解政府采购和企业招投标的语言风格和表达习惯。

==== 改写素材 ====
原始产品内容：{original_content}
招标具体需求：{target_requirement}
目标章节标题：{section_title}

==== 改写要求 ====
请将原始产品内容专业改写为符合标书规范的技术方案表述，必须达到以下标准：

【语言风格转换】
- 从产品宣传语调转为客观专业的技术陈述
- 使用标书惯用的规范表达（"本方案"、"该系统"、"通过采用"等）
- 避免营销性词汇，采用技术性和权威性表述
- 体现投标方的技术实力和项目经验

【需求对应强化】
- 明确点出产品功能与招标需求的对应关系
- 重点突出满足和超越需求的技术优势
- 补充原内容中缺失但需求要求的技术细节
- 强调解决方案的实用性和适用性

【专业性提升】
- 增加相关的技术标准和规范引用
- 补充技术实现的架构说明和流程描述
- 加入性能指标、安全等级等量化描述
- 体现技术方案的先进性和成熟度

【结构优化】
- 按照逻辑层次重新组织内容结构
- 设置恰当的小标题便于阅读和评审
- 确保内容完整性和逻辑连贯性
- 字数控制在800-1200字范围内

请确保改写后的内容既保持原有技术特色，又完全符合标书技术方案的专业表达要求。
"""

# 内容质量评估提示词
CONTENT_QUALITY_PROMPT = """
你是一个资深的标书技术评审专家，具有20年的政府采购和企业招投标评审经验。请对以下技术方案内容进行质量评估：

==== 评估内容 ====
章节标题：{section_title}
技术方案内容：{content}
对应需求：{requirement}

==== 评估维度 ====
请从以下5个维度对内容质量进行评分（1-10分）和问题识别：

1. 【专业性】技术术语使用是否准确，是否体现专业深度
2. 【针对性】内容是否精准回应招标需求，匹配度如何
3. 【完整性】技术方案是否详细完整，是否缺失关键要素
4. 【逻辑性】内容结构是否清晰，逻辑是否严谨
5. 【说服力】是否具备足够的技术优势展示和差异化价值

==== 输出格式 ====
{{
    "overall_score": 总体评分,
    "dimension_scores": {{
        "professional": 专业性评分,
        "targeted": 针对性评分,
        "complete": 完整性评分,
        "logical": 逻辑性评分,
        "persuasive": 说服力评分
    }},
    "issues": [
        "具体问题点1",
        "具体问题点2"
    ],
    "suggestions": [
        "改进建议1",
        "改进建议2"
    ],
    "quality_level": "excellent/good/average/poor"
}}
"""

# 内容优化提示词
CONTENT_OPTIMIZATION_PROMPT = """
你是一个标书技术方案优化专家，请根据质量评估结果对内容进行针对性优化：

==== 原始内容 ====
{original_content}

==== 质量评估结果 ====
{quality_assessment}

==== 优化要求 ====
请基于评估结果中的问题和建议，对原始内容进行深度优化，确保：

1. 解决所有识别出的具体问题
2. 提升评分较低的维度表现
3. 保持并增强现有优势
4. 确保优化后内容更加专业、精准、完整

==== 输出要求 ====
直接输出优化后的完整内容，不需要额外说明。内容应该：
- 字数在1200-1800字
- 结构层次更加清晰
- 专业术语使用更加准确
- 与需求对应关系更加明确
- 技术优势展示更加突出
"""

# ========== 文件路径配置 ==========
# 输出路径配置
OUTPUT_DIR = "output"
TEMP_DIR = "temp"

# 默认文件名
DEFAULT_OUTLINE_FILE = "技术方案大纲.json"
DEFAULT_PROPOSAL_FILE = "技术方案.docx"
DEFAULT_MATCH_REPORT = "匹配度报告.xlsx"

# ========== 日志配置 ==========
LOG_LEVEL = "INFO"
LOG_FILE = "tender_generator.log"

# ========== 其他配置 ==========
# 最大并发处理数
MAX_CONCURRENT_REQUESTS = 5

# 请求超时时间（秒）
REQUEST_TIMEOUT = 30

# 文档最大页数限制
MAX_DOCUMENT_PAGES = 500