/**
 * 设计令牌系统 (Design Tokens)
 * 定义整个应用的设计语言基础
 * 基于8点网格系统和WCAG AA可访问性标准
 */

:root {
    /* ========================================
       色彩系统 (Color System)
       ======================================== */

    /* 主色调 - 品牌蓝色 (Primary - Brand Blue) */
    --color-primary-50: #e3f2fd;
    --color-primary-100: #bbdefb;
    --color-primary-200: #90caf9;
    --color-primary-300: #64b5f6;
    --color-primary-400: #42a5f5;
    --color-primary-500: #4a89dc;  /* 主品牌色 */
    --color-primary-600: #3d6cb9;
    --color-primary-700: #1976d2;
    --color-primary-800: #1565c0;
    --color-primary-900: #0d47a1;

    /* 次要色 - 青色 (Secondary - Teal) */
    --color-secondary-50: #e0f7fa;
    --color-secondary-100: #b2ebf2;
    --color-secondary-200: #80deea;
    --color-secondary-300: #4dd0e1;
    --color-secondary-400: #26c6da;
    --color-secondary-500: #48cfad;  /* 次要品牌色 */
    --color-secondary-600: #3ea99f;
    --color-secondary-700: #00838f;
    --color-secondary-800: #006064;
    --color-secondary-900: #004d40;

    /* 语义色彩 - 成功 (Success - Green) */
    --color-success-50: #e8f5e9;
    --color-success-100: #c8e6c9;
    --color-success-200: #a5d6a7;
    --color-success-300: #81c784;
    --color-success-400: #66bb6a;
    --color-success-500: #48cfad;  /* 主成功色 */
    --color-success-600: #43a047;
    --color-success-700: #388e3c;
    --color-success-800: #2e7d32;
    --color-success-900: #1b5e20;

    /* 语义色彩 - 警告 (Warning - Orange) */
    --color-warning-50: #fff3e0;
    --color-warning-100: #ffe0b2;
    --color-warning-200: #ffcc80;
    --color-warning-300: #ffb74d;
    --color-warning-400: #ffa726;
    --color-warning-500: #f39c12;  /* 主警告色 */
    --color-warning-600: #d68910;
    --color-warning-700: #f57c00;
    --color-warning-800: #ef6c00;
    --color-warning-900: #e65100;

    /* 语义色彩 - 错误/危险 (Error/Danger - Red) */
    --color-error-50: #ffebee;
    --color-error-100: #ffcdd2;
    --color-error-200: #ef9a9a;
    --color-error-300: #e57373;
    --color-error-400: #ef5350;
    --color-error-500: #e74c3c;  /* 主错误色 */
    --color-error-600: #c0392b;
    --color-error-700: #d32f2f;
    --color-error-800: #c62828;
    --color-error-900: #b71c1c;

    /* 语义色彩 - 信息 (Info - Light Blue) */
    --color-info-50: #e1f5fe;
    --color-info-100: #b3e5fc;
    --color-info-200: #81d4fa;
    --color-info-300: #4fc3f7;
    --color-info-400: #29b6f6;
    --color-info-500: #5dade2;  /* 主信息色 */
    --color-info-600: #4a9fd6;
    --color-info-700: #0288d1;
    --color-info-800: #0277bd;
    --color-info-900: #01579b;

    /* 中性灰度系统 (Neutral Gray Scale) - 10级精细灰度 */
    --color-gray-50: #fafafa;   /* 最浅灰 - 页面背景 */
    --color-gray-100: #f5f5f5;  /* 超浅灰 - 卡片背景 */
    --color-gray-200: #eeeeee;  /* 浅灰 - 分割线 */
    --color-gray-300: #e0e0e0;  /* 浅灰边框 */
    --color-gray-400: #bdbdbd;  /* 中浅灰 - 禁用边框 */
    --color-gray-500: #9e9e9e;  /* 中灰 - 辅助文本 */
    --color-gray-600: #757575;  /* 中深灰 - 次要文本 */
    --color-gray-700: #616161;  /* 深灰 - 正文 */
    --color-gray-800: #424242;  /* 更深灰 - 标题 */
    --color-gray-900: #212121;  /* 最深灰 - 主标题 */

    /* 特殊用途色彩 */
    --color-white: #ffffff;
    --color-black: #000000;
    --color-transparent: transparent;

    /* 表面色彩 (Surface Colors) - 用于不同层级的背景 */
    --surface-background: var(--color-gray-50);      /* 页面背景 */
    --surface-card: var(--color-white);              /* 卡片背景 */
    --surface-elevated: var(--color-white);          /* 浮层背景 */
    --surface-overlay: rgba(0, 0, 0, 0.5);          /* 遮罩层 */
    --surface-disabled: var(--color-gray-100);       /* 禁用状态背景 */
    --surface-hover: var(--color-gray-50);           /* 悬停状态背景 */

    /* 边框色彩 (Border Colors) */
    --border-light: var(--color-gray-200);           /* 浅色边框 */
    --border-medium: var(--color-gray-300);          /* 中等边框 */
    --border-dark: var(--color-gray-400);            /* 深色边框 */
    --border-focus: var(--color-primary-500);        /* 焦点边框 */

    /* 文本色彩 (Text Colors) */
    --text-primary: var(--color-gray-900);           /* 主要文本 */
    --text-secondary: var(--color-gray-700);         /* 次要文本 */
    --text-tertiary: var(--color-gray-600);          /* 三级文本 */
    --text-disabled: var(--color-gray-400);          /* 禁用文本 */
    --text-on-primary: var(--color-white);           /* 主色上的文本 */
    --text-on-dark: var(--color-white);              /* 深色背景上的文本 */
    --text-link: var(--color-primary-600);           /* 链接文本 */
    --text-link-hover: var(--color-primary-700);     /* 链接悬停 */

    /* Bootstrap变量映射 (保持兼容性) */
    --bs-primary: var(--color-primary-500);
    --bs-primary-rgb: 74, 137, 220;
    --bs-secondary: var(--color-secondary-500);
    --bs-success: var(--color-success-500);
    --bs-success-rgb: 72, 207, 173;
    --bs-warning: var(--color-warning-500);
    --bs-warning-rgb: 243, 156, 18;
    --bs-danger: var(--color-error-500);
    --bs-danger-rgb: 231, 76, 60;
    --bs-info: var(--color-info-500);
    --bs-info-rgb: 93, 173, 226;

    /* ========================================
       字体排印系统 (Typography System)
       ======================================== */

    /* 字体家族 (Font Families) */
    --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                        "Helvetica Neue", Arial, "Noto Sans", sans-serif,
                        "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-family-monospace: "SFMono-Regular", "Menlo", "Monaco", "Consolas",
                            "Liberation Mono", "Courier New", monospace;
    --font-family-heading: var(--font-family-base);

    /* 字号比例尺 (Font Size Scale) - 基于1.25倍模块化比例 */
    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 1rem;     /* 16px - 基准字号 */
    --font-size-md: 1.125rem;   /* 18px */
    --font-size-lg: 1.25rem;    /* 20px */
    --font-size-xl: 1.5rem;     /* 24px */
    --font-size-2xl: 2rem;      /* 32px */
    --font-size-3xl: 2.5rem;    /* 40px */
    --font-size-4xl: 3rem;      /* 48px */

    /* 行高系统 (Line Heights) */
    --line-height-tight: 1.2;   /* 紧凑 - 标题使用 */
    --line-height-normal: 1.5;  /* 正常 - 正文使用 */
    --line-height-relaxed: 1.8; /* 宽松 - 长文本使用 */

    /* 字重系统 (Font Weights) */
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;

    /* 字母间距 (Letter Spacing) */
    --letter-spacing-tight: -0.02em;   /* 标题使用 */
    --letter-spacing-normal: 0;        /* 正文使用 */
    --letter-spacing-wide: 0.02em;     /* 小字使用 */
    --letter-spacing-wider: 0.05em;    /* 全大写文本 */

    /* ========================================
       间距系统 (Spacing System)
       ======================================== */

    /* 基于8点网格的间距系统 */
    --space-0: 0;           /* 0px */
    --space-1: 0.25rem;     /* 4px */
    --space-2: 0.5rem;      /* 8px */
    --space-3: 0.75rem;     /* 12px */
    --space-4: 1rem;        /* 16px */
    --space-5: 1.25rem;     /* 20px */
    --space-6: 1.5rem;      /* 24px */
    --space-7: 1.75rem;     /* 28px */
    --space-8: 2rem;        /* 32px */
    --space-10: 2.5rem;     /* 40px */
    --space-12: 3rem;       /* 48px */
    --space-16: 4rem;       /* 64px */
    --space-20: 5rem;       /* 80px */
    --space-24: 6rem;       /* 96px */

    /* 语义化间距 (Semantic Spacing) */
    --spacing-component-gap: var(--space-4);    /* 组件内元素间距 */
    --spacing-section-gap: var(--space-8);      /* 区块间距 */
    --spacing-page-gap: var(--space-12);        /* 页面级间距 */

    /* 兼容旧变量 */
    --spacing-xs: var(--space-1);
    --spacing-sm: var(--space-2);
    --spacing-md: var(--space-3);
    --spacing-lg: var(--space-6);
    --spacing-xl: var(--space-8);
    --spacing-xxl: var(--space-12);

    /* ========================================
       圆角系统 (Border Radius System)
       ======================================== */

    --radius-none: 0;               /* 无圆角 */
    --radius-xs: 0.125rem;          /* 2px - 微小圆角 */
    --radius-sm: 0.25rem;           /* 4px - 小圆角 */
    --radius-md: 0.5rem;            /* 8px - 中等圆角 */
    --radius-lg: 0.75rem;           /* 12px - 大圆角 */
    --radius-xl: 1rem;              /* 16px - 超大圆角 */
    --radius-2xl: 1.5rem;           /* 24px - 特大圆角 */
    --radius-full: 9999px;          /* 完整圆角 - 用于圆形元素 */

    /* 兼容旧变量 */
    --border-radius-sm: var(--radius-sm);
    --border-radius-md: var(--radius-md);
    --border-radius-lg: var(--radius-lg);
    --border-radius-xl: var(--radius-xl);

    /* ========================================
       阴影系统 (Shadow System)
       ======================================== */

    /* 4层阴影系统 - 模拟Material Design的海拔 */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 2px 4px 0 rgba(0, 0, 0, 0.08),
                 0 1px 2px 0 rgba(0, 0, 0, 0.04);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
                 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
                 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
                 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);

    /* 特殊阴影 */
    --shadow-focus-primary: 0 0 0 3px rgba(74, 137, 220, 0.25);
    --shadow-focus-error: 0 0 0 3px rgba(231, 76, 60, 0.25);
    --shadow-focus-success: 0 0 0 3px rgba(72, 207, 173, 0.25);

    /* ========================================
       动画与过渡 (Animation & Transition)
       ======================================== */

    /* 过渡时长 (Duration) */
    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 350ms;
    --duration-slower: 500ms;

    /* 缓动函数 (Easing Functions) */
    --ease-linear: linear;
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* 常用过渡组合 */
    --transition-fast: all var(--duration-fast) var(--ease-out);
    --transition-normal: all var(--duration-normal) var(--ease-in-out);
    --transition-slow: all var(--duration-slow) var(--ease-in-out);
    --transition-colors: color var(--duration-normal) var(--ease-in-out),
                         background-color var(--duration-normal) var(--ease-in-out),
                         border-color var(--duration-normal) var(--ease-in-out);
    --transition-transform: transform var(--duration-normal) var(--ease-out);

    /* ========================================
       Z-index 层级系统 (Z-index System)
       ======================================== */

    --z-base: 0;                /* 基础层 */
    --z-dropdown: 1000;         /* 下拉菜单 */
    --z-sticky: 1020;           /* 吸顶元素 */
    --z-fixed: 1030;            /* 固定定位元素 */
    --z-modal-backdrop: 1040;   /* 模态框遮罩 */
    --z-modal: 1050;            /* 模态框 */
    --z-popover: 1060;          /* 弹出层 */
    --z-tooltip: 1070;          /* 提示框 */
    --z-notification: 1080;     /* 通知消息 */

    /* ========================================
       断点系统 (Breakpoints)
       ======================================== */

    /* 媒体查询断点 - 与Bootstrap保持一致 */
    --breakpoint-xs: 0;
    --breakpoint-sm: 576px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 992px;
    --breakpoint-xl: 1200px;
    --breakpoint-xxl: 1400px;

    /* ========================================
       尺寸系统 (Size System)
       ======================================== */

    /* 图标尺寸 */
    --icon-size-xs: 0.75rem;    /* 12px */
    --icon-size-sm: 1rem;       /* 16px */
    --icon-size-md: 1.25rem;    /* 20px */
    --icon-size-lg: 1.5rem;     /* 24px */
    --icon-size-xl: 2rem;       /* 32px */
    --icon-size-2xl: 2.5rem;    /* 40px */

    /* 按钮尺寸 */
    --button-height-sm: 2rem;       /* 32px */
    --button-height-md: 2.5rem;     /* 40px */
    --button-height-lg: 3rem;       /* 48px */

    /* 输入框尺寸 */
    --input-height-sm: 2rem;        /* 32px */
    --input-height-md: 2.5rem;      /* 40px */
    --input-height-lg: 3rem;        /* 48px */

    /* 内容最大宽度 */
    --container-max-width: 1200px;
    --content-max-width: 800px;
    --text-max-width: 65ch;
}

/* ========================================
   暗色主题 (Dark Theme)
   ======================================== */

@media (prefers-color-scheme: dark) {
    :root {
        /* 暗色模式色彩调整 */
        --surface-background: #121212;
        --surface-card: #1e1e1e;
        --surface-elevated: #2d2d2d;
        --surface-overlay: rgba(255, 255, 255, 0.1);
        --surface-disabled: #2d2d2d;
        --surface-hover: #2d2d2d;

        /* 暗色模式边框 */
        --border-light: #333333;
        --border-medium: #404040;
        --border-dark: #555555;

        /* 暗色模式文本 */
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
        --text-tertiary: #999999;
        --text-disabled: #666666;
        --text-on-dark: #ffffff;

        /* 暗色模式阴影 - 增强对比度 */
        --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
        --shadow-sm: 0 2px 4px 0 rgba(0, 0, 0, 0.25);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.35);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4);
    }
}

/* ========================================
   高对比度模式 (High Contrast Mode)
   ======================================== */

@media (prefers-contrast: high) {
    :root {
        /* 增强对比度 */
        --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.2);
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.25);
        --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.35);
        --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.4);

        /* 增强边框 */
        --border-light: var(--color-gray-400);
        --border-medium: var(--color-gray-500);
        --border-dark: var(--color-gray-600);
    }
}

/* ========================================
   减少动画模式 (Reduced Motion)
   ======================================== */

@media (prefers-reduced-motion: reduce) {
    :root {
        /* 禁用过渡动画 */
        --duration-fast: 0.01ms;
        --duration-normal: 0.01ms;
        --duration-slow: 0.01ms;
        --duration-slower: 0.01ms;
    }
}
