import{Q as O,d as W,I as K,G as Z,f as J,i as H,g as ve,h as be,aq as oe,q as ee,o as ae,a as P,Y as ge,D as ne,a0 as ye,b as Ve,R as ke,a8 as we,p as se,$ as he,at as Re,as as Ue,aE as Ee,az as Ce,ay as te,aF as Ie,F as xe,V as Te,aw as $e,aG as Ae,aH as Fe,ak as Ye,U as qe}from"./element-plus-IkZgpaz4.js";import{bT as S,bt as g,bA as le,bU as A,bV as V,c8 as e,c0 as a,c5 as f,bY as v,bG as ue,b$ as D,bv as E,c7 as ze,cC as Be,c4 as Ne,c6 as Y,c3 as L,gd as je,gi as De}from"./vendor-CdA3MjAt.js";import{L as re}from"./Loading-CmykbBZp.js";/* empty css                                                                          */import"./umo-editor-BmhDOXHm.js";/* empty css                                                                        */import{a as M,_ as G}from"./index.js";import{k as B,a as Pe,f as Se}from"./formatters-D7k9w9WL.js";import{b as Me,v as Ge,a as Le}from"./validators-DLLuJPij.js";import{E as Oe}from"./Empty-BNVBwC0L.js";import{s as We}from"./imageCompressor-D9CndpqW.js";import"./onnxruntime-DkHy2lK3.js";import"./mermaid-e-fO57px.js";import"./echarts-Cqw1j_Z-.js";const Je={class:"resume-basic-info-tab"},He=S({__name:"ResumeBasicInfoTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(q,{emit:F}){const R=q,U=F,{success:C,error:y}=M(),_=g(),i=g(!1),t=g({name:"",gender:"",birth_date:"",nationality:"",native_place:"",political_status:"",id_number:"",phone:"",email:"",address:"",introduction:""}),T={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:Le,trigger:"blur"}],email:[{validator:Ge,trigger:"blur"}],id_number:[{validator:Me,trigger:"blur"}]};le(()=>R.resumeData,l=>{l&&(t.value={name:l.name||"",gender:l.gender||"",birth_date:l.birth_date||"",nationality:l.nationality||"",native_place:l.native_place||"",political_status:l.political_status||"",id_number:l.id_number||"",phone:l.phone||"",email:l.email||"",address:l.address||"",introduction:l.introduction||""})},{immediate:!0,deep:!0});const $=async()=>{_.value&&await _.value.validate(async l=>{if(l){i.value=!0;try{const o=await B.updateResume(R.resumeId,t.value);o.success?(C("保存成功","基本信息已更新"),U("update")):y("保存失败",o.error||"未知错误")}catch(o){console.error("保存基本信息失败:",o),y("保存失败",o instanceof Error?o.message:"未知错误")}finally{i.value=!1}}})},s=()=>{var l;(l=_.value)==null||l.resetFields()};return(l,o)=>{const m=H,n=J,d=Z,I=be,w=ve,x=oe,k=K,p=ae,N=ee,h=P,c=W,u=O;return V(),A("div",Je,[e(u,null,{header:a(()=>[...o[11]||(o[11]=[v("span",null,"基本信息",-1)])]),default:a(()=>[e(c,{ref_key:"formRef",ref:_,model:t.value,rules:T,"label-width":"120px"},{default:a(()=>[e(k,{gutter:20},{default:a(()=>[e(d,{span:8},{default:a(()=>[e(n,{label:"姓名",prop:"name"},{default:a(()=>[e(m,{modelValue:t.value.name,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value.name=r),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:8},{default:a(()=>[e(n,{label:"性别",prop:"gender"},{default:a(()=>[e(w,{modelValue:t.value.gender,"onUpdate:modelValue":o[1]||(o[1]=r=>t.value.gender=r)},{default:a(()=>[e(I,{label:"男"},{default:a(()=>[...o[12]||(o[12]=[f("男",-1)])]),_:1}),e(I,{label:"女"},{default:a(()=>[...o[13]||(o[13]=[f("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(d,{span:8},{default:a(()=>[e(n,{label:"出生日期",prop:"birth_date"},{default:a(()=>[e(x,{modelValue:t.value.birth_date,"onUpdate:modelValue":o[2]||(o[2]=r=>t.value.birth_date=r),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,{gutter:20},{default:a(()=>[e(d,{span:8},{default:a(()=>[e(n,{label:"民族",prop:"nationality"},{default:a(()=>[e(m,{modelValue:t.value.nationality,"onUpdate:modelValue":o[3]||(o[3]=r=>t.value.nationality=r),placeholder:"如：汉族"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:8},{default:a(()=>[e(n,{label:"籍贯",prop:"native_place"},{default:a(()=>[e(m,{modelValue:t.value.native_place,"onUpdate:modelValue":o[4]||(o[4]=r=>t.value.native_place=r),placeholder:"如：北京市"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:8},{default:a(()=>[e(n,{label:"政治面貌",prop:"political_status"},{default:a(()=>[e(N,{modelValue:t.value.political_status,"onUpdate:modelValue":o[5]||(o[5]=r=>t.value.political_status=r),placeholder:"请选择",style:{width:"100%"}},{default:a(()=>[e(p,{label:"中共党员",value:"中共党员"}),e(p,{label:"共青团员",value:"共青团员"}),e(p,{label:"民主党派",value:"民主党派"}),e(p,{label:"群众",value:"群众"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,{gutter:20},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(n,{label:"身份证号",prop:"id_number"},{default:a(()=>[e(m,{modelValue:t.value.id_number,"onUpdate:modelValue":o[6]||(o[6]=r=>t.value.id_number=r),placeholder:"18位身份证号",maxlength:"18"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{label:"联系电话",prop:"phone"},{default:a(()=>[e(m,{modelValue:t.value.phone,"onUpdate:modelValue":o[7]||(o[7]=r=>t.value.phone=r),placeholder:"手机号码",maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,{gutter:20},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(n,{label:"电子邮箱",prop:"email"},{default:a(()=>[e(m,{modelValue:t.value.email,"onUpdate:modelValue":o[8]||(o[8]=r=>t.value.email=r),placeholder:"邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{label:"联系地址",prop:"address"},{default:a(()=>[e(m,{modelValue:t.value.address,"onUpdate:modelValue":o[9]||(o[9]=r=>t.value.address=r),placeholder:"详细地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{label:"个人简介",prop:"introduction"},{default:a(()=>[e(m,{modelValue:t.value.introduction,"onUpdate:modelValue":o[10]||(o[10]=r=>t.value.introduction=r),type:"textarea",rows:4,placeholder:"请简要介绍个人经历、专长、优势等"},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(h,{type:"primary",loading:i.value,onClick:$},{default:a(()=>[...o[14]||(o[14]=[f(" 保存 ",-1)])]),_:1},8,["loading"]),e(h,{onClick:s},{default:a(()=>[...o[15]||(o[15]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),Qe=G(He,[["__scopeId","data-v-9eb5d3ea"]]),Xe={class:"resume-education-tab"},Ke=S({__name:"ResumeEducationTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(q,{emit:F}){const R=q,U=F,{success:C,error:y}=M(),_=g(),i=g(!1),t=g({education_level:"",degree:"",university:"",major:"",graduation_date:""});le(()=>R.resumeData,s=>{s&&(t.value={education_level:s.education_level||"",degree:s.degree||"",university:s.university||"",major:s.major||"",graduation_date:s.graduation_date||""})},{immediate:!0,deep:!0});const T=async()=>{if(_.value){i.value=!0;try{const s=await B.updateResume(R.resumeId,t.value);s.success?(C("保存成功","教育信息已更新"),U("update")):y("保存失败",s.error||"未知错误")}catch(s){console.error("保存教育信息失败:",s),y("保存失败",s instanceof Error?s.message:"未知错误")}finally{i.value=!1}}},$=()=>{var s;(s=_.value)==null||s.resetFields()};return(s,l)=>{const o=ae,m=ee,n=J,d=Z,I=K,w=H,x=oe,k=P,p=W,N=O;return V(),A("div",Xe,[e(N,null,{header:a(()=>[...l[5]||(l[5]=[v("span",null,"教育信息",-1)])]),default:a(()=>[e(p,{ref_key:"formRef",ref:_,model:t.value,"label-width":"120px"},{default:a(()=>[e(I,{gutter:20},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(n,{label:"学历",prop:"education_level"},{default:a(()=>[e(m,{modelValue:t.value.education_level,"onUpdate:modelValue":l[0]||(l[0]=h=>t.value.education_level=h),placeholder:"请选择学历",style:{width:"100%"}},{default:a(()=>[e(o,{label:"博士",value:"博士"}),e(o,{label:"硕士",value:"硕士"}),e(o,{label:"本科",value:"本科"}),e(o,{label:"大专",value:"大专"}),e(o,{label:"高中",value:"高中"}),e(o,{label:"中专",value:"中专"}),e(o,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{label:"学位",prop:"degree"},{default:a(()=>[e(m,{modelValue:t.value.degree,"onUpdate:modelValue":l[1]||(l[1]=h=>t.value.degree=h),placeholder:"请选择学位",style:{width:"100%"}},{default:a(()=>[e(o,{label:"博士学位",value:"博士"}),e(o,{label:"硕士学位",value:"硕士"}),e(o,{label:"学士学位",value:"学士"}),e(o,{label:"无学位",value:"无"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I,{gutter:20},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(n,{label:"毕业院校",prop:"university"},{default:a(()=>[e(w,{modelValue:t.value.university,"onUpdate:modelValue":l[2]||(l[2]=h=>t.value.university=h),placeholder:"请输入毕业院校"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:a(()=>[e(n,{label:"专业",prop:"major"},{default:a(()=>[e(w,{modelValue:t.value.major,"onUpdate:modelValue":l[3]||(l[3]=h=>t.value.major=h),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I,{gutter:20},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(n,{label:"毕业时间",prop:"graduation_date"},{default:a(()=>[e(x,{modelValue:t.value.graduation_date,"onUpdate:modelValue":l[4]||(l[4]=h=>t.value.graduation_date=h),type:"date",placeholder:"选择毕业日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(k,{type:"primary",loading:i.value,onClick:T},{default:a(()=>[...l[6]||(l[6]=[f(" 保存 ",-1)])]),_:1},8,["loading"]),e(k,{onClick:$},{default:a(()=>[...l[7]||(l[7]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),Ze=G(Ke,[["__scopeId","data-v-15f0e911"]]),ea={class:"resume-work-tab"},aa=S({__name:"ResumeWorkTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(q,{emit:F}){const R=q,U=F,{success:C,error:y}=M(),_=g(),i=g(!1),t=g({current_position:"",professional_title:"",work_years:void 0,current_company:"",department:"",work_location:"",skills:"",certificates:"",awards:""});le(()=>R.resumeData,s=>{s&&(t.value={current_position:s.current_position||"",professional_title:s.professional_title||"",work_years:s.work_years,current_company:s.current_company||"",department:s.department||"",work_location:s.work_location||"",skills:s.skills||"",certificates:s.certificates||"",awards:s.awards||""})},{immediate:!0,deep:!0});const T=async()=>{if(_.value){i.value=!0;try{const s=await B.updateResume(R.resumeId,t.value);s.success?(C("保存成功","工作信息已更新"),U("update")):y("保存失败",s.error||"未知错误")}catch(s){console.error("保存工作信息失败:",s),y("保存失败",s instanceof Error?s.message:"未知错误")}finally{i.value=!1}}},$=()=>{var s;(s=_.value)==null||s.resetFields()};return(s,l)=>{const o=H,m=J,n=Z,d=K,I=ge,w=P,x=W,k=O;return V(),A("div",ea,[e(k,null,{header:a(()=>[...l[9]||(l[9]=[v("span",null,"工作信息",-1)])]),default:a(()=>[e(x,{ref_key:"formRef",ref:_,model:t.value,"label-width":"120px"},{default:a(()=>[e(d,{gutter:20},{default:a(()=>[e(n,{span:12},{default:a(()=>[e(m,{label:"当前职位",prop:"current_position"},{default:a(()=>[e(o,{modelValue:t.value.current_position,"onUpdate:modelValue":l[0]||(l[0]=p=>t.value.current_position=p),placeholder:"如：项目经理"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(m,{label:"职称",prop:"professional_title"},{default:a(()=>[e(o,{modelValue:t.value.professional_title,"onUpdate:modelValue":l[1]||(l[1]=p=>t.value.professional_title=p),placeholder:"如：高级工程师"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:20},{default:a(()=>[e(n,{span:12},{default:a(()=>[e(m,{label:"工作年限",prop:"work_years"},{default:a(()=>[e(I,{modelValue:t.value.work_years,"onUpdate:modelValue":l[2]||(l[2]=p=>t.value.work_years=p),min:0,max:50,placeholder:"年",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(m,{label:"当前单位",prop:"current_company"},{default:a(()=>[e(o,{modelValue:t.value.current_company,"onUpdate:modelValue":l[3]||(l[3]=p=>t.value.current_company=p),placeholder:"当前工作单位"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:20},{default:a(()=>[e(n,{span:12},{default:a(()=>[e(m,{label:"所在部门",prop:"department"},{default:a(()=>[e(o,{modelValue:t.value.department,"onUpdate:modelValue":l[4]||(l[4]=p=>t.value.department=p),placeholder:"部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(m,{label:"工作地点",prop:"work_location"},{default:a(()=>[e(o,{modelValue:t.value.work_location,"onUpdate:modelValue":l[5]||(l[5]=p=>t.value.work_location=p),placeholder:"工作城市"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,{label:"技能特长",prop:"skills"},{default:a(()=>[e(o,{modelValue:t.value.skills,"onUpdate:modelValue":l[6]||(l[6]=p=>t.value.skills=p),type:"textarea",rows:3,placeholder:"请输入技能特长，多个技能用逗号分隔，如：项目管理,需求分析,Java开发"},null,8,["modelValue"])]),_:1}),e(m,{label:"证书列表",prop:"certificates"},{default:a(()=>[e(o,{modelValue:t.value.certificates,"onUpdate:modelValue":l[7]||(l[7]=p=>t.value.certificates=p),type:"textarea",rows:2,placeholder:"请输入证书名称，多个证书用逗号分隔，如：PMP,软考高级"},null,8,["modelValue"])]),_:1}),e(m,{label:"获奖情况",prop:"awards"},{default:a(()=>[e(o,{modelValue:t.value.awards,"onUpdate:modelValue":l[8]||(l[8]=p=>t.value.awards=p),type:"textarea",rows:2,placeholder:"请输入获奖情况"},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(w,{type:"primary",loading:i.value,onClick:T},{default:a(()=>[...l[10]||(l[10]=[f(" 保存 ",-1)])]),_:1},8,["loading"]),e(w,{onClick:$},{default:a(()=>[...l[11]||(l[11]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),la=G(aa,[["__scopeId","data-v-00b6bb2c"]]),ta={class:"resume-attachments-tab"},oa={class:"card-header"},na={key:2,class:"attachments-grid"},sa={class:"attachment-header"},ua={class:"attachment-body"},ra=["title"],da={class:"file-info"},ia={class:"file-size"},ma={class:"file-date"},pa={key:0,class:"file-desc"},ca={class:"attachment-actions"},_a=S({__name:"ResumeAttachmentsTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(q,{emit:F}){const R=q,U=F,{success:C,error:y}=M(),_=g(!1),i=g([]),t=g(!1),T=g(!1),$=g(),s=g(),l=g({attachment_category:"resume",description:"",file:null}),o={attachment_category:[{required:!0,message:"请选择附件类型",trigger:"change"}]},m=c=>{switch(c){case"resume":return xe;case"id_card":return Ie;case"education":return te;case"degree":return te;case"qualification":return Ce;case"award":return Ee;default:return Ue}},n=c=>{switch(c){case"resume":return"#409eff";case"id_card":return"#f56c6c";case"education":return"#67c23a";case"degree":return"#e6a23c";case"qualification":return"#909399";case"award":return"#ff9800";default:return"#909399"}},d=c=>{switch(c){case"resume":return"primary";case"id_card":return"danger";case"education":return"success";case"degree":return"warning";case"qualification":return"info";case"award":return"warning";default:return"info"}},I=c=>{switch(c){case"resume":return"简历文件";case"id_card":return"身份证";case"education":return"学历证书";case"degree":return"学位证书";case"qualification":return"资质证书";case"award":return"获奖证书";default:return"其他材料"}},w=async()=>{_.value=!0;try{const c=await B.getResumeAttachments(R.resumeId);c.success&&c.data&&(i.value=c.data)}catch(c){console.error("加载附件列表失败:",c),y("加载失败",c instanceof Error?c.message:"未知错误")}finally{_.value=!1}},x=c=>{c.raw&&(l.value.file=c.raw)},k=()=>{t.value=!0},p=async()=>{$.value&&await $.value.validate(async c=>{var u;if(c){if(!l.value.file){y("请选择文件","请先选择要上传的文件");return}T.value=!0;try{let r=l.value.file;if(r.type.startsWith("image/")){const Q=l.value.attachment_category==="id_card"?"id_card":"photo";r=await We(r,Q),console.log("[ResumeAttachments] 图片已压缩")}const z=await B.uploadResumeAttachment(R.resumeId,r,l.value.attachment_category,l.value.description||void 0);z.success?(C("上传成功","附件已上传"),t.value=!1,(u=s.value)==null||u.clearFiles(),l.value={attachment_category:"resume",description:"",file:null},await w(),U("update")):y("上传失败",z.error||"未知错误")}catch(r){console.error("上传附件失败:",r),y("上传失败",r instanceof Error?r.message:"未知错误")}finally{T.value=!1}}})},N=c=>{const u=B.downloadResumeAttachment(c.attachment_id);window.open(u,"_blank")},h=async c=>{try{if(!confirm(`确定要删除附件 "${c.original_filename}" 吗？`))return;const u=await B.deleteResumeAttachment(c.attachment_id);u.success?(C("删除成功","附件已删除"),await w(),U("update")):y("删除失败",u.error||"未知错误")}catch(u){console.error("删除附件失败:",u),y("删除失败",u instanceof Error?u.message:"未知错误")}};return ue(()=>{w()}),(c,u)=>{const r=ne,z=P,Q=se,de=O,j=ae,ie=ee,X=J,me=H,pe=ke,ce=W,_e=Ve;return V(),A("div",ta,[e(de,null,{header:a(()=>[v("div",oa,[u[5]||(u[5]=v("span",null,"简历附件",-1)),e(z,{type:"primary",size:"small",onClick:k},{default:a(()=>[e(r,null,{default:a(()=>[e(E(ye))]),_:1}),u[4]||(u[4]=f(" 上传附件 ",-1))]),_:1})])]),default:a(()=>[_.value?(V(),D(E(re),{key:0,text:"加载附件中..."})):i.value.length?(V(),A("div",na,[(V(!0),A(ze,null,Be(i.value,b=>(V(),A("div",{key:b.attachment_id,class:"attachment-card"},[v("div",sa,[e(r,{size:32,color:n(b.attachment_category)},{default:a(()=>[(V(),D(Ne(m(b.attachment_category))))]),_:2},1032,["color"]),e(Q,{type:d(b.attachment_category),size:"small"},{default:a(()=>[f(Y(I(b.attachment_category)),1)]),_:2},1032,["type"])]),v("div",ua,[v("div",{class:"file-name",title:b.original_filename},Y(b.original_filename),9,ra),v("div",da,[v("span",ia,Y(E(Pe)(b.file_size)),1),v("span",ma,Y(E(Se)(b.uploaded_at,"date")),1)]),b.attachment_description?(V(),A("div",pa,Y(b.attachment_description),1)):L("",!0)]),v("div",ca,[e(z,{size:"small",onClick:fe=>N(b)},{default:a(()=>[e(r,null,{default:a(()=>[e(E(he))]),_:1}),u[6]||(u[6]=f(" 下载 ",-1))]),_:1},8,["onClick"]),e(z,{size:"small",type:"danger",onClick:fe=>h(b)},{default:a(()=>[e(r,null,{default:a(()=>[e(E(Re))]),_:1}),u[7]||(u[7]=f(" 删除 ",-1))]),_:1},8,["onClick"])])]))),128))])):(V(),D(E(Oe),{key:1,type:"no-data",description:"暂无附件"}))]),_:1}),e(_e,{modelValue:t.value,"onUpdate:modelValue":u[3]||(u[3]=b=>t.value=b),title:"上传简历附件",width:"500px"},{footer:a(()=>[e(z,{onClick:u[2]||(u[2]=b=>t.value=!1)},{default:a(()=>[...u[10]||(u[10]=[f("取消",-1)])]),_:1}),e(z,{type:"primary",loading:T.value,onClick:p},{default:a(()=>[...u[11]||(u[11]=[f(" 确定上传 ",-1)])]),_:1},8,["loading"])]),default:a(()=>[e(ce,{ref_key:"uploadFormRef",ref:$,model:l.value,rules:o,"label-width":"120px"},{default:a(()=>[e(X,{label:"附件类型",prop:"attachment_category"},{default:a(()=>[e(ie,{modelValue:l.value.attachment_category,"onUpdate:modelValue":u[0]||(u[0]=b=>l.value.attachment_category=b),placeholder:"请选择附件类型",style:{width:"100%"}},{default:a(()=>[e(j,{label:"简历文件",value:"resume"}),e(j,{label:"身份证",value:"id_card"}),e(j,{label:"学历证书",value:"education"}),e(j,{label:"学位证书",value:"degree"}),e(j,{label:"资质证书",value:"qualification"}),e(j,{label:"获奖证书",value:"award"}),e(j,{label:"其他材料",value:"other"})]),_:1},8,["modelValue"])]),_:1}),e(X,{label:"附件说明",prop:"description"},{default:a(()=>[e(me,{modelValue:l.value.description,"onUpdate:modelValue":u[1]||(u[1]=b=>l.value.description=b),type:"textarea",rows:2,placeholder:"请简要说明附件内容（可选）"},null,8,["modelValue"])]),_:1}),e(X,{label:"选择文件",prop:"file"},{default:a(()=>[e(pe,{ref_key:"uploadRef",ref:s,"auto-upload":!1,limit:1,"on-change":x,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",drag:""},{tip:a(()=>[...u[8]||(u[8]=[v("div",{class:"el-upload__tip"}," 支持PDF、DOC、DOCX、JPG、PNG格式，文件大小不超过20MB ",-1)])]),default:a(()=>[e(r,{class:"el-icon--upload"},{default:a(()=>[e(E(we))]),_:1}),u[9]||(u[9]=v("div",{class:"el-upload__text"},[f(" 拖拽文件到这里 或 "),v("em",null,"点击上传")],-1))]),_:1},512)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),fa=G(_a,[["__scopeId","data-v-686973bc"]]),va={class:"resume-detail"},ba={class:"detail-header"},ga={class:"header-title"},ya={key:1,class:"detail-content"},Va={class:"tab-label"},ka={class:"tab-label"},wa={class:"tab-label"},ha={class:"tab-label"},Ra=S({__name:"ResumeDetail",setup(q){const F=je(),R=De(),{error:U}=M(),C=g(!1),y=g("basic"),_=g(0),i=g({}),t=n=>n==="博士"?"danger":n==="硕士"?"warning":n==="本科"?"success":"info",T=n=>{switch(n){case"active":return"success";case"inactive":return"warning";case"archived":return"info";default:return"info"}},$=n=>{switch(n){case"active":return"活跃";case"inactive":return"离职";case"archived":return"已归档";default:return n}},s=async()=>{C.value=!0;try{const n=await B.getResume(_.value);n.success&&n.data?i.value=n.data:(U("加载失败","无法获取简历信息"),m())}catch(n){console.error("加载简历数据失败:",n),U("加载失败",n instanceof Error?n.message:"未知错误"),m()}finally{C.value=!1}},l=n=>{console.log("切换到Tab:",n)},o=async()=>{await s()},m=()=>{R.push("/knowledge/resume-library")};return ue(()=>{const n=F.params.id;if(n){if(_.value=parseInt(n,10),isNaN(_.value)){U("参数错误","无效的简历ID"),m();return}s()}else U("参数错误","缺少简历ID"),m()}),(n,d)=>{const I=P,w=se,x=ne,k=Te,p=qe;return V(),A("div",va,[v("div",ba,[e(I,{onClick:m,icon:"ArrowLeft"},{default:a(()=>[...d[1]||(d[1]=[f("返回列表",-1)])]),_:1}),v("div",ga,[v("h2",null,Y(i.value.name||"简历详情"),1),i.value.education_level?(V(),D(w,{key:0,type:t(i.value.education_level)},{default:a(()=>[f(Y(i.value.education_level),1)]),_:1},8,["type"])):L("",!0),i.value.current_position?(V(),D(w,{key:1,type:"info"},{default:a(()=>[f(Y(i.value.current_position),1)]),_:1})):L("",!0),i.value.status?(V(),D(w,{key:2,type:T(i.value.status)},{default:a(()=>[f(Y($(i.value.status)),1)]),_:1},8,["type"])):L("",!0)])]),C.value?(V(),D(E(re),{key:0,text:"加载简历信息中..."})):(V(),A("div",ya,[e(p,{modelValue:y.value,"onUpdate:modelValue":d[0]||(d[0]=N=>y.value=N),class:"resume-tabs",onTabChange:l},{default:a(()=>[e(k,{name:"basic"},{label:a(()=>[v("span",Va,[e(x,null,{default:a(()=>[e(E($e))]),_:1}),d[2]||(d[2]=f(" 基本信息 ",-1))])]),default:a(()=>[e(Qe,{"resume-id":_.value,"resume-data":i.value,onUpdate:o},null,8,["resume-id","resume-data"])]),_:1}),e(k,{name:"education"},{label:a(()=>[v("span",ka,[e(x,null,{default:a(()=>[e(E(Ae))]),_:1}),d[3]||(d[3]=f(" 教育信息 ",-1))])]),default:a(()=>[e(Ze,{"resume-id":_.value,"resume-data":i.value,onUpdate:o},null,8,["resume-id","resume-data"])]),_:1}),e(k,{name:"work"},{label:a(()=>[v("span",wa,[e(x,null,{default:a(()=>[e(E(Fe))]),_:1}),d[4]||(d[4]=f(" 工作信息 ",-1))])]),default:a(()=>[e(la,{"resume-id":_.value,"resume-data":i.value,onUpdate:o},null,8,["resume-id","resume-data"])]),_:1}),e(k,{name:"attachments"},{label:a(()=>[v("span",ha,[e(x,null,{default:a(()=>[e(E(Ye))]),_:1}),d[5]||(d[5]=f(" 附件管理 ",-1))])]),default:a(()=>[e(fa,{"resume-id":_.value,"resume-data":i.value,onUpdate:o},null,8,["resume-id","resume-data"])]),_:1})]),_:1},8,["modelValue"])]))])}}}),ja=G(Ra,[["__scopeId","data-v-2d29e80e"]]);export{ja as default};
