import{t as e}from"./tender-B2_G1CPt.js";import{u as l}from"./project-D1NKtbTH.js";import{c2 as t,c5 as a,cR as s,bS as i,cv as o,ct as n,c1 as r,de as c,av as d,ef as u,be as p,bY as f,aw as m,dg as v,eg as h,bX as _,cJ as y,bU as b,aL as g,aM as w,aO as F,a$ as x,aQ as C,aV as k,e2 as j,bT as I,df as $,eh as z,aR as P,aZ as E,b0 as T,aY as H,aT as S,aS as K,aU as D,aX as L,bN as R,b2 as U,b4 as N,b5 as A,bZ as B,dk as M,b7 as V,aN as O,bl as W,bm as Y,cE as J,a_ as Q,b8 as X,c8 as Z,b1 as q,c0 as G,ei as ee,bi as le,bj as te,bv as ae}from"./index.js";/* empty css               */import{f as se,a as ie}from"./helpers-BsogEk_7.js";import{E as oe}from"./index-5dFIUF4u.js";/* empty css                                                                          */import"./DocumentPreview.vue_vue_type_style_index_0_scoped_056f7814_lang-CJRCEOay.js";/* empty css                             *//* empty css                    *//* empty css                     *//* empty css                *//* empty css                *//* empty css                */import{a as ne,E as re}from"./index-B-vavaW6.js";import{E as ce}from"./index-CSVRQ7Lr.js";import{E as de}from"./index-D2m2pKqu.js";import{E as ue,a as pe}from"./index-Bfmi5a2x.js";import{E as fe}from"./index-CKL8-Dtp.js";import{E as me,v as ve}from"./DocumentPreview-BVX8lDJX.js";import{E as he,a as _e}from"./index-BAt828Vi.js";import{E as ye}from"./index-DG0KKHwq.js";const be=e=>t(e)||a(e)||s(e),ge=i({accordion:Boolean,modelValue:{type:r([Array,String,Number]),default:()=>c([])},expandIconPosition:{type:r([String]),default:"right"},beforeCollapse:{type:r(Function)}}),we={[n]:be,[o]:be},Fe=Symbol("collapseContextKey"),xe=g({name:"ElCollapse"});var Ce=b(g({...xe,props:ge,emits:we,setup(e,{expose:l,emit:t}){const a=e,{activeNames:s,setActiveNames:i}=((e,l)=>{const t=d(u(e.modelValue)),a=a=>{t.value=a;const s=e.accordion?t.value[0]:t.value;l(n,s),l(o,s)},s=l=>{if(e.accordion)a([t.value[0]===l?"":l]);else{const e=[...t.value],s=e.indexOf(l);s>-1?e.splice(s,1):e.push(l),a(e)}};return p(()=>e.modelValue,()=>t.value=u(e.modelValue),{deep:!0}),v(Fe,{activeNames:t,handleItemClick:async l=>{const{beforeCollapse:t}=e;if(!t)return void s(l);const a=t(l);[h(a),_(a)].includes(!0)||y("ElCollapse","beforeCollapse must return type `Promise<boolean>` or `boolean`"),h(a)?a.then(e=>{!1!==e&&s(l)}).catch(e=>{}):a&&s(l)}}),{activeNames:t,setActiveNames:a}})(a,t),{rootKls:r}=(e=>{const l=f("collapse");return{rootKls:m(()=>[l.b(),l.b(`icon-position-${e.expandIconPosition}`)])}})(a);return l({activeNames:s,setActiveNames:i}),(e,l)=>(F(),w("div",{class:C(k(r))},[x(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const ke=i({title:{type:String,default:""},name:{type:r([String,Number]),default:void 0},icon:{type:I,default:j},disabled:Boolean}),je=g({name:"ElCollapseItem"});var Ie=b(g({...je,props:ke,setup(e,{expose:l}){const t=e,{focusing:a,id:s,isActive:i,handleFocus:o,handleHeaderClick:n,handleEnterClick:r}=(e=>{const l=$(Fe),{namespace:t}=f("collapse"),a=d(!1),s=d(!1),i=z(),o=m(()=>i.current++),n=m(()=>{var l;return null!=(l=e.name)?l:`${t.value}-id-${i.prefix}-${k(o)}`}),r=m(()=>null==l?void 0:l.activeNames.value.includes(k(n)));return{focusing:a,id:o,isActive:r,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:a.value=!0},50)},handleHeaderClick:t=>{if(e.disabled)return;const i=t.target;(null==i?void 0:i.closest("input, textarea, select"))||(null==l||l.handleItemClick(k(n)),a.value=!1,s.value=!0)},handleEnterClick:e=>{const t=e.target;(null==t?void 0:t.closest("input, textarea, select"))||(e.preventDefault(),null==l||l.handleItemClick(k(n)))}}})(t),{arrowKls:c,headKls:u,rootKls:p,itemTitleKls:v,itemWrapperKls:h,itemContentKls:_,scopedContentId:y,scopedHeadId:b}=((e,{focusing:l,isActive:t,id:a})=>{const s=f("collapse"),i=m(()=>[s.b("item"),s.is("active",k(t)),s.is("disabled",e.disabled)]),o=m(()=>[s.be("item","header"),s.is("active",k(t)),{focusing:k(l)&&!e.disabled}]),n=m(()=>[s.be("item","arrow"),s.is("active",k(t))]);return{itemTitleKls:m(()=>[s.be("item","title")]),arrowKls:n,headKls:o,rootKls:i,itemWrapperKls:m(()=>s.be("item","wrap")),itemContentKls:m(()=>s.be("item","content")),scopedContentId:m(()=>s.b(`content-${k(a)}`)),scopedHeadId:m(()=>s.b(`head-${k(a)}`))}})(t,{focusing:a,isActive:i,id:s});return l({isActive:i}),(e,l)=>(F(),w("div",{class:C(k(p))},[P("div",{id:k(b),class:C(k(u)),"aria-expanded":k(i),"aria-controls":k(y),"aria-describedby":k(y),tabindex:e.disabled?-1:0,role:"button",onClick:k(n),onKeydown:R(U(k(r),["stop"]),["space","enter"]),onFocus:k(o),onBlur:e=>a.value=!1},[P("span",{class:C(k(v))},[x(e.$slots,"title",{isActive:k(i)},()=>[T(H(e.title),1)])],2),x(e.$slots,"icon",{isActive:k(i)},()=>[E(k(L),{class:C(k(c))},{default:S(()=>[(F(),K(D(e.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),E(k(me),null,{default:S(()=>[N(P("div",{id:k(y),role:"region",class:C(k(h)),"aria-hidden":!k(i),"aria-labelledby":k(b)},[P("div",{class:C(k(_))},[x(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[A,k(i)]])]),_:3})],2))}}),[["__file","collapse-item.vue"]]);const $e=B(Ce,{CollapseItem:Ie}),ze=M(Ie);function Pe(){const t=l(),a=d([]),s=d(!1),i=d(null),o=d({tenderFile:null,templateFile:null,technicalFile:null,businessResponseFile:null,p2pResponseFile:null,techProposalFile:null}),n=m(()=>a.value.find(e=>e.id===t.projectId)),r=m(()=>a.value.length>0),c=m(()=>null!==o.value.tenderFile),u=m(()=>null!==o.value.templateFile),p=m(()=>null!==o.value.technicalFile),f=async(l,a)=>{if(h(),(null==a?void 0:a.onClear)&&a.onClear(),l){try{const a=await e.getProject(l);a.data&&t.setCurrentProject(a.data)}catch(s){V.error("è·å–é¡¹ç›®è¯¦æƒ…å¤±è´¥")}await v(l,a)}else t.clearCurrentProject()},v=async(l,t)=>{var a,n,r,c,d,u,p,f,m;s.value=!0;try{const s=(await e.getProject(l)).data;if(!s)return void V.warning("æœªæ‰¾åˆ°é¡¹ç›®æ•°æ®");const i=s.step1_data,v={tenderFile:null,templateFile:null,technicalFile:null,businessResponseFile:null,p2pResponseFile:null,techProposalFile:null};if(null==i?void 0:i.file_path){const e=(null==(a=(i.file_name||i.file_path.split("/").pop()||"æ‹›æ ‡æ–‡æ¡£").split(".").pop())?void 0:a.toLowerCase())||"doc";["doc","docx"].includes(e);v.tenderFile={name:i.file_name||"æ‹›æ ‡æ–‡æ¡£",url:i.file_path,status:"success",uid:Date.now()+Math.random(),size:i.file_size||0}}if(null==i?void 0:i.response_file_path){const e=i.response_file_path.split("/").pop()||"åº”ç­”æ¨¡æ¿",l=(null==(n=e.split(".").pop())?void 0:n.toLowerCase())||"doc";["doc","docx"].includes(l);v.templateFile={name:e,url:i.response_file_path,status:"success",uid:Date.now()+Math.random()+1,size:0}}if(null==i?void 0:i.technical_file_path){const e=i.technical_file_path.split("/").pop()||"æŠ€æœ¯éœ€æ±‚æ–‡æ¡£",l=(null==(r=e.split(".").pop())?void 0:r.toLowerCase())||"doc";["doc","docx"].includes(l);v.technicalFile={name:e,url:i.technical_file_path,status:"success",uid:Date.now()+Math.random()+2,size:0}}if(null==i?void 0:i.business_response_file){const e=i.business_response_file,t=(null==(d=((null==(c=e.file_path)?void 0:c.split("/").pop())||"å•†åŠ¡åº”ç­”æ–‡ä»¶").split(".").pop())?void 0:d.toLowerCase())||"docx",a=["doc","docx"].includes(t);v.businessResponseFile={success:!0,outputFile:e.file_path,downloadUrl:_(e.file_path),previewUrl:a?`/api/business-response/preview/${l}`:void 0,stats:e.stats||{},message:"è¯¥é¡¹ç›®å·²æœ‰å•†åŠ¡åº”ç­”æ–‡ä»¶",isHistory:!0,generated_at:e.generated_at||i.updated_at}}if(null==i?void 0:i.technical_point_to_point_file){const e=i.technical_point_to_point_file,t=(null==(p=((null==(u=e.file_path)?void 0:u.split("/").pop())||"ç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶").split(".").pop())?void 0:p.toLowerCase())||"docx",a=["doc","docx"].includes(t);v.p2pResponseFile={success:!0,outputFile:e.file_path,downloadUrl:_(e.file_path),previewUrl:a?`/api/point-to-point/preview/${l}`:void 0,stats:e.stats||{},message:"è¯¥é¡¹ç›®å·²æœ‰ç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶",isHistory:!0,generated_at:e.generated_at||i.updated_at}}if(null==i?void 0:i.technical_proposal_file){const e=i.technical_proposal_file,t=(null==(m=((null==(f=e.file_path)?void 0:f.split("/").pop())||"æŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶").split(".").pop())?void 0:m.toLowerCase())||"docx",a=["doc","docx"].includes(t);v.techProposalFile={success:!0,outputFile:e.file_path,downloadUrl:_(e.file_path),previewUrl:a?`/api/tech-proposal/preview/${l}`:void 0,stats:e.stats||{},message:"è¯¥é¡¹ç›®å·²æœ‰æŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶",isHistory:!0,generated_at:e.generated_at||i.updated_at}}o.value=v,(null==t?void 0:t.onDocumentsLoaded)&&t.onDocumentsLoaded(v)}catch(v){i.value="åŠ è½½é¡¹ç›®æ–‡æ¡£å¤±è´¥",V.error(i.value)}finally{s.value=!1}},h=()=>{o.value={tenderFile:null,templateFile:null,technicalFile:null,businessResponseFile:null,p2pResponseFile:null,techProposalFile:null}},_=e=>{if(e.startsWith("/api/"))return e.includes("?")?`${e}&download=true`:`${e}?download=true`;let l=e;const t="/Users/lvhe/Downloads/zhongbiao/zhongbiao/";return l.startsWith(t)&&(l=l.substring(42)),l.startsWith("ai_tender_system/data/")?l=l.substring(22):l.startsWith("data/")&&(l=l.substring(5)),`/api/files/serve/${l}?download=true`};return{projects:a,loading:s,error:i,currentDocuments:o,selectedProject:n,hasProjects:r,hasTenderFile:c,hasTemplateFile:u,hasTechnicalFile:p,loadProjects:async l=>{var t;s.value=!0,i.value=null;try{const s=await e.getProjects({page:1,page_size:100,...l});a.value=(null==(t=s.data)?void 0:t.items)||[],0===a.value.length&&V.warning("æš‚æ— é¡¹ç›®æ•°æ®")}catch(o){i.value="åŠ è½½é¡¹ç›®åˆ—è¡¨å¤±è´¥",V.error(i.value)}finally{s.value=!1}},handleProjectChange:f,loadProjectDocuments:v,clearDocuments:h,restoreProjectFromStore:async e=>t.projectId?(await f(t.projectId,e),t.projectId):null,filePathToUploadFile:(e,l)=>({name:l||e.split("/").pop()||"æ–‡ä»¶",url:e,status:"success",uid:Date.now()+Math.random(),size:0}),getDownloadUrl:_}}function Ee(e={}){const{onFileLoaded:l,onFileCancelled:t,onSyncSuccess:a}=e,s=d(!1),i=d(null),o=d(!1),n=d(!1),r=m(()=>!!i.value),c=e=>({technicalFile:"æŠ€æœ¯éœ€æ±‚æ–‡ä»¶",tenderFile:"æ‹›æ ‡æ–‡æ¡£",templateFile:"åº”ç­”æ¨¡æ¿",businessResponseFile:"å•†åŠ¡åº”ç­”æ–‡ä»¶",p2pResponseFile:"ç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶",techProposalFile:"æŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶"}[e]||"æ–‡ä»¶");return{useHitlFile:s,hitlFileInfo:i,hasHitlFile:r,syncing:o,synced:n,loadFromHITL:(e,t="technicalFile")=>{const a=e[t];return a?(i.value={filename:a.filename||a.name||"æœªçŸ¥æ–‡ä»¶",file_path:a.file_path||a.url||"",file_size:a.file_size||a.size,file_url:a.file_url||a.url},s.value=!0,n.value=!1,V.success({message:`å·²åŠ è½½HITL${c(t)}: ${i.value.filename}`,duration:3e3}),l&&l(i.value),!0):(V.warning(`å½“å‰é¡¹ç›®æ²¡æœ‰${c(t)}`),!1)},cancelHitlFile:()=>{s.value=!1,i.value=null,n.value=!1,V.info("å·²å–æ¶ˆä½¿ç”¨HITLæ–‡ä»¶"),t&&t()},syncToHitl:async(e,l,t)=>{if(!e)return V.error("é¡¹ç›®IDæ— æ•ˆ"),!1;if(!l)return V.error("æ–‡ä»¶è·¯å¾„æ— æ•ˆ"),!1;o.value=!0;try{const s=await fetch(`/api/tender-processing/sync-file/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:l,file_type:t})}),i=s.headers.get("content-type");if(!(null==i?void 0:i.includes("application/json"))){await s.text();throw new Error(`æœåŠ¡å™¨è¿”å›å¼‚å¸¸å“åº” (${s.status}): ${s.statusText}ã€‚å¯èƒ½æ˜¯åç«¯é…ç½®é—®é¢˜ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ã€‚`)}const o=await s.json();if(o.success||s.ok)return n.value=!0,V.success({message:o.message||"å·²æˆåŠŸåŒæ­¥åˆ°æŠ•æ ‡é¡¹ç›®",duration:3e3}),a&&await a(),!0;throw new Error(o.error||o.message||"åŒæ­¥å¤±è´¥")}catch(s){let e="åŒæ­¥åˆ°é¡¹ç›®å¤±è´¥";return s.message?e=s.message:"TypeError"===s.name&&(e="ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"),V.error({message:e,duration:5e3}),!1}finally{o.value=!1}},resetSyncStatus:()=>{n.value=!1}}}const Te={class:"stats-card"},He={key:0,class:"stats-title"},Se={class:"stat-item"},Ke={class:"stat-prefix"},De={class:"stat-suffix"},Le=Q(g({__name:"StatsCard",props:{title:{},stats:{},statItems:{},span:{default:6},gutter:{default:20},valueStyle:{default:()=>({})}},setup(e){const l=e,t=[{key:"total_replacements",label:"æ–‡æœ¬æ›¿æ¢",suffix:"å¤„"},{key:"tables_processed",label:"è¡¨æ ¼å¤„ç†",suffix:"ä¸ª"},{key:"cells_filled",label:"å•å…ƒæ ¼å¡«å……",suffix:"ä¸ª"},{key:"images_inserted",label:"å›¾ç‰‡æ’å…¥",suffix:"å¼ "}],a=m(()=>l.statItems||t),s=e=>{const t=e.split(".");let a=l.stats;for(const l of t)if(a=null==a?void 0:a[l],null==a)break;return"number"==typeof a?a:0};return(l,t)=>{const i=ce,o=re,n=ne;return F(),w("div",Te,[e.title?(F(),w("h4",He,H(e.title),1)):O("",!0),E(n,{gutter:e.gutter},{default:S(()=>[(F(!0),w(W,null,Y(a.value,l=>(F(),K(o,{key:l.key,span:e.span},{default:S(()=>[P("div",Se,[E(i,{title:l.label,value:s(l.key),precision:l.precision,"value-style":e.valueStyle},J({_:2},[l.prefix?{name:"prefix",fn:S(()=>[P("span",Ke,H(l.prefix),1)]),key:"0"}:void 0,l.suffix?{name:"suffix",fn:S(()=>[P("span",De,H(l.suffix),1)]),key:"1"}:void 0]),1032,["title","value","precision","value-style"])])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])])}}}),[["__scopeId","data-v-a61794d1"]]),Re={class:"alert-content"},Ue={class:"file-info"},Ne={class:"file-details"},Ae={class:"file-label"},Be={class:"file-name"},Me={key:0,class:"file-size"},Ve={class:"alert-actions"},Oe=Q(g({__name:"HitlFileAlert",props:{fileInfo:{},type:{default:"success"},label:{default:"ä½¿ç”¨HITLæ–‡ä»¶:"},showCancel:{type:Boolean,default:!0},cancelText:{default:"å–æ¶ˆä½¿ç”¨"},showTag:{type:Boolean,default:!0}},emits:["cancel"],setup(e,{emit:l}){const t=l,a=()=>{t("cancel")};return(l,t)=>{const s=L,i=oe,o=q,n=Z;return e.fileInfo?(F(),K(n,{key:0,type:e.type,closable:!1,class:"hitl-file-alert"},{title:S(()=>[P("div",Re,[P("div",Ue,[E(s,{class:"file-icon"},{default:S(()=>[E(k(X))]),_:1}),P("div",Ne,[P("span",Ae,H(e.label),1),P("span",Be,H(e.fileInfo.filename),1),e.fileInfo.file_size?(F(),w("span",Me," ("+H(k(se)(e.fileInfo.file_size))+") ",1)):O("",!0),e.showTag?(F(),K(i,{key:1,type:"success",size:"small",class:"hitl-tag"},{default:S(()=>[...t[0]||(t[0]=[T(" å·²ä»æŠ•æ ‡é¡¹ç›®åŠ è½½ ",-1)])]),_:1})):O("",!0)])]),P("div",Ve,[x(l.$slots,"actions",{},()=>[e.showCancel?(F(),K(o,{key:0,type:"text",size:"small",onClick:a},{default:S(()=>[E(s,null,{default:S(()=>[E(k(G))]),_:1}),T(" "+H(e.cancelText),1)]),_:1})):O("",!0)],!0)])])]),_:3},8,["type"])):O("",!0)}}}),[["__scopeId","data-v-1a132715"]]),We={class:"history-files-panel"},Ye={class:"card-header"},Je={class:"header-title"},Qe={class:"current-file-content"},Xe={class:"history-actions"},Ze={class:"collapse-header"},qe={class:"filename-cell"},Ge=Q(g({__name:"HistoryFilesPanel",props:{title:{default:""},currentFile:{},historyFiles:{},loading:{type:Boolean,default:!1},showRegenerate:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},statItems:{},currentFileMessage:{default:"è¯¥é¡¹ç›®å·²æœ‰ç”Ÿæˆæ–‡ä»¶"},showEditorOpen:{type:Boolean,default:!1}},emits:["openInEditor","preview","download","regenerate","refresh"],setup(e){const l=d([]),t=e=>{if(!e)return"-";let l=e;try{l=decodeURIComponent(e)}catch{}const t=l.split("/");return t[t.length-1]||"-"};return(a,s)=>{const i=oe,o=Z,n=pe,r=fe,c=ue,d=L,u=q,p=de,f=_e,m=he,v=ye,h=ze,_=$e,y=ve;return F(),w("div",We,[e.currentFile?(F(),K(p,{key:0,shadow:"never",class:"current-file-card"},{header:S(()=>[P("div",Ye,[P("div",Je,[P("span",null,H(e.title||"ğŸ“„ è¯¥é¡¹ç›®çš„ç”Ÿæˆæ–‡ä»¶"),1),E(i,{type:"info"},{default:S(()=>[...s[6]||(s[6]=[T("å†å²æ–‡ä»¶",-1)])]),_:1})])])]),default:S(()=>[P("div",Qe,[E(o,{type:"info",title:e.currentFile.message||e.currentFileMessage,closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},null,8,["title"]),e.currentFile.stats&&e.showStats?(F(),K(k(Le),{key:0,stats:e.currentFile.stats,"stat-items":e.statItems},null,8,["stats","stat-items"])):O("",!0),E(c,{column:2,border:"",style:{"margin-bottom":"20px"}},{default:S(()=>[E(n,{label:"æ–‡ä»¶å"},{default:S(()=>[T(H(t(e.currentFile.outputFile||e.currentFile.file_path)),1)]),_:1}),E(n,{label:"ä¸‹è½½åœ°å€"},{default:S(()=>[E(r,{href:e.currentFile.downloadUrl,type:"primary"},{default:S(()=>[T(H(t(e.currentFile.downloadUrl)),1)]),_:1},8,["href"])]),_:1})]),_:1}),P("div",Xe,[e.showEditorOpen?(F(),K(u,{key:0,type:"primary",size:"large",onClick:s[0]||(s[0]=l=>a.$emit("openInEditor",e.currentFile))},{default:S(()=>[E(d,null,{default:S(()=>[E(k(ee))]),_:1}),s[7]||(s[7]=T(" åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ ",-1))]),_:1})):O("",!0),E(u,{type:"primary",size:"large",icon:k(le),onClick:s[1]||(s[1]=l=>a.$emit("preview",e.currentFile))},{default:S(()=>[...s[8]||(s[8]=[T(" é¢„è§ˆWord ",-1)])]),_:1},8,["icon"]),E(u,{type:"success",size:"large",icon:k(te),onClick:s[2]||(s[2]=l=>a.$emit("download",e.currentFile))},{default:S(()=>[...s[9]||(s[9]=[T(" ä¸‹è½½ ",-1)])]),_:1},8,["icon"]),e.showRegenerate?(F(),K(u,{key:1,size:"large",icon:k(ae),onClick:s[3]||(s[3]=e=>a.$emit("regenerate"))},{default:S(()=>[...s[10]||(s[10]=[T(" é‡æ–°ç”Ÿæˆ ",-1)])]),_:1},8,["icon"])):O("",!0)])])]),_:1})):O("",!0),e.historyFiles.length>0?(F(),K(_,{key:1,modelValue:l.value,"onUpdate:modelValue":s[5]||(s[5]=e=>l.value=e),class:"history-collapse"},{default:S(()=>[E(h,{name:"history"},{title:S(()=>[P("div",Ze,[P("span",null,"ğŸ“‚ æŸ¥çœ‹æ‰€æœ‰å†å²å¤„ç†æ–‡ä»¶ ("+H(e.historyFiles.length)+")",1),l.value.includes("history")?(F(),K(u,{key:0,type:"primary",size:"small",loading:e.loading,onClick:s[4]||(s[4]=U(e=>a.$emit("refresh"),["stop"])),style:{"margin-left":"16px"}},{default:S(()=>[...s[11]||(s[11]=[T(" åˆ·æ–°åˆ—è¡¨ ",-1)])]),_:1},8,["loading"])):O("",!0)])]),default:S(()=>[E(p,{shadow:"never",style:{border:"none"}},{default:S(()=>[N((F(),K(m,{data:e.historyFiles,border:"",stripe:"","max-height":"400"},{default:S(()=>[E(f,{type:"index",label:"åºå·",width:"60"}),E(f,{prop:"filename",label:"æ–‡ä»¶å","min-width":"300"},{default:S(({row:e})=>[P("div",qe,[E(d,null,{default:S(()=>[E(k(X))]),_:1}),P("span",null,H(e.filename),1)])]),_:1}),E(f,{prop:"size",label:"æ–‡ä»¶å¤§å°",width:"120"},{default:S(({row:e})=>[T(H(k(se)(e.size)),1)]),_:1}),E(f,{prop:"process_time",label:"å¤„ç†æ—¶é—´",width:"180"},{default:S(({row:e})=>[T(H(k(ie)(e.process_time||e.generated_at,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),E(f,{label:"æ“ä½œ",width:"200",fixed:"right"},{default:S(({row:e})=>[E(u,{type:"primary",size:"small",onClick:l=>a.$emit("preview",e)},{default:S(()=>[...s[12]||(s[12]=[T(" é¢„è§ˆ ",-1)])]),_:1},8,["onClick"]),E(u,{type:"success",size:"small",onClick:l=>a.$emit("download",e)},{default:S(()=>[...s[13]||(s[13]=[T(" ä¸‹è½½ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[y,e.loading]]),e.loading||0!==e.historyFiles.length?O("",!0):(F(),K(v,{key:0,description:"æš‚æ— å†å²æ–‡ä»¶","image-size":100}))]),_:1})]),_:1})]),_:1},8,["modelValue"])):O("",!0)])}}}),[["__scopeId","data-v-6e6ba197"]]);export{ze as E,Oe as H,Le as S,Ee as a,$e as b,Ge as c,Pe as u};
