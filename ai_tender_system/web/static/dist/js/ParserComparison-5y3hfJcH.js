import{e,g as a,t as l,v as t,bk as s,_ as r,q as u,n as c,E as o,Q as n,y as d,a3 as i,J as p}from"./index.js";/* empty css                                                                          *//* empty css                             *//* empty css                    *//* empty css                     *//* empty css               *//* empty css                */import{C as v}from"./Card-DUwk2sCS.js";/* empty css                                                                        *//* empty css                */import{ap as m,an as _,c5 as h,av as y,ar as f,au as b,aJ as g,az as k,aQ as x,aq as w,as as z,at as j,ax as C,aU as F,aV as V,ay as T,am as R,aR as $,aW as E}from"./editor-CZjPbfOV.js";/* empty css                   *//* empty css                */import{E as A}from"./strings-DJcURSVo.js";import{E as I}from"./index-DgL8sT1k.js";import{E as U,a as W}from"./el-select-C9o-AACO.js";import{E as L}from"./index-DWyHgBtB.js";import{E as D}from"./index-B-MyBJlZ.js";import{E as P,a as G}from"./index-BD95_Z3Y.js";import{E as B,a as H}from"./index-CMv7nVh-.js";import"./index-DXP9jmAU.js";import"./toNumber-CU4OoPoC.js";import"./_baseIteratee--ghgRM4z.js";import"./index-CjQ1irBn.js";import"./cloneDeep-syPWYH98.js";import"./flatMap-MHcQtZLg.js";import"./map-TpIQimNd.js";import"./_baseEach-BmaHGmee.js";import"./index-DzFGJ3Ky.js";import"./raf-B6jWGkGX.js";const Q={uploadDocument:function(a){const l=new FormData;return l.append("file",a),e.post("/parser-debug/upload",l,{headers:{"Content-Type":"multipart/form-data"},timeout:3e5})},getTestResult:function(a){return e.get(`/parser-debug/${a}`)},saveGroundTruth:function(a,l,t="user"){return e.post(`/parser-debug/${a}/ground-truth`,{chapters:l,annotator:t})},getHistory:function(a){return e.get("/parser-debug/history",{params:a})},deleteTest:function(a){return e.delete(`/parser-debug/${a}/delete`)},exportReport:function(a){return e.get(`/parser-debug/export/${a}`,{responseType:"blob"})}},q={class:"chapter-title"},J={class:"chapter-info"},M={class:"word-count"},N={key:0,class:"children"},S=r(m({__name:"ChapterTreeItem",props:{chapter:{},groundTruth:{},level:{}},setup(e){const r=e,u=_(()=>{if(!r.groundTruth)return"unknown";const e=a=>{const l=[];for(const t of a)l.push(t),t.children&&t.children.length>0&&l.push(...e(t.children));return l},a=e(r.groundTruth),l=e=>e.replace(/^\d+\.\s*/,"").replace(/^\d+\.\d+\s*/,"").replace(/^ç¬¬[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å\d]+[ç« èŠ‚éƒ¨åˆ†]\s*/,"").replace(/\s+/g,"").toLowerCase(),t=l(r.chapter.title);return a.some(e=>l(e.title)===t)?"matched":"false_positive"}),c=_(()=>({"status-matched":"matched"===u.value,"status-false-positive":"false_positive"===u.value,"status-unknown":"unknown"===u.value}));return(r,o)=>{const n=a,d=h("ChapterTreeItem",!0);return f(),y("div",{class:"chapter-tree-item",style:T({paddingLeft:20*e.level+"px"})},[b("div",{class:k(["chapter-row",c.value])},[b("span",{class:k(["level-badge",`level-${e.chapter.level}`])}," L"+x(e.chapter.level),3),b("span",q,x(e.chapter.title),1),b("span",J,[b("span",M,x(e.chapter.word_count)+"å­—",1),"matched"===u.value?(f(),w(n,{key:0,class:"match-icon success"},{default:z(()=>[j(C(l))]),_:1})):"missed"===u.value?(f(),w(n,{key:1,class:"match-icon error"},{default:z(()=>[j(C(t))]),_:1})):"false_positive"===u.value?(f(),w(n,{key:2,class:"match-icon warning"},{default:z(()=>[j(C(s))]),_:1})):g("",!0)])],2),e.chapter.children&&e.chapter.children.length>0?(f(),y("div",N,[(f(!0),y(F,null,V(e.chapter.children,a=>(f(),w(d,{key:a.id,chapter:a,"ground-truth":e.groundTruth,level:e.level+1},null,8,["chapter","ground-truth","level"]))),128))])):g("",!0)],4)}}}),[["__scopeId","data-v-3e35c8e3"]]),O={class:"card-header"},K={class:"card-body"},X={class:"statistics"},Y={class:"stat-item"},Z={class:"value"},ee={class:"stat-item"},ae={class:"value"},le={class:"stat-item"},te={class:"value"},se={key:0,class:"stat-item"},re={class:"chapter-list"},ue={class:"chapter-list-header"},ce={key:0,class:"error-message"},oe=r(m({__name:"MethodCard",props:{title:{},result:{},groundTruth:{},accuracy:{},color:{default:"#409EFF"}},setup(e){const a=e,l=R(!1),t=_(()=>a.result.success?a.accuracy?a.accuracy.f1_score>=.9?"success":a.accuracy.f1_score>=.7?"":a.accuracy.f1_score>=.5?"warning":"danger":"info":"danger"),s=_(()=>a.result.success?a.accuracy?`F1: ${(100*a.accuracy.f1_score).toFixed(1)}%`:"æˆåŠŸ":"å¤±è´¥"),r=()=>{l.value=!l.value};return(a,o)=>{const n=A,d=u,i=c,p=I;return f(),w(p,{class:"method-card","body-style":{padding:"0"}},{header:z(()=>[b("div",O,[b("span",{class:"method-title",style:T({color:e.color})},x(e.title),5),j(n,{type:t.value,size:"small"},{default:z(()=>[$(x(s.value),1)]),_:1},8,["type"])])]),default:z(()=>{var a,t,s,u,c;return[b("div",K,[b("div",X,[b("div",Y,[o[0]||(o[0]=b("span",{class:"label"},"è¯†åˆ«ç« èŠ‚:",-1)),b("span",Z,x((null==(a=e.result.chapters)?void 0:a.length)||0),1)]),b("div",ee,[o[1]||(o[1]=b("span",{class:"label"},"æ€»å­—æ•°:",-1)),b("span",ae,x((c=(null==(t=e.result.statistics)?void 0:t.total_words)||0,c>=1e4?`${(c/1e4).toFixed(1)}ä¸‡`:c.toString())),1)]),b("div",le,[o[2]||(o[2]=b("span",{class:"label"},"è€—æ—¶:",-1)),b("span",te,x((null==(s=e.result.performance)?void 0:s.elapsed_formatted)||"-"),1)]),e.accuracy?(f(),y("div",se,[o[3]||(o[3]=b("span",{class:"label"},"F1åˆ†æ•°:",-1)),b("span",{class:k(["value f1-score",(u=e.accuracy.f1_score,u>=.9?"excellent":u>=.7?"good":u>=.5?"fair":"poor")])},x((100*e.accuracy.f1_score).toFixed(1))+"% ",3)])):g("",!0)]),b("div",re,[b("div",ue,[o[4]||(o[4]=b("span",null,"ç« èŠ‚åˆ—è¡¨",-1)),j(d,{size:"small",text:"",onClick:r},{default:z(()=>[$(x(l.value?"æ”¶èµ·":"å±•å¼€å…¨éƒ¨"),1)]),_:1})]),e.result.success?(f(),y("div",{key:1,class:k(["chapters-container",{collapsed:!l.value}])},[(f(!0),y(F,null,V(e.result.chapters,a=>(f(),w(S,{key:a.id,chapter:a,"ground-truth":e.groundTruth,level:0},null,8,["chapter","ground-truth"]))),128))],2)):(f(),y("div",ce,[j(i,{title:e.result.error||"è§£æå¤±è´¥",type:"error",closable:!1},null,8,["title"])]))])])]}),_:1})}}}),[["__scopeId","data-v-04b838bf"]]),ne={class:"card-header"},de={key:1,class:"action-buttons"},ie={class:"card-body"},pe={key:0,class:"empty-state"},ve={key:1,class:"editing-area"},me={class:"template-selector mb-3"},_e={class:"editable-list"},he={key:2,class:"display-area"},ye={class:"chapter-count"},fe={class:"chapters-container"},be=r(m({__name:"GroundTruthCard",props:{modelValue:{},documentId:{},availableResults:{}},emits:["update:modelValue","save"],setup(e,{emit:a}){const l=e,t=a,s=R(!1),r=R([]),d=R(""),i=()=>{s.value=!0,l.modelValue?r.value=h(l.modelValue):r.value=[]},p=()=>{s.value=!1,r.value=[],d.value=""},v=()=>{if(0===r.value.length)return void o.warning("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªç« èŠ‚");const e=r.value.map((e,a)=>({id:`gt_${a}`,level:e.level,title:e.title,para_start_idx:0,para_end_idx:0,word_count:0,preview_text:"",auto_selected:!1,skip_recommended:!1,children:[]}));t("update:modelValue",e),t("save",e),s.value=!1},m=e=>{if("manual"===e)return void(r.value=[]);if(!l.availableResults||!l.availableResults[e])return void o.warning("è¯¥æ–¹æ³•çš„ç»“æœä¸å¯ç”¨");const a=l.availableResults[e];a.success&&a.chapters?(r.value=h(a.chapters),o.success(`å·²åŠ è½½${a.method_name}çš„ç»“æœ`)):o.error("è¯¥æ–¹æ³•è§£æå¤±è´¥")},_=()=>{r.value.push({title:"",level:1})},h=e=>{const a=[],l=e=>{for(const t of e)a.push({title:t.title,level:t.level}),t.children&&t.children.length>0&&l(t.children)};return l(e),a},k=e=>{if(!e)return 0;let a=0;const l=e=>{for(const t of e)a++,t.children&&t.children.length>0&&l(t.children)};return l(e),a};return(a,l)=>{const t=u,o=L,h=c,C=W,T=U,R=n,E=I;return f(),w(E,{class:"ground-truth-card"},{header:z(()=>[b("div",ne,[l[3]||(l[3]=b("span",{class:"title"},"âœ… æ­£ç¡®ç­”æ¡ˆï¼ˆäººå·¥æ ‡æ³¨ï¼‰",-1)),s.value?(f(),y("div",de,[j(t,{size:"small",onClick:p},{default:z(()=>[...l[1]||(l[1]=[$("å–æ¶ˆ",-1)])]),_:1}),j(t,{size:"small",type:"success",onClick:v},{default:z(()=>[...l[2]||(l[2]=[$("ä¿å­˜",-1)])]),_:1})])):(f(),w(t,{key:0,size:"small",type:"primary",onClick:i},{default:z(()=>[$(x(e.modelValue?"ç¼–è¾‘æ ‡æ³¨":"å¼€å§‹æ ‡æ³¨"),1)]),_:1}))])]),default:z(()=>[b("div",ie,[e.modelValue||s.value?s.value?(f(),y("div",ve,[j(h,{title:"æ ‡æ³¨è¯´æ˜",type:"info",closable:!1,class:"mb-3"},{default:z(()=>[...l[5]||(l[5]=[b("p",null,"è¯·ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ–¹æ³•çš„ç»“æœä½œä¸ºåŸºç¡€ï¼Œç„¶åè°ƒæ•´ç« èŠ‚åˆ—è¡¨ã€‚",-1),b("p",null,"æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹ç« èŠ‚ã€‚",-1)])]),_:1}),b("div",me,[l[6]||(l[6]=b("span",null,"åŸºäºæ–¹æ³•ç»“æœ:",-1)),j(T,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),placeholder:"é€‰æ‹©æ–¹æ³•",onChange:m},{default:z(()=>{var a,l;return[j(C,{label:"è¯­ä¹‰é”šç‚¹è§£æ",value:"semantic"}),j(C,{label:"æ—§ç›®å½•å®šä½",value:"old_toc"}),j(C,{label:"æ ·å¼è¯†åˆ«",value:"style"}),j(C,{label:"å¤§çº²çº§åˆ«è¯†åˆ«",value:"outline"}),(null==(l=null==(a=e.availableResults)?void 0:a.azure)?void 0:l.success)?(f(),w(C,{key:0,label:"Azure Form Recognizer",value:"azure"})):g("",!0),j(C,{label:"æ‰‹åŠ¨åˆ›å»º",value:"manual"})]}),_:1},8,["modelValue"])]),b("div",_e,[j(t,{size:"small",onClick:_,class:"mb-2"},{default:z(()=>[...l[7]||(l[7]=[$(" + æ·»åŠ ç« èŠ‚ ",-1)])]),_:1}),(f(!0),y(F,null,V(r.value,(e,a)=>(f(),y("div",{key:a,class:"editable-chapter"},[j(R,{modelValue:e.title,"onUpdate:modelValue":a=>e.title=a,placeholder:"ç« èŠ‚æ ‡é¢˜",size:"small"},{prepend:z(()=>[j(T,{modelValue:e.level,"onUpdate:modelValue":a=>e.level=a,style:{width:"80px"},size:"small"},{default:z(()=>[j(C,{label:"L1",value:1}),j(C,{label:"L2",value:2}),j(C,{label:"L3",value:3})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),j(t,{size:"small",type:"danger",text:"",onClick:e=>(e=>{r.value.splice(e,1)})(a)},{default:z(()=>[...l[8]||(l[8]=[$(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])]))),128))])])):(f(),y("div",he,[b("div",ye," å…± "+x(k(e.modelValue))+" ä¸ªç« èŠ‚ ",1),b("div",fe,[(f(!0),y(F,null,V(e.modelValue,e=>(f(),w(S,{key:e.id,chapter:e,level:0},null,8,["chapter"]))),128))])])):(f(),y("div",pe,[j(o,{description:"å°šæœªæ ‡æ³¨æ­£ç¡®ç­”æ¡ˆ"},{default:z(()=>[j(t,{type:"primary",onClick:i},{default:z(()=>[...l[4]||(l[4]=[$("å¼€å§‹æ ‡æ³¨",-1)])]),_:1})]),_:1})]))])]),_:1})}}}),[["__scopeId","data-v-d2bcdc40"]]),ge={class:"parser-comparison"},ke={class:"upload-section"},xe={key:0,class:"selected-file"},we={key:0,class:"doc-info"},ze={key:1,class:"comparison-grid"},je={key:2,class:"accuracy-section"},Ce={class:"best-method-summary"},Fe={class:"history-section"},Ve={class:"section-header"},Te={key:0},Re={key:1,class:"text-muted"},$e={key:1,class:"text-muted"},Ee={key:1,class:"text-muted"},Ae={key:1,class:"text-muted"},Ie={key:1,class:"text-muted"},Ue={key:1,class:"text-muted"},We={key:0},Le={style:{"font-size":"12px","margin-top":"4px",color:"#606266"}},De={key:1,class:"text-muted"},Pe={key:0,class:"empty-state"},Ge=r(m({__name:"ParserComparison",setup(e){const l=R(),t=R(null),s=R(!1),r=R(""),n=R(null),m=R(null),h=R(null),F=R(null),V=R(!1),T=R([]),I=e=>{t.value=e.raw},U=async()=>{var e,a;if(t.value){s.value=!0;try{const e=await Q.uploadDocument(t.value),a=e.data||e;a&&a.success?(r.value=a.document_id,n.value=a.document_info,m.value=a.results,h.value=a.ground_truth||null,F.value=a.accuracy||null,o.success("è§£æå®Œæˆï¼")):o.error((null==a?void 0:a.error)||"è§£æå¤±è´¥")}catch(l){o.error((null==(a=null==(e=l.response)?void 0:e.data)?void 0:a.error)||l.message||"è§£æå¤±è´¥")}finally{s.value=!1}}else o.warning("è¯·å…ˆé€‰æ‹©æ–‡ä»¶")},W=async e=>{if(r.value)try{const a=await Q.saveGroundTruth(r.value,e,"user");a.success&&(F.value=a.accuracy,o.success("æ ‡æ³¨å·²ä¿å­˜ï¼Œå‡†ç¡®ç‡å·²è®¡ç®—"))}catch(a){o.error("ä¿å­˜å¤±è´¥")}else o.error("æ²¡æœ‰å½“å‰æ–‡æ¡£")},q=async()=>{try{const e=await Q.getHistory({limit:50});T.value=e.tests}catch(e){o.error("åŠ è½½å†å²è®°å½•å¤±è´¥")}},J=async()=>{await q(),V.value=!0},M=_(()=>{if(!F.value||!m.value)return[];return[{key:"semantic",name:"è¯­ä¹‰é”šç‚¹è§£æ"},{key:"style",name:"æ ·å¼è¯†åˆ«(å¢å¼º)"},{key:"hybrid",name:"æ··åˆå¯å‘å¼è¯†åˆ«"},{key:"azure",name:"Azure Form Recognizer"},{key:"docx_native",name:"Wordå¤§çº²çº§åˆ«è¯†åˆ«"}].filter(({key:e})=>m.value[e]).map(({key:e,name:a})=>{var l,t,s,r,u,c,o;return{method:a,precision:(null==(l=F.value[e])?void 0:l.precision)||0,recall:(null==(t=F.value[e])?void 0:t.recall)||0,f1:(null==(s=F.value[e])?void 0:s.f1_score)||0,detected:(null==(u=null==(r=m.value[e])?void 0:r.chapters)?void 0:u.length)||0,elapsed:(null==(o=null==(c=m.value[e])?void 0:c.performance)?void 0:o.elapsed_formatted)||"-",is_best:F.value.best_method===e}})}),N=e=>e>=.9?"score-excellent":e>=.7?"score-good":e>=.5?"score-fair":"score-poor",S=()=>{var e;return{semantic:"è¯­ä¹‰é”šç‚¹è§£æ",style:"æ ·å¼è¯†åˆ«(å¢å¼º)",hybrid:"æ··åˆå¯å‘å¼è¯†åˆ«",azure:"Azure Form Recognizer",docx_native:"Wordå¤§çº²çº§åˆ«è¯†åˆ«"}[null==(e=F.value)?void 0:e.best_method]||"æœªçŸ¥"};return E(async()=>{await q()}),(e,_)=>{const R=u,E=D,O=G,K=A,X=P,Y=H,Z=B,ee=c,ae=L;return f(),y("div",ge,[j(C(v),{title:"ğŸ“Š ç›®å½•è§£ææ–¹æ³•å¯¹æ¯”å·¥å…·"},{extra:z(()=>[j(R,{onClick:J,type:"text"},{default:z(()=>[..._[1]||(_[1]=[$("å†å²è®°å½•",-1)])]),_:1})]),default:z(()=>{var e,u,c,v,A;return[b("div",ke,[j(E,{ref_key:"uploadRef",ref:l,"auto-upload":!1,"on-change":I,"show-file-list":!1,accept:".docx"},{default:z(()=>[j(R,{type:"primary",icon:C(d)},{default:z(()=>[..._[2]||(_[2]=[$("é€‰æ‹©æ ‡ä¹¦æ–‡æ¡£ (.docx)",-1)])]),_:1},8,["icon"])]),_:1},512),t.value?(f(),y("span",xe," å·²é€‰æ‹©: "+x(t.value.name),1)):g("",!0),j(R,{onClick:U,loading:s.value,disabled:!t.value,type:"success"},{default:z(()=>[..._[3]||(_[3]=[$(" å¼€å§‹è§£æå¯¹æ¯” ",-1)])]),_:1},8,["loading","disabled"])]),n.value?(f(),y("div",we,[j(X,{column:4,border:""},{default:z(()=>[j(O,{label:"æ–‡ä»¶å"},{default:z(()=>[$(x(n.value.filename),1)]),_:1}),j(O,{label:"æ€»æ®µè½æ•°"},{default:z(()=>[$(x(n.value.total_paragraphs),1)]),_:1}),j(O,{label:"ç›®å½•æ£€æµ‹"},{default:z(()=>[j(K,{type:n.value.has_toc?"success":"warning"},{default:z(()=>[$(x(n.value.has_toc?`âœ“ æ£€æµ‹åˆ° (${n.value.toc_items_count}é¡¹)`:"âœ— æœªæ£€æµ‹åˆ°"),1)]),_:1},8,["type"])]),_:1}),j(O,{label:"ä¸Šä¼ æ—¶é—´"},{default:z(()=>[$(x(n.value.upload_time||"-"),1)]),_:1})]),_:1})])):g("",!0),m.value?(f(),y("div",ze,[j(oe,{title:"æ–¹æ³•1: è¯­ä¹‰é”šç‚¹è§£æ",result:m.value.semantic,"ground-truth":h.value,accuracy:null==(e=F.value)?void 0:e.semantic,color:"#67C23A"},null,8,["result","ground-truth","accuracy"]),j(oe,{title:"æ–¹æ³•2: æ ·å¼è¯†åˆ«(å¢å¼º)",result:m.value.style,"ground-truth":h.value,accuracy:null==(u=F.value)?void 0:u.style,color:"#409EFF"},null,8,["result","ground-truth","accuracy"]),j(oe,{title:"æ–¹æ³•3: æ··åˆå¯å‘å¼è¯†åˆ«",result:m.value.hybrid,"ground-truth":h.value,accuracy:null==(c=F.value)?void 0:c.hybrid,color:"#E6A23C"},null,8,["result","ground-truth","accuracy"]),m.value.azure?(f(),w(oe,{key:0,title:"æ–¹æ³•4: Azure Form Recognizer",result:m.value.azure,"ground-truth":h.value,accuracy:null==(v=F.value)?void 0:v.azure,color:"#00B7C3"},null,8,["result","ground-truth","accuracy"])):g("",!0),m.value.docx_native?(f(),w(oe,{key:1,title:"æ–¹æ³•5: Wordå¤§çº²çº§åˆ«è¯†åˆ«",result:m.value.docx_native,"ground-truth":h.value,accuracy:null==(A=F.value)?void 0:A.docx_native,color:"#9C27B0"},null,8,["result","ground-truth","accuracy"])):g("",!0),j(be,{modelValue:h.value,"onUpdate:modelValue":_[0]||(_[0]=e=>h.value=e),"document-id":r.value,"available-results":m.value,onSave:W},null,8,["modelValue","document-id","available-results"])])):g("",!0),F.value?(f(),y("div",je,[_[5]||(_[5]=b("h3",null,"å‡†ç¡®ç‡å¯¹æ¯”",-1)),j(Z,{data:M.value,border:"",stripe:""},{default:z(()=>[j(Y,{prop:"method",label:"è§£ææ–¹æ³•",width:"180"}),j(Y,{prop:"precision",label:"ç²¾ç¡®ç‡ (P)",width:"120"},{default:z(({row:e})=>[b("span",{class:k(N(e.precision))},x((100*e.precision).toFixed(1))+"% ",3)]),_:1}),j(Y,{prop:"recall",label:"å¬å›ç‡ (R)",width:"120"},{default:z(({row:e})=>[b("span",{class:k(N(e.recall))},x((100*e.recall).toFixed(1))+"% ",3)]),_:1}),j(Y,{prop:"f1",label:"F1åˆ†æ•°",width:"120"},{default:z(({row:e})=>{return[j(K,{type:(a=e.f1,a>=.9?"success":a>=.7?"":a>=.5?"warning":"danger"),effect:"dark"},{default:z(()=>[$(x((100*e.f1).toFixed(1))+"% ",1)]),_:2},1032,["type"])];var a}),_:1}),j(Y,{prop:"detected",label:"è¯†åˆ«æ•°é‡",width:"100"}),j(Y,{prop:"elapsed",label:"è€—æ—¶",width:"100"}),j(Y,{label:"çŠ¶æ€",width:"100"},{default:z(({row:e})=>[e.is_best?(f(),w(K,{key:0,type:"success"},{default:z(()=>[..._[4]||(_[4]=[$("æœ€ä½³",-1)])]),_:1})):g("",!0)]),_:1})]),_:1},8,["data"]),b("div",Ce,[j(ee,{title:`æœ€ä½³æ–¹æ³•: ${S()} (F1åˆ†æ•°: ${(100*F.value.best_f1_score).toFixed(1)}%)`,type:"success",closable:!1},null,8,["title"])])])):g("",!0),b("div",Fe,[b("div",Ve,[_[7]||(_[7]=b("h3",null,"ğŸ“‹ å†å²è§£æè®°å½•",-1)),j(R,{onClick:q,icon:C(d),size:"small"},{default:z(()=>[..._[6]||(_[6]=[$(" åˆ·æ–°åˆ—è¡¨ ",-1)])]),_:1},8,["icon"])]),j(Z,{data:T.value,border:"",stripe:""},{default:z(()=>[j(Y,{label:"æ–‡ä»¶å","min-width":"200"},{default:z(({row:e})=>{return[(l=e.filename,!l||l.length<3||"docx"===l||".docx"===l||l.startsWith("-.")||l.startsWith("--")?(f(),y("span",Re,[j(C(a),null,{default:z(()=>[j(C(i))]),_:1}),_[8]||(_[8]=$(" (æ–‡ä»¶åå·²æŸå) ",-1))])):(f(),y("span",Te,x(e.filename),1)))];var l}),_:1}),j(Y,{prop:"upload_time",label:"è§£ææ—¶é—´",width:"180"}),j(Y,{label:"ç›®å½•æ£€æµ‹",width:"100",align:"center"},{default:z(({row:e})=>[j(K,{type:e.has_toc?"success":"info",size:"small"},{default:z(()=>[$(x(e.has_toc?`âœ“ (${e.toc_items_count})`:"âœ—"),1)]),_:2},1032,["type"])]),_:1}),j(Y,{label:"è¯­ä¹‰é”šç‚¹",width:"100",align:"center"},{default:z(({row:e})=>[e.semantic_f1?(f(),y("span",{key:0,class:k(N(e.semantic_f1))},x((100*e.semantic_f1).toFixed(1))+"% ",3)):(f(),y("span",$e,"-"))]),_:1}),j(Y,{label:"æ ·å¼è¯†åˆ«",width:"100",align:"center"},{default:z(({row:e})=>[e.style_f1?(f(),y("span",{key:0,class:k(N(e.style_f1))},x((100*e.style_f1).toFixed(1))+"% ",3)):(f(),y("span",Ee,"-"))]),_:1}),j(Y,{label:"æ··åˆå¯å‘å¼",width:"100",align:"center"},{default:z(({row:e})=>[e.hybrid_f1?(f(),y("span",{key:0,class:k(N(e.hybrid_f1))},x((100*e.hybrid_f1).toFixed(1))+"% ",3)):(f(),y("span",Ae,"-"))]),_:1}),j(Y,{label:"Azure",width:"100",align:"center"},{default:z(({row:e})=>[e.azure_f1?(f(),y("span",{key:0,class:k(N(e.azure_f1))},x((100*e.azure_f1).toFixed(1))+"% ",3)):(f(),y("span",Ie,"-"))]),_:1}),j(Y,{label:"Wordå¤§çº²",width:"110",align:"center"},{default:z(({row:e})=>[e.docx_native_f1?(f(),y("span",{key:0,class:k(N(e.docx_native_f1))},x((100*e.docx_native_f1).toFixed(1))+"% ",3)):(f(),y("span",Ue,"-"))]),_:1}),j(Y,{label:"æœ€ä½³æ–¹æ³•",width:"150",align:"center"},{default:z(({row:e})=>[e.best_method?(f(),y("div",We,[j(K,{type:e.best_f1_score>=.9?"success":"primary",effect:"dark"},{default:z(()=>{return[$(x((a=e.best_method,{semantic:"è¯­ä¹‰é”šç‚¹",style:"æ ·å¼",hybrid:"æ··åˆå¯å‘å¼",azure:"Azure",docx_native:"Wordå¤§çº²"}[a]||a)),1)];var a}),_:2},1032,["type"]),b("div",Le," F1: "+x((100*e.best_f1_score).toFixed(1))+"% ",1)])):(f(),y("span",De,"æœªæ ‡æ³¨"))]),_:1}),j(Y,{label:"æ“ä½œ",width:"150",fixed:"right",align:"center"},{default:z(({row:e})=>[j(R,{size:"small",type:"primary",onClick:a=>(async e=>{try{const a=await Q.getTestResult(e);a.success&&(r.value=a.document_id,n.value=a.document_info,m.value=a.results,h.value=a.ground_truth||null,F.value=a.accuracy||null,V.value=!1,o.success("æµ‹è¯•ç»“æœå·²åŠ è½½"))}catch(a){o.error("åŠ è½½å¤±è´¥")}})(e.document_id)},{default:z(()=>[..._[9]||(_[9]=[$(" æŸ¥çœ‹ ",-1)])]),_:1},8,["onClick"]),j(R,{size:"small",type:"danger",onClick:a=>(async e=>{try{await p.confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡æµ‹è¯•è®°å½•å—ï¼Ÿ","ç¡®è®¤åˆ é™¤",{type:"warning"}),await Q.deleteTest(e),o.success("å·²åˆ é™¤"),J()}catch(a){}})(e.document_id)},{default:z(()=>[..._[10]||(_[10]=[$(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),0===T.value.length?(f(),y("div",Pe,[j(ae,{description:"æš‚æ— å†å²è§£æè®°å½•"})])):g("",!0)])]}),_:1})])}}}),[["__scopeId","data-v-c35a2872"]]);export{Ge as default};
