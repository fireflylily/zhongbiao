import{M as e,P as a,N as l,O as t,Q as u,R as r,d,q as s,e as o,y as n,h as i,z as c,F as m,aS as p,aT as _,ak as v,bF as f,am as b,bG as y,s as h,G as g,aW as V,K as w,aj as k,bH as j,bI as x,bJ as U}from"./index.js";/* empty css                */import{a as C,E as D}from"./el-tab-pane-By4zK3XC.js";/* empty css               */import{L as I}from"./Loading-BYRlvOhH.js";/* empty css                                                                            *//* empty css                                                        *//* empty css                */import{am as R,an as E,ap as F,au as z,ar as T,ax as P,as as q,aD as A,aw as M,aX as Y,aq as G,ay as N,az as B,aA as O,aU as J,aC as L,av as W}from"./editor-CeUA3ax_.js";/* empty css                             *//* empty css                   *//* empty css                     *//* empty css                    *//* empty css                */import{k as Q,a as X,f as H}from"./formatters-B5qX4Bdv.js";import{E as K,a as S}from"./el-select-ke7UrdxB.js";import{E as Z}from"./el-date-picker-panel-DKPdkS07.js";import{b as $,v as ee,a as ae}from"./validators-BHjNrE0Y.js";import{E as le}from"./index-DE8f5ksc.js";import{E as te,a as ue}from"./index-CJcdScbE.js";import{E as re}from"./el-input-number-CqnKEX05.js";import{E as de}from"./Empty-D7Fl5Zrw.js";import{s as se}from"./imageCompressor-CTkRt5bg.js";import{E as oe}from"./index-DzjaNwmz.js";import{E as ne}from"./index-BISXlzby.js";import"./raf-BZHcGSIv.js";import"./strings-twdxJQ8K.js";import"./clamp-BxJn91Q5.js";import"./toNumber-CDEuZe1n.js";import"./index-DOCWmJkm.js";import"./index-B9zQDgNq.js";import"./index-pPpeQHfX.js";import"./_baseFindIndex-BTqrMG7V.js";import"./_baseIteratee-PtO-pneB.js";import"./advancedFormat-ZTlvfdMs.js";import"./index-BrzJahDp.js";import"./cloneDeep-syPWYH98.js";const ie={class:"resume-basic-info-tab"},ce=s(R({__name:"ResumeBasicInfoTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(s,{emit:o}){const n=s,i=o,{success:c,error:m}=e(),p=E(),_=E(!1),v=E({name:"",gender:"",birth_date:"",nationality:"",native_place:"",political_status:"",id_number:"",phone:"",email:"",address:"",introduction:""}),f={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:ae,trigger:"blur"}],email:[{validator:ee,trigger:"blur"}],id_number:[{validator:$,trigger:"blur"}]};F(()=>n.resumeData,e=>{e&&(v.value={name:e.name||"",gender:e.gender||"",birth_date:e.birth_date||"",nationality:e.nationality||"",native_place:e.native_place||"",political_status:e.political_status||"",id_number:e.id_number||"",phone:e.phone||"",email:e.email||"",address:e.address||"",introduction:e.introduction||""})},{immediate:!0,deep:!0});const b=async()=>{p.value&&await p.value.validate(async e=>{if(e){_.value=!0;try{const e=await Q.updateResume(n.resumeId,v.value);e.success?(c("保存成功","基本信息已更新"),i("update")):m("保存失败",e.error||"未知错误")}catch(a){m("保存失败",a instanceof Error?a.message:"未知错误")}finally{_.value=!1}}})},y=()=>{var e;null==(e=p.value)||e.resetFields()};return(e,s)=>{const o=t,n=l,i=ue,c=r,m=u,h=Z,g=te,V=S,w=K,k=d,j=a,x=le;return T(),z("div",ie,[P(x,null,{header:q(()=>[...s[11]||(s[11]=[M("span",null,"基本信息",-1)])]),default:q(()=>[P(j,{ref_key:"formRef",ref:p,model:v.value,rules:f,"label-width":"120px"},{default:q(()=>[P(g,{gutter:20},{default:q(()=>[P(i,{span:8},{default:q(()=>[P(n,{label:"姓名",prop:"name"},{default:q(()=>[P(o,{modelValue:v.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>v.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),P(i,{span:8},{default:q(()=>[P(n,{label:"性别",prop:"gender"},{default:q(()=>[P(m,{modelValue:v.value.gender,"onUpdate:modelValue":s[1]||(s[1]=e=>v.value.gender=e)},{default:q(()=>[P(c,{label:"男"},{default:q(()=>[...s[12]||(s[12]=[A("男",-1)])]),_:1}),P(c,{label:"女"},{default:q(()=>[...s[13]||(s[13]=[A("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),P(i,{span:8},{default:q(()=>[P(n,{label:"出生日期",prop:"birth_date"},{default:q(()=>[P(h,{modelValue:v.value.birth_date,"onUpdate:modelValue":s[2]||(s[2]=e=>v.value.birth_date=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(g,{gutter:20},{default:q(()=>[P(i,{span:8},{default:q(()=>[P(n,{label:"民族",prop:"nationality"},{default:q(()=>[P(o,{modelValue:v.value.nationality,"onUpdate:modelValue":s[3]||(s[3]=e=>v.value.nationality=e),placeholder:"如：汉族"},null,8,["modelValue"])]),_:1})]),_:1}),P(i,{span:8},{default:q(()=>[P(n,{label:"籍贯",prop:"native_place"},{default:q(()=>[P(o,{modelValue:v.value.native_place,"onUpdate:modelValue":s[4]||(s[4]=e=>v.value.native_place=e),placeholder:"如：北京市"},null,8,["modelValue"])]),_:1})]),_:1}),P(i,{span:8},{default:q(()=>[P(n,{label:"政治面貌",prop:"political_status"},{default:q(()=>[P(w,{modelValue:v.value.political_status,"onUpdate:modelValue":s[5]||(s[5]=e=>v.value.political_status=e),placeholder:"请选择",style:{width:"100%"}},{default:q(()=>[P(V,{label:"中共党员",value:"中共党员"}),P(V,{label:"共青团员",value:"共青团员"}),P(V,{label:"民主党派",value:"民主党派"}),P(V,{label:"群众",value:"群众"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(g,{gutter:20},{default:q(()=>[P(i,{span:12},{default:q(()=>[P(n,{label:"身份证号",prop:"id_number"},{default:q(()=>[P(o,{modelValue:v.value.id_number,"onUpdate:modelValue":s[6]||(s[6]=e=>v.value.id_number=e),placeholder:"18位身份证号",maxlength:"18"},null,8,["modelValue"])]),_:1})]),_:1}),P(i,{span:12},{default:q(()=>[P(n,{label:"联系电话",prop:"phone"},{default:q(()=>[P(o,{modelValue:v.value.phone,"onUpdate:modelValue":s[7]||(s[7]=e=>v.value.phone=e),placeholder:"手机号码",maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(g,{gutter:20},{default:q(()=>[P(i,{span:12},{default:q(()=>[P(n,{label:"电子邮箱",prop:"email"},{default:q(()=>[P(o,{modelValue:v.value.email,"onUpdate:modelValue":s[8]||(s[8]=e=>v.value.email=e),placeholder:"邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1}),P(i,{span:12},{default:q(()=>[P(n,{label:"联系地址",prop:"address"},{default:q(()=>[P(o,{modelValue:v.value.address,"onUpdate:modelValue":s[9]||(s[9]=e=>v.value.address=e),placeholder:"详细地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(n,{label:"个人简介",prop:"introduction"},{default:q(()=>[P(o,{modelValue:v.value.introduction,"onUpdate:modelValue":s[10]||(s[10]=e=>v.value.introduction=e),type:"textarea",rows:4,placeholder:"请简要介绍个人经历、专长、优势等"},null,8,["modelValue"])]),_:1}),P(n,null,{default:q(()=>[P(k,{type:"primary",loading:_.value,onClick:b},{default:q(()=>[...s[14]||(s[14]=[A(" 保存 ",-1)])]),_:1},8,["loading"]),P(k,{onClick:y},{default:q(()=>[...s[15]||(s[15]=[A("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-9eb5d3ea"]]),me={class:"resume-education-tab"},pe=s(R({__name:"ResumeEducationTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(u,{emit:r}){const s=u,o=r,{success:n,error:i}=e(),c=E(),m=E(!1),p=E({education_level:"",degree:"",university:"",major:"",graduation_date:""});F(()=>s.resumeData,e=>{e&&(p.value={education_level:e.education_level||"",degree:e.degree||"",university:e.university||"",major:e.major||"",graduation_date:e.graduation_date||""})},{immediate:!0,deep:!0});const _=async()=>{if(c.value){m.value=!0;try{const e=await Q.updateResume(s.resumeId,p.value);e.success?(n("保存成功","教育信息已更新"),o("update")):i("保存失败",e.error||"未知错误")}catch(e){i("保存失败",e instanceof Error?e.message:"未知错误")}finally{m.value=!1}}},v=()=>{var e;null==(e=c.value)||e.resetFields()};return(e,u)=>{const r=S,s=K,o=l,n=ue,i=te,f=t,b=Z,y=d,h=a,g=le;return T(),z("div",me,[P(g,null,{header:q(()=>[...u[5]||(u[5]=[M("span",null,"教育信息",-1)])]),default:q(()=>[P(h,{ref_key:"formRef",ref:c,model:p.value,"label-width":"120px"},{default:q(()=>[P(i,{gutter:20},{default:q(()=>[P(n,{span:12},{default:q(()=>[P(o,{label:"学历",prop:"education_level"},{default:q(()=>[P(s,{modelValue:p.value.education_level,"onUpdate:modelValue":u[0]||(u[0]=e=>p.value.education_level=e),placeholder:"请选择学历",style:{width:"100%"}},{default:q(()=>[P(r,{label:"博士",value:"博士"}),P(r,{label:"硕士",value:"硕士"}),P(r,{label:"本科",value:"本科"}),P(r,{label:"大专",value:"大专"}),P(r,{label:"高中",value:"高中"}),P(r,{label:"中专",value:"中专"}),P(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),P(n,{span:12},{default:q(()=>[P(o,{label:"学位",prop:"degree"},{default:q(()=>[P(s,{modelValue:p.value.degree,"onUpdate:modelValue":u[1]||(u[1]=e=>p.value.degree=e),placeholder:"请选择学位",style:{width:"100%"}},{default:q(()=>[P(r,{label:"博士学位",value:"博士"}),P(r,{label:"硕士学位",value:"硕士"}),P(r,{label:"学士学位",value:"学士"}),P(r,{label:"无学位",value:"无"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(i,{gutter:20},{default:q(()=>[P(n,{span:12},{default:q(()=>[P(o,{label:"毕业院校",prop:"university"},{default:q(()=>[P(f,{modelValue:p.value.university,"onUpdate:modelValue":u[2]||(u[2]=e=>p.value.university=e),placeholder:"请输入毕业院校"},null,8,["modelValue"])]),_:1})]),_:1}),P(n,{span:12},{default:q(()=>[P(o,{label:"专业",prop:"major"},{default:q(()=>[P(f,{modelValue:p.value.major,"onUpdate:modelValue":u[3]||(u[3]=e=>p.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(i,{gutter:20},{default:q(()=>[P(n,{span:12},{default:q(()=>[P(o,{label:"毕业时间",prop:"graduation_date"},{default:q(()=>[P(b,{modelValue:p.value.graduation_date,"onUpdate:modelValue":u[4]||(u[4]=e=>p.value.graduation_date=e),type:"date",placeholder:"选择毕业日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(o,null,{default:q(()=>[P(y,{type:"primary",loading:m.value,onClick:_},{default:q(()=>[...u[6]||(u[6]=[A(" 保存 ",-1)])]),_:1},8,["loading"]),P(y,{onClick:v},{default:q(()=>[...u[7]||(u[7]=[A("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-15f0e911"]]),_e={class:"resume-work-tab"},ve=s(R({__name:"ResumeWorkTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(u,{emit:r}){const s=u,o=r,{success:n,error:i}=e(),c=E(),m=E(!1),p=E({current_position:"",professional_title:"",work_years:void 0,current_company:"",department:"",work_location:"",skills:"",certificates:"",awards:""});F(()=>s.resumeData,e=>{e&&(p.value={current_position:e.current_position||"",professional_title:e.professional_title||"",work_years:e.work_years,current_company:e.current_company||"",department:e.department||"",work_location:e.work_location||"",skills:e.skills||"",certificates:e.certificates||"",awards:e.awards||""})},{immediate:!0,deep:!0});const _=async()=>{if(c.value){m.value=!0;try{const e=await Q.updateResume(s.resumeId,p.value);e.success?(n("保存成功","工作信息已更新"),o("update")):i("保存失败",e.error||"未知错误")}catch(e){i("保存失败",e instanceof Error?e.message:"未知错误")}finally{m.value=!1}}},v=()=>{var e;null==(e=c.value)||e.resetFields()};return(e,u)=>{const r=t,s=l,o=ue,n=te,i=re,f=d,b=a,y=le;return T(),z("div",_e,[P(y,null,{header:q(()=>[...u[9]||(u[9]=[M("span",null,"工作信息",-1)])]),default:q(()=>[P(b,{ref_key:"formRef",ref:c,model:p.value,"label-width":"120px"},{default:q(()=>[P(n,{gutter:20},{default:q(()=>[P(o,{span:12},{default:q(()=>[P(s,{label:"当前职位",prop:"current_position"},{default:q(()=>[P(r,{modelValue:p.value.current_position,"onUpdate:modelValue":u[0]||(u[0]=e=>p.value.current_position=e),placeholder:"如：项目经理"},null,8,["modelValue"])]),_:1})]),_:1}),P(o,{span:12},{default:q(()=>[P(s,{label:"职称",prop:"professional_title"},{default:q(()=>[P(r,{modelValue:p.value.professional_title,"onUpdate:modelValue":u[1]||(u[1]=e=>p.value.professional_title=e),placeholder:"如：高级工程师"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(n,{gutter:20},{default:q(()=>[P(o,{span:12},{default:q(()=>[P(s,{label:"工作年限",prop:"work_years"},{default:q(()=>[P(i,{modelValue:p.value.work_years,"onUpdate:modelValue":u[2]||(u[2]=e=>p.value.work_years=e),min:0,max:50,placeholder:"年",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),P(o,{span:12},{default:q(()=>[P(s,{label:"当前单位",prop:"current_company"},{default:q(()=>[P(r,{modelValue:p.value.current_company,"onUpdate:modelValue":u[3]||(u[3]=e=>p.value.current_company=e),placeholder:"当前工作单位"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(n,{gutter:20},{default:q(()=>[P(o,{span:12},{default:q(()=>[P(s,{label:"所在部门",prop:"department"},{default:q(()=>[P(r,{modelValue:p.value.department,"onUpdate:modelValue":u[4]||(u[4]=e=>p.value.department=e),placeholder:"部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),P(o,{span:12},{default:q(()=>[P(s,{label:"工作地点",prop:"work_location"},{default:q(()=>[P(r,{modelValue:p.value.work_location,"onUpdate:modelValue":u[5]||(u[5]=e=>p.value.work_location=e),placeholder:"工作城市"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),P(s,{label:"技能特长",prop:"skills"},{default:q(()=>[P(r,{modelValue:p.value.skills,"onUpdate:modelValue":u[6]||(u[6]=e=>p.value.skills=e),type:"textarea",rows:3,placeholder:"请输入技能特长，多个技能用逗号分隔，如：项目管理,需求分析,Java开发"},null,8,["modelValue"])]),_:1}),P(s,{label:"证书列表",prop:"certificates"},{default:q(()=>[P(r,{modelValue:p.value.certificates,"onUpdate:modelValue":u[7]||(u[7]=e=>p.value.certificates=e),type:"textarea",rows:2,placeholder:"请输入证书名称，多个证书用逗号分隔，如：PMP,软考高级"},null,8,["modelValue"])]),_:1}),P(s,{label:"获奖情况",prop:"awards"},{default:q(()=>[P(r,{modelValue:p.value.awards,"onUpdate:modelValue":u[8]||(u[8]=e=>p.value.awards=e),type:"textarea",rows:2,placeholder:"请输入获奖情况"},null,8,["modelValue"])]),_:1}),P(s,null,{default:q(()=>[P(f,{type:"primary",loading:m.value,onClick:_},{default:q(()=>[...u[10]||(u[10]=[A(" 保存 ",-1)])]),_:1},8,["loading"]),P(f,{onClick:v},{default:q(()=>[...u[11]||(u[11]=[A("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-00b6bb2c"]]),fe={class:"resume-attachments-tab"},be={class:"card-header"},ye={key:2,class:"attachments-grid"},he={class:"attachment-header"},ge={class:"attachment-body"},Ve=["title"],we={class:"file-info"},ke={class:"file-size"},je={class:"file-date"},xe={key:0,class:"file-desc"},Ue={class:"attachment-actions"},Ce=s(R({__name:"ResumeAttachmentsTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(u,{emit:r}){const s=u,V=r,{success:w,error:k}=e(),j=E(!1),x=E([]),U=E(!1),C=E(!1),D=E(),R=E(),F=E({attachment_category:"resume",description:"",file:null}),Z={attachment_category:[{required:!0,message:"请选择附件类型",trigger:"change"}]},$=e=>{switch(e){case"resume":return h;case"id_card":return y;case"education":case"degree":return b;case"qualification":return f;case"award":return v;default:return _}},ee=e=>{switch(e){case"resume":return"#409eff";case"id_card":return"#f56c6c";case"education":return"#67c23a";case"degree":return"#e6a23c";case"qualification":default:return"#909399";case"award":return"#ff9800"}},ae=e=>{switch(e){case"resume":return"primary";case"id_card":return"danger";case"education":return"success";case"degree":case"award":return"warning";default:return"info"}},te=e=>{switch(e){case"resume":return"简历文件";case"id_card":return"身份证";case"education":return"学历证书";case"degree":return"学位证书";case"qualification":return"资质证书";case"award":return"获奖证书";default:return"其他材料"}},ue=async()=>{j.value=!0;try{const e=await Q.getResumeAttachments(s.resumeId);e.success&&e.data&&(x.value=e.data)}catch(e){k("加载失败",e instanceof Error?e.message:"未知错误")}finally{j.value=!1}},re=e=>{e.raw&&(F.value.file=e.raw)},ie=()=>{U.value=!0},ce=async()=>{D.value&&await D.value.validate(async e=>{var a;if(e)if(F.value.file){C.value=!0;try{let e=F.value.file;if(e.type.startsWith("image/")){const a="id_card"===F.value.attachment_category?"id_card":"photo";e=await se(e,a)}const l=await Q.uploadResumeAttachment(s.resumeId,e,F.value.attachment_category,F.value.description||void 0);l.success?(w("上传成功","附件已上传"),U.value=!1,null==(a=R.value)||a.clearFiles(),F.value={attachment_category:"resume",description:"",file:null},await ue(),V("update")):k("上传失败",l.error||"未知错误")}catch(l){k("上传失败",l instanceof Error?l.message:"未知错误")}finally{C.value=!1}}else k("请选择文件","请先选择要上传的文件")})};return Y(()=>{ue()}),(e,u)=>{const r=o,s=d,_=ne,v=le,f=S,b=K,y=l,h=t,E=oe,Y=a,se=i;return T(),z("div",fe,[P(v,null,{header:q(()=>[M("div",be,[u[5]||(u[5]=M("span",null,"简历附件",-1)),P(s,{type:"primary",size:"small",onClick:ie},{default:q(()=>[P(r,null,{default:q(()=>[P(N(n))]),_:1}),u[4]||(u[4]=A(" 上传附件 ",-1))]),_:1})])]),default:q(()=>[j.value?(T(),G(N(I),{key:0,text:"加载附件中..."})):x.value.length?(T(),z("div",ye,[(T(!0),z(B,null,O(x.value,e=>(T(),z("div",{key:e.attachment_id,class:"attachment-card"},[M("div",he,[P(r,{size:32,color:ee(e.attachment_category)},{default:q(()=>[(T(),G(J($(e.attachment_category))))]),_:2},1032,["color"]),P(_,{type:ae(e.attachment_category),size:"small"},{default:q(()=>[A(L(te(e.attachment_category)),1)]),_:2},1032,["type"])]),M("div",ge,[M("div",{class:"file-name",title:e.original_filename},L(e.original_filename),9,Ve),M("div",we,[M("span",ke,L(N(X)(e.file_size)),1),M("span",je,L(N(H)(e.uploaded_at,"date")),1)]),e.attachment_description?(T(),z("div",xe,L(e.attachment_description),1)):W("",!0)]),M("div",Ue,[P(s,{size:"small",onClick:a=>(e=>{const a=Q.downloadResumeAttachment(e.attachment_id);window.open(a,"_blank")})(e)},{default:q(()=>[P(r,null,{default:q(()=>[P(N(m))]),_:1}),u[6]||(u[6]=A(" 下载 ",-1))]),_:1},8,["onClick"]),P(s,{size:"small",type:"danger",onClick:a=>(async e=>{try{await g.confirm(`确定要删除附件 "${e.original_filename}" 吗？`,"删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"});const a=await Q.deleteResumeAttachment(e.attachment_id);a.success?(w("删除成功","附件已删除"),await ue(),V("update")):k("删除失败",a.error||"未知错误")}catch(a){k("删除失败",a instanceof Error?a.message:"未知错误")}})(e)},{default:q(()=>[P(r,null,{default:q(()=>[P(N(p))]),_:1}),u[7]||(u[7]=A(" 删除 ",-1))]),_:1},8,["onClick"])])]))),128))])):(T(),G(N(de),{key:1,type:"no-data",description:"暂无附件"}))]),_:1}),P(se,{modelValue:U.value,"onUpdate:modelValue":u[3]||(u[3]=e=>U.value=e),title:"上传简历附件",width:"500px"},{footer:q(()=>[P(s,{onClick:u[2]||(u[2]=e=>U.value=!1)},{default:q(()=>[...u[10]||(u[10]=[A("取消",-1)])]),_:1}),P(s,{type:"primary",loading:C.value,onClick:ce},{default:q(()=>[...u[11]||(u[11]=[A(" 确定上传 ",-1)])]),_:1},8,["loading"])]),default:q(()=>[P(Y,{ref_key:"uploadFormRef",ref:D,model:F.value,rules:Z,"label-width":"120px"},{default:q(()=>[P(y,{label:"附件类型",prop:"attachment_category"},{default:q(()=>[P(b,{modelValue:F.value.attachment_category,"onUpdate:modelValue":u[0]||(u[0]=e=>F.value.attachment_category=e),placeholder:"请选择附件类型",style:{width:"100%"}},{default:q(()=>[P(f,{label:"简历文件",value:"resume"}),P(f,{label:"身份证",value:"id_card"}),P(f,{label:"学历证书",value:"education"}),P(f,{label:"学位证书",value:"degree"}),P(f,{label:"资质证书",value:"qualification"}),P(f,{label:"获奖证书",value:"award"}),P(f,{label:"其他材料",value:"other"})]),_:1},8,["modelValue"])]),_:1}),P(y,{label:"附件说明",prop:"description"},{default:q(()=>[P(h,{modelValue:F.value.description,"onUpdate:modelValue":u[1]||(u[1]=e=>F.value.description=e),type:"textarea",rows:2,placeholder:"请简要说明附件内容（可选）"},null,8,["modelValue"])]),_:1}),P(y,{label:"选择文件",prop:"file"},{default:q(()=>[P(E,{ref_key:"uploadRef",ref:R,"auto-upload":!1,limit:1,"on-change":re,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",drag:""},{tip:q(()=>[...u[8]||(u[8]=[M("div",{class:"el-upload__tip"}," 支持PDF、DOC、DOCX、JPG、PNG格式，文件大小不超过20MB ",-1)])]),default:q(()=>[P(r,{class:"el-icon--upload"},{default:q(()=>[P(N(c))]),_:1}),u[9]||(u[9]=M("div",{class:"el-upload__text"},[A(" 拖拽文件到这里 或 "),M("em",null,"点击上传")],-1))]),_:1},512)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-e2dbd6f1"]]),De={class:"resume-detail"},Ie={class:"detail-header"},Re={class:"header-title"},Ee={key:1,class:"detail-content"},Fe={class:"tab-label"},ze={class:"tab-label"},Te={class:"tab-label"},Pe={class:"tab-label"},qe=s(R({__name:"ResumeDetail",setup(a){const l=V(),t=w(),{error:u}=e(),r=E(!1),s=E("basic"),n=E(0),i=E({}),c=e=>{switch(e){case"active":return"success";case"inactive":return"warning";default:return"info"}},m=e=>{switch(e){case"active":return"活跃";case"inactive":return"离职";case"archived":return"已归档";default:return e}},p=async()=>{r.value=!0;try{const e=await Q.getResume(n.value);e.success&&e.data?i.value=e.data:(u("加载失败","无法获取简历信息"),f())}catch(e){u("加载失败",e instanceof Error?e.message:"未知错误"),f()}finally{r.value=!1}},_=e=>{},v=async()=>{await p()},f=()=>{t.push("/knowledge/resume-library")};return Y(()=>{const e=l.params.id;if(e){if(n.value=parseInt(e,10),isNaN(n.value))return u("参数错误","无效的简历ID"),void f();p()}else u("参数错误","缺少简历ID"),f()}),(e,a)=>{const l=d,t=ne,u=o,p=C,b=D;return T(),z("div",De,[M("div",Ie,[P(l,{onClick:f,icon:"ArrowLeft"},{default:q(()=>[...a[1]||(a[1]=[A("返回列表",-1)])]),_:1}),M("div",Re,[M("h2",null,L(i.value.name||"简历详情"),1),i.value.education_level?(T(),G(t,{key:0,type:(y=i.value.education_level,"博士"===y?"danger":"硕士"===y?"warning":"本科"===y?"success":"info")},{default:q(()=>[A(L(i.value.education_level),1)]),_:1},8,["type"])):W("",!0),i.value.current_position?(T(),G(t,{key:1,type:"info"},{default:q(()=>[A(L(i.value.current_position),1)]),_:1})):W("",!0),i.value.status?(T(),G(t,{key:2,type:c(i.value.status)},{default:q(()=>[A(L(m(i.value.status)),1)]),_:1},8,["type"])):W("",!0)])]),r.value?(T(),G(N(I),{key:0,text:"加载简历信息中..."})):(T(),z("div",Ee,[P(b,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),class:"resume-tabs",onTabChange:_},{default:q(()=>[P(p,{name:"basic"},{label:q(()=>[M("span",Fe,[P(u,null,{default:q(()=>[P(N(k))]),_:1}),a[2]||(a[2]=A(" 基本信息 ",-1))])]),default:q(()=>[P(ce,{"resume-id":n.value,"resume-data":i.value,onUpdate:v},null,8,["resume-id","resume-data"])]),_:1}),P(p,{name:"education"},{label:q(()=>[M("span",ze,[P(u,null,{default:q(()=>[P(N(j))]),_:1}),a[3]||(a[3]=A(" 教育信息 ",-1))])]),default:q(()=>[P(pe,{"resume-id":n.value,"resume-data":i.value,onUpdate:v},null,8,["resume-id","resume-data"])]),_:1}),P(p,{name:"work"},{label:q(()=>[M("span",Te,[P(u,null,{default:q(()=>[P(N(x))]),_:1}),a[4]||(a[4]=A(" 工作信息 ",-1))])]),default:q(()=>[P(ve,{"resume-id":n.value,"resume-data":i.value,onUpdate:v},null,8,["resume-id","resume-data"])]),_:1}),P(p,{name:"attachments"},{label:q(()=>[M("span",Pe,[P(u,null,{default:q(()=>[P(N(U))]),_:1}),a[5]||(a[5]=A(" 附件管理 ",-1))])]),default:q(()=>[P(Ce,{"resume-id":n.value,"resume-data":i.value,onUpdate:v},null,8,["resume-id","resume-data"])]),_:1})]),_:1},8,["modelValue"])]))]);var y}}}),[["__scopeId","data-v-2d29e80e"]]);export{qe as default};
