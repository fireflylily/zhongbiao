import{d as e,u as a,a as l,r as s,b as r,c as i,e as o,f as d,g as t,w as u,h as c,i as n,o as m,j as p,k as g,l as b,t as f}from"./index.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";const _={class:"login-page"},h={class:"login-card"},w={class:"form-options"},y=v(e({__name:"Login",setup(e){const v=p(),y=a(),{success:V,error:k}=l(),x=s(),j=s(!1),z=r({username:"",password:"",remember:!1}),A={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:32,message:"密码长度在 6 到 32 个字符",trigger:"blur"}]};async function I(){if(x.value)try{await x.value.validate(),j.value=!0,await y.login({username:z.username,password:z.password}),V("登录成功"),v.push("/")}catch(e){e.message&&k("登录失败: "+e.message)}finally{j.value=!1}}return(e,a)=>{const l=n("el-input"),s=n("el-form-item"),r=n("el-checkbox"),p=n("el-link"),v=n("el-button"),y=n("el-form");return m(),i("div",_,[a[9]||(a[9]=o("div",{class:"background-decoration"},[o("div",{class:"circle circle-1"}),o("div",{class:"circle circle-2"}),o("div",{class:"circle circle-3"})],-1)),o("div",h,[a[7]||(a[7]=d('<div class="login-header" data-v-cb7413e3><div class="logo" data-v-cb7413e3><i class="bi bi-lightbulb-fill" data-v-cb7413e3></i></div><h1 class="title" data-v-cb7413e3>AI智能标书生成平台</h1><p class="subtitle" data-v-cb7413e3>让投标更简单、更智能</p></div>',1)),t(y,{ref_key:"formRef",ref:x,model:z,rules:A,class:"login-form",onSubmit:c(I,["prevent"])},{default:u(()=>[t(s,{prop:"username"},{default:u(()=>[t(l,{modelValue:z.username,"onUpdate:modelValue":a[0]||(a[0]=e=>z.username=e),placeholder:"请输入用户名",size:"large",clearable:""},{prefix:u(()=>[...a[3]||(a[3]=[o("i",{class:"bi bi-person-fill"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),t(s,{prop:"password"},{default:u(()=>[t(l,{modelValue:z.password,"onUpdate:modelValue":a[1]||(a[1]=e=>z.password=e),type:"password",placeholder:"请输入密码",size:"large","show-password":"",clearable:"",onKeyup:g(I,["enter"])},{prefix:u(()=>[...a[4]||(a[4]=[o("i",{class:"bi bi-lock-fill"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),t(s,null,{default:u(()=>[o("div",w,[t(r,{modelValue:z.remember,"onUpdate:modelValue":a[2]||(a[2]=e=>z.remember=e)},{default:u(()=>[...a[5]||(a[5]=[b("记住我",-1)])]),_:1},8,["modelValue"]),t(p,{type:"primary",underline:!1},{default:u(()=>[...a[6]||(a[6]=[b("忘记密码?",-1)])]),_:1})])]),_:1}),t(s,null,{default:u(()=>[t(v,{type:"primary",size:"large",loading:j.value,class:"login-button",onClick:I},{default:u(()=>[b(f(j.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a[8]||(a[8]=o("div",{class:"login-footer"},[o("p",{class:"copyright"},"© 2025 AI智能标书生成平台. All rights reserved.")],-1))])])}}}),[["__scopeId","data-v-cb7413e3"]]);export{y as default};
