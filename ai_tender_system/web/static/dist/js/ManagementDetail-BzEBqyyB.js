import{O as e,u as a,a0 as l,bt as t,bu as i,bv as s,T as n,$ as r,w as o,o as c,E as u,_ as d,L as _,h as p,bw as m,n as f,m as v,b9 as h,aN as b,p as y,M as g,K as k,bx as z}from"./index.js";/* empty css                                                                          */import{E as w}from"./el-divider-BEwFkeIl.js";import{E as x}from"./el-text-CHacR0Xa.js";/* empty css                                                                        *//* empty css                             */import{E as j,a as C}from"./el-tab-pane-BqHTWnWu.js";import{E as V}from"./el-input-number-u8RMniOu.js";/* empty css               */import{E as S,a as I}from"./el-select-Cn9sh8Qz.js";/* empty css                     */import{L as q}from"./Loading-BAlD57pu.js";import{P as E}from"./PageHeader-DbQlj86k.js";import{ax as A,an as U,bB as P,aJ as T,am as N,cb as $,bX as D,aF as L,aS as O,c7 as B,cc as K,bC as F,aD as R,aA as W,aO as M,aP as H,aE as Y,aR as G,aB as J,ay as X,az as Q,aG as Z,bu as ee,aX as ae,aV as le,aW as te}from"./editor-6w6Zv5fp.js";import{D as ie}from"./DocumentPreview-1qiJhd5F.js";/* empty css                   *//* empty css                    *//* empty css                */import{E as se}from"./el-tree-bx-Vd4-d.js";import{E as ne}from"./index-Cdh5ckaS.js";import{E as re}from"./index-y0eMMvEO.js";/* empty css                        */import{t as oe}from"./tender-ZYcn_VXM.js";import{a as ce,E as ue}from"./index-ogjNd1Mz.js";import{E as de}from"./index-DuYxzNPz.js";import{E as _e}from"./index-DWKbo9Il.js";import{c as pe}from"./company-DX6fQVXW.js";import{u as me}from"./project-CG0CT_fq.js";import{E as fe,a as ve}from"./index-Dk7xzYl3.js";import"./raf-B6jWGkGX.js";import"./strings-DTOtcONx.js";import"./toNumber-ue2IRhKK.js";import"./index-CJJgY_jM.js";import"./_baseIteratee-BmMFd7Ls.js";import"./index-BWGjdaux.js";/* empty css                                                                   */import"./directive-CUw06O5E.js";import"./index-ZN_5iygv.js";import"./index-DnERDalw.js";import"./cloneDeep-syPWYH98.js";const he=A({name:"ElSpaceItem",props:e({prefixCls:{type:String}}),setup(e,{slots:l}){const t=a("space"),i=U(()=>`${e.prefixCls||t.b()}__item`);return()=>P("div",{class:i.value},T(l,"default"))}}),be={small:8,default:12,large:16};const ye=o(A({name:"ElSpace",props:e({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:r([String,Object,Array]),default:""},style:{type:r([String,Array,Object]),default:""},alignment:{type:r(String),default:"center"},prefixCls:{type:String},spacer:{type:r([Object,String,Number,Array]),default:null,validator:e=>B(e)||l(e)||F(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:n,validator:e=>l(e)||D(e)&&2===e.length&&e.every(l)}}),setup(e,{slots:n}){const{classes:r,containerStyle:o,itemStyle:c}=function(e){const t=a("space"),i=U(()=>[t.b(),t.m(e.direction),e.class]),s=N(0),n=N(0),r=U(()=>[e.wrap||e.fill?{flexWrap:"wrap"}:{},{alignItems:e.alignment},{rowGap:`${n.value}px`,columnGap:`${s.value}px`},e.style]),o=U(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return $(()=>{const{size:a="small",wrap:t,direction:i,fill:r}=e;if(D(a)){const[e=0,l=0]=a;s.value=e,n.value=l}else{let e;e=l(a)?a:be[a||"small"]||be.small,(t||r)&&"horizontal"===i?s.value=n.value=e:"horizontal"===i?(s.value=e,n.value=0):(n.value=e,s.value=0)}}),{classes:i,containerStyle:r,itemStyle:o}}(e);function u(a,l="",n=[]){const{prefixCls:r}=e;return a.forEach((e,a)=>{i(e)?D(e.children)&&e.children.forEach((e,a)=>{i(e)&&D(e.children)?u(e.children,`${l+a}-`,n):B(e)&&(null==e?void 0:e.type)===K?n.push(e):n.push(L(he,{style:c.value,prefixCls:r,key:`nested-${l+a}`},{default:()=>[e]},t.PROPS|t.STYLE,["style","prefixCls"]))}):s(e)&&n.push(L(he,{style:c.value,prefixCls:r,key:`LoopKey${l+a}`},{default:()=>[e]},t.PROPS|t.STYLE,["style","prefixCls"]))}),n}return()=>{var a;const{spacer:l,direction:i}=e,s=T(n,"default",{key:0},()=>[]);if(0===(null!=(a=s.children)?a:[]).length)return null;if(D(s.children)){let e=u(s.children);if(l){const a=e.length-1;e=e.reduce((e,s,n)=>{const r=[...e,s];return n!==a&&r.push(L("span",{style:[c.value,"vertical"===i?"width: 100%":null],key:n},[B(l)?l:O(l,t.TEXT)],t.STYLE)),r},[])}return L("div",{class:r.value,style:o.value},e,t.STYLE|t.CLASS)}return s.children}}})),ge={class:"file-card__icon"},ke={class:"file-card__info"},ze={class:"file-card__name"},we={class:"file-card__meta"},xe={key:0,class:"meta-item"},je={key:0,class:"file-card__actions"},Ce=d(A({__name:"FileCard",props:{fileUrl:{},fileName:{},fileSize:{},uploadTime:{},type:{default:"default"},showActions:{type:Boolean,default:!0}},emits:["preview"],setup(e,{emit:a}){const l=e,t=a,i=U(()=>{if(l.fileName)return l.fileName;const e=l.fileUrl.split("/");return e[e.length-1]||""}),s=U(()=>{var e;return{pdf:"bi-file-pdf",doc:"bi-file-word",docx:"bi-file-word",xls:"bi-file-excel",xlsx:"bi-file-excel",zip:"bi-file-zip",rar:"bi-file-zip"}[(null==(e=i.value.split(".").pop())?void 0:e.toLowerCase())||""]||"bi-file-earmark-text"}),n=U(()=>l.uploadTime?l.uploadTime.split(" ")[0]||l.uploadTime:""),r=e=>{if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/api/"))return e;let a=e;return a.startsWith("ai_tender_system/data/")&&(a=a.substring(22)),a.startsWith("outputs/")&&(a="download/"+a.substring(8)),`/api/files/serve/${a}`},o=()=>{const e=r(l.fileUrl),a=document.createElement("a");a.href=e+"?download=true",a.download=i.value,document.body.appendChild(a),a.click(),document.body.removeChild(a),u.success("æ–‡ä»¶ä¸‹è½½å·²å¼€å§‹")},d=()=>{let e="";if(i.value){const a=i.value.split(".");a.length>1&&(e=a[a.length-1].toLowerCase())}if(!e&&l.fileUrl){const a=l.fileUrl.split("?")[0].split(".");a.length>1&&(e=a[a.length-1].toLowerCase())}if("doc"===e||"docx"===e)t("preview",l.fileUrl,i.value);else{const e=r(l.fileUrl);window.open(e,"_blank")}};return(a,l)=>{const t=c;return W(),R("div",{class:M(["file-card",[`file-card--${e.type}`]])},[H("div",ge,[H("i",{class:M(s.value)},null,2)]),H("div",ke,[H("div",ze,G(i.value),1),H("div",we,[n.value?(W(),R("span",xe,[l[0]||(l[0]=H("i",{class:"bi bi-calendar"},null,-1)),O(" "+G(n.value),1)])):Y("",!0)])]),e.showActions?(W(),R("div",je,[L(t,{size:"small",onClick:o},{default:J(()=>[...l[1]||(l[1]=[H("i",{class:"bi bi-download"},null,-1),O(" ä¸‹è½½ ",-1)])]),_:1}),L(t,{size:"small",onClick:d},{default:J(()=>[...l[2]||(l[2]=[H("i",{class:"bi bi-eye"},null,-1),O(" é¢„è§ˆ ",-1)])]),_:1})])):Y("",!0)],2)}}}),[["__scopeId","data-v-010a89f5"]]),Ve={class:"chapter-tree"},Se={key:0,class:"chapter-search mb-3"},Ie={class:"chapter-tree-container"},qe={class:"chapter-tree-node"},Ee={class:"chapter-title"},Ae={class:"chapter-meta"},Ue={key:1,class:"word-count text-muted ms-2"},Pe=d(A({__name:"ChapterTree",props:{chapters:{},showCheckbox:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},defaultCheckedKeys:{default:()=>[]}},emits:["check","select"],setup(e,{expose:a,emit:l}){const t=e,i=l,s=N(),n=N(""),r=N([]),o={children:"children",label:"title"};r.value=t.chapters,X(()=>t.chapters,e=>{r.value=e,t.defaultCheckedKeys.length>0&&s.value&&s.value.setCheckedKeys(t.defaultCheckedKeys)},{immediate:!0});const c=()=>{if(!n.value.trim())return void(r.value=t.chapters);const e=n.value.toLowerCase();r.value=u(t.chapters,e)},u=(e,a)=>{const l=[];for(const t of e)if(t.title.toLowerCase().includes(a))l.push(t);else if(t.children&&t.children.length>0){const e=u(t.children,a);e.length>0&&l.push({...t,children:e})}return l},d=()=>{if(!s.value)return;const e=s.value.getCheckedKeys(),a=s.value.getCheckedNodes();i("check",e,a)};return a({setCheckedKeys:e=>{var a;null==(a=s.value)||a.setCheckedKeys(e)},getCheckedKeys:()=>{var e;return null==(e=s.value)?void 0:e.getCheckedKeys()},getCheckedNodes:()=>{var e;return null==(e=s.value)?void 0:e.getCheckedNodes()}}),(a,l)=>{const t=_,i=ne,u=se,p=re;return W(),R("div",Ve,[e.showSearch?(W(),R("div",Se,[L(t,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),placeholder:"ðŸ” æœç´¢ç« èŠ‚...",clearable:"",onInput:c},{prefix:J(()=>[...l[1]||(l[1]=[H("i",{class:"bi bi-search"},null,-1)])]),_:1},8,["modelValue"])])):Y("",!0),H("div",Ie,[L(u,{ref_key:"treeRef",ref:s,data:r.value,props:o,"show-checkbox":e.showCheckbox,"check-strictly":!1,"default-expand-all":!1,"expand-on-click-node":!1,"node-key":"id",onCheck:d},{default:J(({node:e,data:a})=>{return[H("div",qe,[H("span",Ee,[H("i",{class:M([(t=a,t.children&&t.children.length>0?"bi bi-folder":"bi bi-file-earmark-text"),"me-1"])},null,2),O(" "+G(a.title),1)]),H("span",Ae,[a.level?(W(),Q(i,{key:0,size:"small",type:"info"},{default:J(()=>{return[O(G((e=a.level,{1:"ä¸€çº§",2:"äºŒçº§",3:"ä¸‰çº§",4:"å››çº§",5:"äº”çº§"}[e]||`${e}çº§`)),1)];var e}),_:2},1024)):Y("",!0),a.word_count?(W(),R("span",Ue,G((l=a.word_count,l>=1e4?`${(l/1e4).toFixed(1)}ä¸‡`:l.toLocaleString()))+"å­— ",1)):Y("",!0)])])];var l,t}),_:1},8,["data","show-checkbox"]),r.value&&0!==r.value.length?Y("",!0):(W(),Q(p,{key:0,description:"æš‚æ— ç« èŠ‚æ•°æ®","image-size":80}))])])}}}),[["__scopeId","data-v-af38204c"]]),Te={class:"tender-document-processor"},Ne={class:"card-header"},$e={class:"upload-section"},De={key:0,class:"existing-document"},Le={class:"d-flex align-items-center justify-content-between"},Oe={class:"me-3"},Be={key:1},Ke={key:0,class:"mt-3"},Fe={class:"d-flex align-items-center justify-content-between"},Re={key:0,class:"bi bi-file-earmark-code me-1"},We={class:"card-header"},Me={class:"chapter-section"},He={class:"stats-grid mb-3"},Ye={class:"stat-card"},Ge={class:"stat-value"},Je={class:"stat-card"},Xe={class:"stat-value text-success"},Qe={class:"stat-card"},Ze={class:"stat-value text-info"},ea={class:"batch-operations mb-3"},aa={class:"save-actions mt-4"},la={key:0,class:"parsing-progress mt-3"},ta={class:"d-flex align-items-center"},ia=d(A({__name:"TenderDocumentProcessor",props:{projectId:{},companyId:{},projectDetail:{}},emits:["success","refresh","preview","parseComplete"],setup(e,{emit:a}){const l=e,t=a,i=N(),s=N(),n=N([]),r=N(null),o=N(!1),d=N("æ­£åœ¨è§£æžæ–‡æ¡£ç»“æž„..."),_=N([]),b=N([]),y=N([]),g=N(!1),k=N(!1),z=N(null),w=U(()=>{const e=a=>{let l=a.length;return a.forEach(a=>{a.children&&a.children.length>0&&(l+=e(a.children))}),l};return e(_.value)}),x=U(()=>b.value.length),j=U(()=>y.value.reduce((e,a)=>e+(a.word_count||0),0)),C=U(()=>null!==z.value),V=async e=>{if(!e.raw)return;const a=(e=>e.name.toLowerCase().endsWith(".docx")?e.size>52428800?{valid:!1,error:`æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 50MBï¼Œå½“å‰æ–‡ä»¶å¤§å°: ${(e.size/1024/1024).toFixed(2)}MB`}:{valid:!0}:{valid:!1,error:"ä»…æ”¯æŒ .docx æ ¼å¼çš„æ–‡ä»¶ï¼Œè¯·å…ˆå°† .doc æ–‡ä»¶å¦å­˜ä¸º .docx æ ¼å¼"})(e.raw);if(!a.valid)return u.error(a.error||"æ–‡ä»¶éªŒè¯å¤±è´¥"),r.value=null,void(n.value=[]);r.value=e.raw,n.value=[e],u.info({message:"æ–‡ä»¶å·²é€‰æ‹©ï¼Œæ­£åœ¨è‡ªåŠ¨è§£æž...",duration:2e3}),setTimeout(()=>{E()},500)},S=()=>{r.value=null,n.value=[],_.value=[],b.value=[]},I=()=>{z.value&&t("preview",z.value.path,z.value.name)},q=()=>{z.value=null,_.value=[],b.value=[]},E=async()=>{if(r.value){o.value=!0,d.value="æ­£åœ¨è§£æžæ–‡æ¡£ç»“æž„...";try{const e=new FormData;e.append("file",r.value),e.append("company_id",l.companyId.toString()),e.append("project_id",l.projectId.toString());const a=await oe.parseDocumentStructure(e);if(!a.success)throw new Error(a.message||a.error||"è§£æžå¤±è´¥");_.value=a.chapters||[],u.success("æ–‡æ¡£è§£æžæˆåŠŸï¼Œè¯·é€‰æ‹©ç« èŠ‚"),t("parseComplete"),t("refresh")}catch(e){const a=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";a.includes(".doc")||a.includes("å¦å­˜ä¸º")||a.includes("docx")?h.alert(a,"ä¸æ”¯æŒ .doc æ ¼å¼",{confirmButtonText:"æˆ‘çŸ¥é“äº†",type:"warning",dangerouslyUseHTMLString:!1,customStyle:{width:"500px"}}):u.error(`è§£æžå¤±è´¥: ${a}`)}finally{o.value=!1}}else u.warning("è¯·å…ˆä¸Šä¼ æ–‡æ¡£")},A=(e,a)=>{b.value=e,y.value=a},P=()=>{var e;const a=B(_.value);null==(e=s.value)||e.setCheckedKeys(a)},T=()=>{var e;null==(e=s.value)||e.setCheckedKeys([])},$=()=>{var e;const a=K(_.value,["æŠ€æœ¯","æ–¹æ¡ˆ","å®žæ–½","ç³»ç»Ÿ"]);null==(e=s.value)||e.setCheckedKeys(a)},D=()=>{var e;const a=B(_.value),l=K(_.value,["åˆåŒ","æ¡æ¬¾","åè®®"]),t=a.filter(e=>!l.includes(e));null==(e=s.value)||e.setCheckedKeys(t)},B=e=>{const a=[];return e.forEach(e=>{a.push(e.id),e.children&&e.children.length>0&&a.push(...B(e.children))}),a},K=(e,a)=>{const l=[];return e.forEach(e=>{a.some(a=>e.title.includes(a))&&l.push(e.id),e.children&&e.children.length>0&&l.push(...K(e.children,a))}),l},F=async()=>{if(0!==x.value){g.value=!0;try{await oe.saveResponseFile(l.projectId,b.value),t("success","response"),t("refresh")}catch(e){u.error(`ä¿å­˜å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{g.value=!1}}else u.warning("è¯·å…ˆé€‰æ‹©ç« èŠ‚")},M=async()=>{if(0!==x.value){k.value=!0;try{await oe.saveTechnicalChapters(l.projectId,b.value),t("success","technical"),t("refresh")}catch(e){u.error(`ä¿å­˜å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{k.value=!1}}else u.warning("è¯·å…ˆé€‰æ‹©ç« èŠ‚")},ee=e=>{if(!e)return"æ‹›æ ‡æ–‡æ¡£";try{const a=e.replace(/\\/g,"/").split("/"),l=a[a.length-1];return decodeURIComponent(l)}catch(a){return"æ‹›æ ‡æ–‡æ¡£"}};return X(()=>l.projectDetail,()=>{(()=>{if(!l.projectDetail)return;let e=l.projectDetail.step1_data;if("string"==typeof e)try{e=JSON.parse(e)}catch(a){e=null}if(l.projectDetail.tender_document_path){const e=l.projectDetail.original_filename||ee(l.projectDetail.tender_document_path);z.value={path:l.projectDetail.tender_document_path,name:e,uploadedAt:l.projectDetail.created_at}}else if(null==e?void 0:e.file_path){const a=e.file_name||ee(e.file_path);z.value={path:e.file_path,name:a,uploadedAt:l.projectDetail.created_at}}(null==e?void 0:e.chapters)&&Array.isArray(e.chapters)&&e.chapters.length>0&&(_.value=e.chapters)})()},{immediate:!0}),(e,a)=>{const l=ne,t=c,u=p,h=_e,b=de,y=ue,U=m,N=ye,B=ce,K=f;return W(),R("div",Te,[L(B,{gutter:20},{default:J(()=>[L(y,{xs:24,sm:24,md:10,lg:10},{default:J(()=>[L(b,{shadow:"hover",class:"step-card"},{header:J(()=>[H("div",Ne,[a[1]||(a[1]=H("i",{class:"bi bi-upload me-2 text-primary"},null,-1)),a[2]||(a[2]=H("span",{class:"step-title"},"æ­¥éª¤1: ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰",-1)),r.value||C.value?(W(),Q(l,{key:0,type:"success",size:"small",class:"ms-2"},{default:J(()=>[...a[0]||(a[0]=[O(" å·²ä¸Šä¼  ",-1)])]),_:1})):Y("",!0)])]),default:J(()=>[H("div",$e,[C.value?(W(),R("div",De,[L(u,{type:"success",closable:!1},{title:J(()=>[H("div",Le,[H("div",null,[a[4]||(a[4]=H("i",{class:"bi bi-file-earmark-check-fill me-2"},null,-1)),H("span",Oe,G(z.value.name),1),L(l,{size:"small",type:"success"},{default:J(()=>[...a[3]||(a[3]=[O("å·²ä¸Šä¼ ",-1)])]),_:1})]),H("div",null,[L(t,{size:"small",onClick:I},{default:J(()=>[...a[5]||(a[5]=[H("i",{class:"bi bi-eye me-1"},null,-1),O(" é¢„è§ˆ ",-1)])]),_:1}),L(t,{size:"small",onClick:q},{default:J(()=>[...a[6]||(a[6]=[H("i",{class:"bi bi-arrow-repeat me-1"},null,-1),O(" é‡æ–°ä¸Šä¼  ",-1)])]),_:1})])])]),_:1})])):(W(),R("div",Be,[L(h,{ref_key:"uploadRef",ref:i,drag:"","auto-upload":!1,limit:1,accept:".docx","on-change":V,"on-remove":S,"file-list":n.value},{tip:J(()=>[...a[7]||(a[7]=[H("div",{class:"el-upload__tip"},[H("div",null,[O("æŽ¨èä½¿ç”¨ "),H("strong",null,".docx"),O(" æ ¼å¼ï¼ˆå…¼å®¹æ€§æ›´å¥½ï¼‰ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 50MB")]),H("div",{class:"text-warning",style:{"font-size":"12px","margin-top":"4px"}},[H("i",{class:"bi bi-exclamation-triangle-fill me-1"}),O(" æ³¨æ„ï¼šæ—§ç‰ˆ .doc æ ¼å¼æš‚ä¸æ”¯æŒç« èŠ‚è§£æžï¼Œè¯·å…ˆè½¬æ¢ä¸º .docx ")])],-1)])]),default:J(()=>[a[8]||(a[8]=H("i",{class:"bi bi-cloud-upload",style:{"font-size":"36px",color:"var(--el-color-primary)"}},null,-1)),a[9]||(a[9]=H("div",{class:"el-upload__text"},[O(" æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„æˆ– "),H("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["file-list"]),r.value?(W(),R("div",Ke,[L(u,{type:"success",closable:!1},{title:J(()=>[H("div",Fe,[H("span",null,[a[10]||(a[10]=H("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),O(" å·²é€‰æ‹©æ–‡ä»¶: "+G(r.value.name),1)]),L(t,{type:"primary",size:"small",loading:o.value,onClick:E},{default:J(()=>[o.value?Y("",!0):(W(),R("i",Re)),O(" "+G(o.value?"è§£æžä¸­...":"è§£æžæ–‡æ¡£ç»“æž„"),1)]),_:1},8,["loading"])])]),_:1})])):Y("",!0)]))])]),_:1})]),_:1}),L(y,{xs:24,sm:24,md:14,lg:14},{default:J(()=>[_.value.length>0?(W(),Q(b,{key:0,shadow:"hover",class:"step-card"},{header:J(()=>[H("div",We,[a[11]||(a[11]=H("i",{class:"bi bi-list-nested me-2 text-success"},null,-1)),a[12]||(a[12]=H("span",{class:"step-title"},"æ­¥éª¤2: é€‰æ‹©ç« èŠ‚",-1)),x.value>0?(W(),Q(l,{key:0,type:"success",size:"small",class:"ms-2"},{default:J(()=>[O(" å·²é€‰ "+G(x.value)+" ä¸ª ",1)]),_:1})):Y("",!0)])]),default:J(()=>{return[H("div",Me,[H("div",He,[H("div",Ye,[a[13]||(a[13]=H("div",{class:"stat-label"},"æ€»ç« èŠ‚æ•°",-1)),H("div",Ge,G(w.value),1)]),H("div",Je,[a[14]||(a[14]=H("div",{class:"stat-label"},"å·²é€‰æ‹©",-1)),H("div",Xe,G(x.value),1)]),H("div",Qe,[a[15]||(a[15]=H("div",{class:"stat-label"},"é€‰ä¸­å­—æ•°",-1)),H("div",Ze,G((e=j.value,e>=1e4?`${(e/1e4).toFixed(1)}ä¸‡`:e.toLocaleString())),1)])]),H("div",ea,[L(U,null,{default:J(()=>[L(t,{size:"small",onClick:P},{default:J(()=>[...a[16]||(a[16]=[H("i",{class:"bi bi-check-all me-1"},null,-1),O(" å…¨é€‰ ",-1)])]),_:1}),L(t,{size:"small",onClick:T},{default:J(()=>[...a[17]||(a[17]=[H("i",{class:"bi bi-x me-1"},null,-1),O(" å…¨ä¸é€‰ ",-1)])]),_:1}),L(t,{size:"small",type:"success",onClick:$},{default:J(()=>[...a[18]||(a[18]=[H("i",{class:"bi bi-cpu me-1"},null,-1),O(" ä»…é€‰æŠ€æœ¯ç« èŠ‚ ",-1)])]),_:1}),L(t,{size:"small",type:"warning",onClick:D},{default:J(()=>[...a[19]||(a[19]=[H("i",{class:"bi bi-file-x me-1"},null,-1),O(" æŽ’é™¤åˆåŒæ¡æ¬¾ ",-1)])]),_:1})]),_:1})]),L(Pe,{ref_key:"chapterTreeRef",ref:s,chapters:_.value,onCheck:A},null,8,["chapters"]),H("div",aa,[L(N,{size:16},{default:J(()=>[L(t,{type:"info",size:"large",disabled:0===x.value,loading:g.value,onClick:F},{default:J(()=>[...a[20]||(a[20]=[H("i",{class:"bi bi-file-earmark-arrow-down me-1"},null,-1),O(" å¦å­˜ä¸ºåº”ç­”æ–‡ä»¶ ",-1)])]),_:1},8,["disabled","loading"]),L(t,{type:"success",size:"large",disabled:0===x.value,loading:k.value,onClick:M},{default:J(()=>[...a[21]||(a[21]=[H("i",{class:"bi bi-file-code me-1"},null,-1),O(" å¦å­˜ä¸ºæŠ€æœ¯éœ€æ±‚ ",-1)])]),_:1},8,["disabled","loading"])]),_:1})])])];var e}),_:1})):Y("",!0)]),_:1})]),_:1}),o.value?(W(),R("div",la,[L(u,{type:"info",closable:!1},{title:J(()=>[H("div",ta,[L(K,{class:"is-loading me-2"},{default:J(()=>[L(Z(v))]),_:1}),H("span",null,G(d.value),1)])]),_:1})])):Y("",!0)])}}}),[["__scopeId","data-v-629c291c"]]),sa={class:"tender-management-detail"},na={class:"tab-content"},ra={class:"info-section"},oa={class:"section-header"},ca={class:"info-section"},ua={class:"section-header"},da={key:0,class:"bi bi-magic me-1"},_a={key:0,class:"amount"},pa={key:1},ma={class:"tab-content"},fa={class:"info-section"},va={class:"section-header"},ha={key:0,class:"bi bi-magic me-1"},ba={key:0,class:"requirements-list"},ya={class:"requirement-content"},ga={class:"requirement-text"},ka={key:0},za={key:1},wa={class:"requirement-status"},xa={class:"info-section"},ja={key:0,class:"requirements-list"},Ca={class:"requirement-content"},Va={class:"requirement-text"},Sa={key:0},Ia={key:1},qa={key:2},Ea={class:"requirement-status"},Aa={class:"info-section"},Ua={key:0,class:"requirements-list"},Pa={class:"requirement-content"},Ta={class:"requirement-text"},Na={key:0},$a={key:1},Da={key:2},La={class:"requirement-status"},Oa={class:"info-section"},Ba={key:0,class:"financial-requirements"},Ka={class:"requirement-content"},Fa={class:"requirement-text"},Ra={class:"tab-label"},Wa={class:"tab-content"},Ma={class:"file-section"},Ha={class:"section-header"},Ya={class:"file-section"},Ga={class:"section-header"},Ja={class:"action-area"},Xa={class:"tab-label"},Qa={class:"tab-content"},Za={class:"info-section"},el={class:"section-header"},al={key:0,class:"documents-grid"},ll={key:1,class:"info-section"},tl={class:"section-header"},il={class:"tab-label"},sl={class:"tab-content"},nl={class:"file-section"},rl={class:"section-header"},ol={class:"file-section"},cl={class:"section-header"},ul={class:"file-section"},dl={class:"section-header"},_l={class:"action-area"},pl=d(A({__name:"ManagementDetail",setup(e){const a=b(),l=y(),t=me(),i=N(!1),s=N(!1),n=N(!1),r=N(null),o=N("basic"),d=N([]),p=N(!1),m=N(!1),f=N([]),v=N([]),A=N(!1),P=N(!1),T=N(""),$=N(""),D=ee({name:"",number:"",company_id:null,tenderer:"",agency:"",bidding_method:"",bidding_location:"",bidding_time:"",budget_amount:null,business_contact_name:"",business_contact_phone:"",tenderer_contact_person:"",tenderer_contact_method:"",agency_contact_person:"",agency_contact_method:"",authorized_person_name:"",authorized_person_id:""}),B={name:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}],number:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®ç¼–å·",trigger:"blur"}],company_id:[{required:!0,message:"è¯·é€‰æ‹©å…¬å¸",trigger:"change"}]},K=U(()=>Number(a.params.id)),F=U(()=>{var e;return(null==(e=r.value)?void 0:e.name)||"é¡¹ç›®è¯¦æƒ…"}),M=U(()=>{const e=a=>{let l=a.length;return a.forEach(a=>{a.children&&a.children.length>0&&(l+=e(a.children))}),l};return e(v.value)}),se=e=>e?"string"==typeof e?{fileUrl:e,fileName:void 0,fileSize:void 0}:{fileUrl:e.file_url||e.download_url||e.file_path||"",fileName:e.filename||e.file_name,fileSize:e.file_size}:null,_e=U(()=>{var e,a;return se(null==(a=null==(e=r.value)?void 0:e.step1_data)?void 0:a.response_file_path)}),he=U(()=>{var e,a;return se(null==(a=null==(e=r.value)?void 0:e.step1_data)?void 0:a.business_response_file)}),be=U(()=>{var e,a;return se(null==(a=null==(e=r.value)?void 0:e.step1_data)?void 0:a.technical_file_path)}),ge=U(()=>{var e,a;return se(null==(a=null==(e=r.value)?void 0:e.step1_data)?void 0:a.technical_point_to_point_file)}),ke=U(()=>{var e,a;return se(null==(a=null==(e=r.value)?void 0:e.step1_data)?void 0:a.technical_proposal_file)}),ze={business_license:"è¥ä¸šæ‰§ç…§ä¿¡æ¯",legal_id_front:"æ³•äººèº«ä»½è¯æ­£é¢",legal_id_back:"æ³•äººèº«ä»½è¯åé¢",auth_id_front:"è¢«æŽˆæƒäººèº«ä»½è¯æ­£é¢",auth_id_back:"è¢«æŽˆæƒäººèº«ä»½è¯åé¢",authorization_letter:"æ³•äººæŽˆæƒå§”æ‰˜ä¹¦",iso9001:"ISO9001è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯",iso20000:"ISO20000ä¿¡æ¯æŠ€æœ¯æœåŠ¡ç®¡ç†ä½“ç³»è®¤è¯",iso27001:"ISO27001ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯",cmmi:"CMMIèƒ½åŠ›æˆç†Ÿåº¦è®¤è¯",itss:"ITSSä¿¡æ¯æŠ€æœ¯æœåŠ¡æ ‡å‡†è®¤è¯",telecom_license:"ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",value_added_telecom_license:"å¢žå€¼ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",basic_telecom_license:"åŸºç¡€ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",level_protection:"ç­‰çº§ä¿æŠ¤è®¤è¯",software_copyright:"è½¯ä»¶è‘—ä½œæƒ",patent_certificate:"ä¸“åˆ©è¯ä¹¦",audit_report:"è´¢åŠ¡è¦æ±‚",project_performance:"é¡¹ç›®ä¸šç»©è¦æ±‚",social_security:"ç¤¾ä¼šä¿é™©è¯æ˜Ž",dishonest_executor:"å¤±ä¿¡è¢«æ‰§è¡Œäºº",tax_violation_check:"é‡å¤§ç¨Žæ”¶è¿æ³•",gov_procurement_creditchina:"æ”¿åºœé‡‡è´­ä¸¥é‡è¿æ³•å¤±ä¿¡è®°å½•ï¼ˆä¿¡ç”¨ä¸­å›½ï¼‰",gov_procurement_ccgp:"æ”¿åºœé‡‡è´­ä¸¥é‡è¿æ³•å¤±ä¿¡è®°å½•ï¼ˆæ”¿åºœé‡‡è´­ç½‘ï¼‰",tax_compliance:"ä¾æ³•çº³ç¨Ž",commitment_letter:"æ‰¿è¯ºå‡½",property_certificate:"è¥ä¸šåŠžå…¬åœºæ‰€æˆ¿äº§è¯æ˜Ž",deposit_requirement:"ä¿è¯é‡‘è¦æ±‚",purchaser_blacklist:"é‡‡è´­äººé»‘åå•"},we=U(()=>{var e;const a=null==(e=r.value)?void 0:e.qualifications_data;return a&&"object"==typeof a&&Object.keys(a).length>0?(e=>{const a=[],l=[],t=[];let i=null;const s=["ISO","è®¤è¯","èµ„è´¨","è®¸å¯è¯","è¯ä¹¦","ç­‰ä¿","è‘—ä½œæƒ","ä¸“åˆ©","ä¿¡ç”¨"],n=["ä¸šç»©","é¡¹ç›®","æ¡ˆä¾‹","åˆåŒ"],r=["äººå‘˜","é¡¹ç›®ç»ç†","æŠ€æœ¯è´Ÿè´£äºº","å·¥ç¨‹å¸ˆ"],o=["è´¢åŠ¡","èµ„æœ¬","èµ„äº§","å®¡è®¡","é“¶è¡Œ","æ³¨å†Œèµ„é‡‘","è¥ä¸šé¢"];return Object.entries(e).forEach(([e,c])=>{const u="mandatory"===c.constraint_type,d=c.detail||"",_=c.summary||e;o.some(a=>e.includes(a))?(i||(i={description:[]}),i.description.push(`${_}: ${d}`)):n.some(a=>e.includes(a))?l.push({description:_,detail:d,required:u}):r.some(a=>e.includes(a))?t.push({position:_,detail:d,required:u}):(s.some(a=>e.includes(a)),a.push({name:_,note:d,required:u}))}),i&&i.description&&(i.description=i.description.join("ï¼›")),{certifications:a,performance:l,personnel:t,financial:i}})(a):{certifications:[],performance:[],personnel:[],financial:null}}),xe=async()=>{if(K.value){i.value=!0;try{const a=(await oe.getProject(K.value)).data;if(r.value={id:a.project_id,name:a.project_name,number:a.project_number,company_id:a.company_id,company_name:a.company_name,status:a.status,created_at:a.created_at,updated_at:a.updated_at,authorized_person_name:a.authorized_person_name,authorized_person_id:a.authorized_person_id,tenderer:a.tenderer,agency:a.agency,bidding_method:a.bidding_method,bidding_location:a.bidding_location,bidding_time:a.bidding_time,budget_amount:a.budget_amount,business_contact_name:a.business_contact_name,business_contact_phone:a.business_contact_phone,tenderer_contact_person:a.tenderer_contact_person,tenderer_contact_method:a.tenderer_contact_method,agency_contact_person:a.agency_contact_person,agency_contact_method:a.agency_contact_method,step1_data:a.step1_data,...a},D.name=r.value.name||"",D.number=r.value.number||"",D.company_id=r.value.company_id||null,D.tenderer=r.value.tenderer||"",D.agency=r.value.agency||"",D.bidding_method=r.value.bidding_method||"",D.bidding_location=r.value.bidding_location||"",D.bidding_time=r.value.bidding_time||"",D.budget_amount=r.value.budget_amount||null,D.business_contact_name=r.value.business_contact_name||"",D.business_contact_phone=r.value.business_contact_phone||"",D.tenderer_contact_person=r.value.tenderer_contact_person||"",D.tenderer_contact_method=r.value.tenderer_contact_method||"",D.agency_contact_person=r.value.agency_contact_person||"",D.agency_contact_method=r.value.agency_contact_method||"",D.authorized_person_name=r.value.authorized_person_name||"",D.authorized_person_id=r.value.authorized_person_id||"",a.step1_data)try{const e="string"==typeof a.step1_data?JSON.parse(a.step1_data):a.step1_data;if(e.chapters&&Array.isArray(e.chapters)){const a=e=>e.filter(e=>!(e.para_start_idx>=e.para_end_idx)&&(0!==e.word_count&&(e.children&&Array.isArray(e.children)&&(e.children=a(e.children)),!0)));v.value=a(e.chapters),v.value.length,e.chapters.length}const l=[];let t=1;if(a.tender_document_path&&l.push({id:t++,file_path:a.tender_document_path,file_url:a.tender_document_path,original_filename:"æ‹›æ ‡æ–‡æ¡£",document_type:"tender",uploaded_at:a.created_at}),e.response_file_path&&l.push({id:t++,file_path:e.response_file_path,file_url:e.response_file_path,original_filename:e.response_filename||"åº”ç­”æ–‡ä»¶æ¨¡æ¿",document_type:"response_template",file_size:e.response_file_size,uploaded_at:a.updated_at}),e.technical_file_path&&l.push({id:t++,file_path:e.technical_file_path,file_url:e.technical_file_path,original_filename:e.technical_filename||"æŠ€æœ¯éœ€æ±‚æ–‡ä»¶",document_type:"technical",file_size:e.technical_file_size,uploaded_at:a.updated_at}),e.business_response_file){const i="string"==typeof e.business_response_file?{file_path:e.business_response_file}:e.business_response_file;l.push({id:t++,file_path:i.file_path||i.file_url,file_url:i.file_url||i.file_path,original_filename:i.file_name||"å•†åŠ¡åº”ç­”å®Œæˆæ–‡ä»¶",document_type:"business_response",file_size:i.file_size,uploaded_at:a.updated_at})}if(e.technical_point_to_point_file){const i="string"==typeof e.technical_point_to_point_file?{file_path:e.technical_point_to_point_file}:e.technical_point_to_point_file;l.push({id:t++,file_path:i.file_path||i.file_url,file_url:i.file_url||i.file_path,original_filename:i.file_name||"æŠ€æœ¯ç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶",document_type:"technical_p2p",file_size:i.file_size,uploaded_at:a.updated_at})}if(e.technical_proposal_file){const i="string"==typeof e.technical_proposal_file?{file_path:e.technical_proposal_file}:e.technical_proposal_file;l.push({id:t++,file_path:i.file_path||i.file_url,file_url:i.file_url||i.file_path,original_filename:i.file_name||"æŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶",document_type:"technical_proposal",file_size:i.file_size,uploaded_at:a.updated_at})}f.value=l}catch(e){}"æ–°é¡¹ç›®"!==r.value.name&&"draft"!==r.value.status||(n.value=!0),r.value&&t.setCurrentProject(r.value)}catch(a){u.error("åŠ è½½é¡¹ç›®è¯¦æƒ…å¤±è´¥")}finally{i.value=!1}}},je=e=>e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}),Ve=e=>({active:"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ",draft:"è‰ç¨¿"}[e]||e),Se=()=>{xe()},Ie=()=>{n.value=!0},qe=()=>{h.confirm("ç¡®å®šè¦å–æ¶ˆç¼–è¾‘å—ï¼Ÿæœªä¿å­˜çš„æ›´æ”¹å°†ä¸¢å¤±","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{xe(),n.value=!1}).catch(()=>{})},Ee=async()=>{var e,a;s.value=!0;try{const e={project_name:D.name,project_number:D.number,company_id:D.company_id,tenderer:D.tenderer,agency:D.agency,bidding_method:D.bidding_method,bidding_location:D.bidding_location,bidding_time:D.bidding_time,budget_amount:D.budget_amount,business_contact_name:D.business_contact_name,business_contact_phone:D.business_contact_phone,tenderer_contact_person:D.tenderer_contact_person,tenderer_contact_method:D.tenderer_contact_method,agency_contact_person:D.agency_contact_person,agency_contact_method:D.agency_contact_method,authorized_person_name:D.authorized_person_name,authorized_person_id:D.authorized_person_id,status:"active"};await oe.updateProject(K.value,e),u.success("ä¿å­˜æˆåŠŸ"),n.value=!1,A.value=!1,await xe()}catch(l){const t=(null==(a=null==(e=null==l?void 0:l.response)?void 0:e.data)?void 0:a.message)||(null==l?void 0:l.message)||"ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥é¡¹ç›®åç§°å’Œç¼–å·æ˜¯å¦ä¸Žå…¶ä»–é¡¹ç›®é‡å¤";u.error({message:t,duration:5e3,showClose:!0})}finally{s.value=!1}},Ae=async()=>{var e;if(!r.value)return;(null==(e=r.value.step1_data)?void 0:e.response_file_path)?(t.setCurrentProject(r.value),await l.push({name:"BusinessResponse"})):u.warning("æœªæ‰¾åˆ°åº”ç­”æ–‡ä»¶æ¨¡æ¿")},Ue=async()=>{var e;if(!r.value)return;(null==(e=r.value.step1_data)?void 0:e.technical_file_path)?(t.setCurrentProject(r.value),await l.push({name:"PointToPoint"})):u.warning("æœªæ‰¾åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")},Te=async()=>{var e;if(!r.value)return;(null==(e=r.value.step1_data)?void 0:e.technical_file_path)?(t.setCurrentProject(r.value),await l.push({name:"TechProposal"})):u.warning("æœªæ‰¾åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")},Ne=async()=>{var e,a;await xe();if(!(null==(e=r.value)?void 0:e.tenderer)&&!(null==(a=r.value)?void 0:a.qualifications_data)){u.info("å¼€å§‹è‡ªåŠ¨æ‰§è¡ŒAIæå–...");try{await De(),await Ee(),await Le(),u.success("AIè‡ªåŠ¨æå–å®Œæˆï¼")}catch(l){u.warning("è‡ªåŠ¨AIæå–å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®é‡è¯•")}}},$e=async e=>{await xe(),"response"===e?(u.success("åº”ç­”æ–‡ä»¶å·²ä¿å­˜ï¼Œå¯ä»¥å¼€å§‹å•†åŠ¡åº”ç­”å¤„ç†"),o.value="business"):"technical"===e&&(u.success("æŠ€æœ¯éœ€æ±‚å·²ä¿å­˜ï¼Œå¯ä»¥å¼€å§‹æŠ€æœ¯æ–¹æ¡ˆç¼–å†™"),o.value="technical")},De=async()=>{if(K.value){p.value=!0;try{const e=await oe.extractBasicInfo(K.value);if(!e.success||!e.data)throw new Error(e.error||"AIæå–å¤±è´¥");{const a=e.data,l=e=>{if(!e)return null;const a=String(e),l=a.match(/[\d.]+/);if(!l)return null;const t=parseFloat(l[0]);return isNaN(t)?null:a.includes("ä¸‡")?1e4*t:t};Object.assign(D,{name:a.project_name||D.name,number:a.project_number||D.number,tenderer:a.tender_party||D.tenderer,agency:a.tender_agent||D.agency,bidding_method:a.tender_method||D.bidding_method,bidding_location:a.tender_location||D.bidding_location,bidding_time:a.tender_deadline||D.bidding_time,budget_amount:l(a.budget_amount)||D.budget_amount,tenderer_contact_person:a.tenderer_contact_person||D.tenderer_contact_person,tenderer_contact_method:a.tenderer_contact_method||D.tenderer_contact_method,agency_contact_person:a.agency_contact_person||D.agency_contact_person,agency_contact_method:a.agency_contact_method||D.agency_contact_method}),r.value&&Object.assign(r.value,{name:a.project_name||r.value.name,number:a.project_number||r.value.number,tenderer:a.tender_party||r.value.tenderer,agency:a.tender_agent||r.value.agency,bidding_method:a.tender_method||r.value.bidding_method,bidding_location:a.tender_location||r.value.bidding_location,bidding_time:a.tender_deadline||r.value.bidding_time,budget_amount:a.budget_amount?parseFloat(String(a.budget_amount).replace(/[^\d.]/g,"")||"0"):r.value.budget_amount,tenderer_contact_person:a.tenderer_contact_person||r.value.tenderer_contact_person,tenderer_contact_method:a.tenderer_contact_method||r.value.tenderer_contact_method,agency_contact_person:a.agency_contact_person||r.value.agency_contact_person,agency_contact_method:a.agency_contact_method||r.value.agency_contact_method}),n.value||(n.value=!0),A.value=!0,u.success({message:"AIæå–åŸºæœ¬ä¿¡æ¯æˆåŠŸï¼Œå·²è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¯·æ£€æŸ¥ä¿¡æ¯åŽæ‰‹åŠ¨ä¿å­˜",duration:5e3,showClose:!0}),setTimeout(()=>{const e=document.querySelector(".info-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300)}}catch(e){u.error(`AIæå–å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{p.value=!1}}else u.warning("è¯·å…ˆä¸Šä¼ å¹¶è§£æžæ‹›æ ‡æ–‡æ¡£")},Le=async()=>{if(K.value){m.value=!0;try{const e=await oe.extractQualifications(K.value);if(!e.success)throw new Error(e.error||"AIæå–å¤±è´¥");u.success("AIæå–èµ„æ ¼è¦æ±‚æˆåŠŸï¼Œæ­£åœ¨åˆ·æ–°æ•°æ®..."),await xe(),u.success("èµ„æ ¼è¦æ±‚å·²æ›´æ–°")}catch(e){u.error(`AIæå–å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{m.value=!1}}else u.warning("è¯·å…ˆä¸Šä¼ å¹¶è§£æžæ‹›æ ‡æ–‡æ¡£")},Oe=(e,a)=>{T.value=e,$.value=a,P.value=!0};return X(()=>D.company_id,e=>{if(e&&d.value.length>0){const a=d.value.find(a=>a.company_id===e);a&&(D.authorized_person_name=a.authorized_person_name||"",D.authorized_person_id=a.authorized_person_id||"",r.value&&(r.value.authorized_person_name=a.authorized_person_name||"",r.value.authorized_person_id=a.authorized_person_id||""),a.authorized_person_name&&u.success(`å·²è‡ªåŠ¨å¡«å……è¢«æŽˆæƒäººä¿¡æ¯: ${a.authorized_person_name}`))}}),X(()=>a.params.id,()=>{xe()}),ae(()=>{(async()=>{try{const e=await pe.getCompanies();d.value=e.data||[]}catch(e){}})(),xe()}),(e,a)=>{const l=c,t=ne,u=_,h=k,b=ue,y=I,U=S,N=ce,X=g,ee=ve,ae=fe,se=V,oe=C,pe=de,me=re,Be=z,Ke=x,Fe=w,Re=ye,We=j;return W(),R("div",sa,[L(Z(E),{title:F.value,"show-back":!0},{actions:J(()=>[n.value?(W(),R(le,{key:1},[L(l,{onClick:qe},{default:J(()=>[...a[19]||(a[19]=[H("i",{class:"bi bi-x-lg"},null,-1),O(" å–æ¶ˆ ",-1)])]),_:1}),L(l,{type:"primary",loading:s.value,onClick:Ee},{default:J(()=>[...a[20]||(a[20]=[H("i",{class:"bi bi-check-lg"},null,-1),O(" ä¿å­˜ ",-1)])]),_:1},8,["loading"])],64)):(W(),R(le,{key:0},[L(l,{onClick:Se},{default:J(()=>[...a[17]||(a[17]=[H("i",{class:"bi bi-arrow-clockwise"},null,-1),O(" åˆ·æ–° ",-1)])]),_:1}),L(l,{type:"primary",onClick:Ie},{default:J(()=>[...a[18]||(a[18]=[H("i",{class:"bi bi-pencil"},null,-1),O(" ç¼–è¾‘é¡¹ç›® ",-1)])]),_:1})],64))]),_:1},8,["title"]),i.value?(W(),Q(Z(q),{key:0,text:"åŠ è½½é¡¹ç›®è¯¦æƒ…..."})):r.value?(W(),R(le,{key:1},[L(ia,{"project-id":K.value,"company-id":r.value.company_id,"project-detail":r.value,onSuccess:$e,onRefresh:xe,onParseComplete:Ne,onPreview:Oe},null,8,["project-id","company-id","project-detail"]),L(pe,{class:"tabs-card",shadow:"never"},{default:J(()=>[L(We,{modelValue:o.value,"onUpdate:modelValue":a[15]||(a[15]=e=>o.value=e),class:"detail-tabs"},{default:J(()=>[L(oe,{name:"basic"},{label:J(()=>[...a[21]||(a[21]=[H("span",{class:"tab-label"},[H("i",{class:"bi bi-info-circle"}),O(" åŸºæœ¬ä¿¡æ¯ ")],-1)])]),default:J(()=>{return[H("div",na,[H("section",ra,[H("div",oa,[a[22]||(a[22]=H("h3",null,[H("i",{class:"bi bi-folder"}),O(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯")],-1)),L(t,{type:(e=r.value.status,{active:"success",completed:"primary",draft:"info"}[e]||"info")},{default:J(()=>[O(G(Ve(r.value.status)),1)]),_:1},8,["type"])]),n.value?(W(),Q(X,{key:0,model:D,rules:B,"label-width":"120px",class:"edit-form"},{default:J(()=>[L(N,{gutter:20},{default:J(()=>[L(b,{span:24},{default:J(()=>[L(h,{label:"é¡¹ç›®åç§°",prop:"name"},{default:J(()=>[L(u,{modelValue:D.name,"onUpdate:modelValue":a[0]||(a[0]=e=>D.name=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®åç§°"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"é¡¹ç›®ç¼–å·",prop:"number"},{default:J(()=>[L(u,{modelValue:D.number,"onUpdate:modelValue":a[1]||(a[1]=e=>D.number=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®ç¼–å·"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"å…¬å¸åç§°",prop:"company_id"},{default:J(()=>[L(U,{modelValue:D.company_id,"onUpdate:modelValue":a[2]||(a[2]=e=>D.company_id=e),placeholder:"è¯·é€‰æ‹©å…¬å¸",style:{width:"100%"}},{default:J(()=>[(W(!0),R(le,null,te(d.value,e=>(W(),Q(y,{key:e.company_id,label:e.name,value:e.company_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"è¢«æŽˆæƒäºº"},{default:J(()=>[L(u,{modelValue:D.authorized_person_name,"onUpdate:modelValue":a[3]||(a[3]=e=>D.authorized_person_name=e),placeholder:"è¯·è¾“å…¥è¢«æŽˆæƒäººå§“å"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"æŽˆæƒäººèº«ä»½è¯"},{default:J(()=>[L(u,{modelValue:D.authorized_person_id,"onUpdate:modelValue":a[4]||(a[4]=e=>D.authorized_person_id=e),placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(W(),Q(ae,{key:1,column:2,border:"",size:"large"},{default:J(()=>[L(ee,{label:"é¡¹ç›®åç§°",span:2},{default:J(()=>[H("strong",null,G(r.value.name),1)]),_:1}),L(ee,{label:"é¡¹ç›®ç¼–å·"},{default:J(()=>[O(G(r.value.number||"-"),1)]),_:1}),L(ee,{label:"å…¬å¸åç§°"},{default:J(()=>[O(G(r.value.company_name),1)]),_:1}),L(ee,{label:"åˆ›å»ºæ—¶é—´"},{default:J(()=>[O(G(r.value.created_at),1)]),_:1}),L(ee,{label:"æœ€åŽæ›´æ–°"},{default:J(()=>[O(G(r.value.updated_at||"-"),1)]),_:1}),L(ee,{label:"è¢«æŽˆæƒäºº"},{default:J(()=>[O(G(r.value.authorized_person_name||"-"),1)]),_:1}),L(ee,{label:"æŽˆæƒäººèº«ä»½è¯"},{default:J(()=>[O(G(r.value.authorized_person_id||"-"),1)]),_:1})]),_:1}))]),H("section",ca,[H("div",ua,[H("h3",null,[a[24]||(a[24]=H("i",{class:"bi bi-megaphone"},null,-1)),a[25]||(a[25]=O(" æ‹›æ ‡ä¿¡æ¯ ",-1)),A.value&&n.value?(W(),Q(t,{key:0,type:"warning",size:"small",style:{"margin-left":"10px"}},{default:J(()=>[...a[23]||(a[23]=[H("i",{class:"bi bi-exclamation-triangle-fill"},null,-1),O(" æœ‰æœªä¿å­˜çš„æ›´æ”¹ ",-1)])]),_:1})):Y("",!0)]),L(l,{size:"small",type:"primary",loading:p.value,disabled:!K.value||p.value,onClick:De},{default:J(()=>[p.value?Y("",!0):(W(),R("i",da)),O(" "+G(p.value?"AIæå–ä¸­...":"AIæå–åŸºæœ¬ä¿¡æ¯"),1)]),_:1},8,["loading","disabled"])]),n.value?(W(),Q(X,{key:0,model:D,"label-width":"120px",class:"edit-form"},{default:J(()=>[L(N,{gutter:20},{default:J(()=>[L(b,{span:12},{default:J(()=>[L(h,{label:"æ‹›æ ‡å•ä½"},{default:J(()=>[L(u,{modelValue:D.tenderer,"onUpdate:modelValue":a[5]||(a[5]=e=>D.tenderer=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡å•ä½"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"æ‹›æ ‡ä»£ç†"},{default:J(()=>[L(u,{modelValue:D.agency,"onUpdate:modelValue":a[6]||(a[6]=e=>D.agency=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡ä»£ç†"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"æ‹›æ ‡æ–¹å¼"},{default:J(()=>[L(u,{modelValue:D.bidding_method,"onUpdate:modelValue":a[7]||(a[7]=e=>D.bidding_method=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡æ–¹å¼"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"å¼€æ ‡åœ°ç‚¹"},{default:J(()=>[L(u,{modelValue:D.bidding_location,"onUpdate:modelValue":a[8]||(a[8]=e=>D.bidding_location=e),placeholder:"è¯·è¾“å…¥å¼€æ ‡åœ°ç‚¹"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"å¼€æ ‡æ—¶é—´"},{default:J(()=>[L(u,{modelValue:D.bidding_time,"onUpdate:modelValue":a[9]||(a[9]=e=>D.bidding_time=e),placeholder:"è¯·è¾“å…¥å¼€æ ‡æ—¶é—´"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"é¢„ç®—é‡‘é¢"},{default:J(()=>[L(se,{modelValue:D.budget_amount,"onUpdate:modelValue":a[10]||(a[10]=e=>D.budget_amount=e),controls:!1,precision:2,placeholder:"è¯·è¾“å…¥é¢„ç®—é‡‘é¢",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"æ‹›æ ‡æ–¹è”ç³»äºº"},{default:J(()=>[L(u,{modelValue:D.tenderer_contact_person,"onUpdate:modelValue":a[11]||(a[11]=e=>D.tenderer_contact_person=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡æ–¹è”ç³»äºº"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"æ‹›æ ‡æ–¹è”ç³»ç”µè¯"},{default:J(()=>[L(u,{modelValue:D.tenderer_contact_method,"onUpdate:modelValue":a[12]||(a[12]=e=>D.tenderer_contact_method=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡æ–¹è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"ä»£ç†æœºæž„è”ç³»äºº"},{default:J(()=>[L(u,{modelValue:D.agency_contact_person,"onUpdate:modelValue":a[13]||(a[13]=e=>D.agency_contact_person=e),placeholder:"è¯·è¾“å…¥ä»£ç†æœºæž„è”ç³»äºº"},null,8,["modelValue"])]),_:1})]),_:1}),L(b,{span:12},{default:J(()=>[L(h,{label:"ä»£ç†æœºæž„è”ç³»ç”µè¯"},{default:J(()=>[L(u,{modelValue:D.agency_contact_method,"onUpdate:modelValue":a[14]||(a[14]=e=>D.agency_contact_method=e),placeholder:"è¯·è¾“å…¥ä»£ç†æœºæž„è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(W(),Q(ae,{key:1,column:2,border:"",size:"large"},{default:J(()=>[L(ee,{label:"æ‹›æ ‡å•ä½"},{default:J(()=>[O(G(r.value.tenderer||"-"),1)]),_:1}),L(ee,{label:"æ‹›æ ‡ä»£ç†"},{default:J(()=>[O(G(r.value.agency||"-"),1)]),_:1}),L(ee,{label:"æ‹›æ ‡æ–¹å¼"},{default:J(()=>[O(G(r.value.bidding_method||"-"),1)]),_:1}),L(ee,{label:"å¼€æ ‡åœ°ç‚¹"},{default:J(()=>[O(G(r.value.bidding_location||"-"),1)]),_:1}),L(ee,{label:"å¼€æ ‡æ—¶é—´"},{default:J(()=>[O(G(r.value.bidding_time||"-"),1)]),_:1}),L(ee,{label:"é¢„ç®—é‡‘é¢"},{default:J(()=>[r.value.budget_amount?(W(),R("span",_a," Â¥ "+G(je(r.value.budget_amount)),1)):(W(),R("span",pa,"-"))]),_:1}),L(ee,{label:"æ‹›æ ‡æ–¹è”ç³»äºº"},{default:J(()=>[O(G(r.value.tenderer_contact_person||"-"),1)]),_:1}),L(ee,{label:"æ‹›æ ‡æ–¹è”ç³»ç”µè¯"},{default:J(()=>[O(G(r.value.tenderer_contact_method||"-"),1)]),_:1}),L(ee,{label:"ä»£ç†æœºæž„è”ç³»äºº"},{default:J(()=>[O(G(r.value.agency_contact_person||"-"),1)]),_:1}),L(ee,{label:"ä»£ç†æœºæž„è”ç³»ç”µè¯"},{default:J(()=>[O(G(r.value.agency_contact_method||"-"),1)]),_:1})]),_:1}))])])];var e}),_:1}),L(oe,{name:"qualifications"},{label:J(()=>[...a[26]||(a[26]=[H("span",{class:"tab-label"},[H("i",{class:"bi bi-award"}),O(" èµ„æ ¼è¦æ±‚ ")],-1)])]),default:J(()=>[H("div",ma,[H("section",fa,[H("div",va,[a[27]||(a[27]=H("h3",null,[H("i",{class:"bi bi-patch-check"}),O(" èµ„è´¨è¦æ±‚")],-1)),L(l,{size:"small",type:"primary",loading:m.value,disabled:!K.value||m.value,onClick:Le},{default:J(()=>[m.value?Y("",!0):(W(),R("i",ha)),O(" "+G(m.value?"AIæå–ä¸­...":"AIæå–èµ„æ ¼è¦æ±‚"),1)]),_:1},8,["loading","disabled"])]),we.value.certifications.length>0?(W(),R("div",ba,[(W(!0),R(le,null,te(we.value.certifications,(e,l)=>(W(),Q(pe,{key:l,shadow:"never",class:"requirement-item"},{default:J(()=>{return[H("div",ya,[a[30]||(a[30]=H("div",{class:"requirement-icon"},[H("i",{class:"bi bi-shield-check"})],-1)),H("div",ga,[H("h4",null,G((l=e.name,ze[l]?ze[l]:l)),1),e.level?(W(),R("p",ka,"ç­‰çº§è¦æ±‚: "+G(e.level),1)):Y("",!0),e.note?(W(),R("p",za,G(e.note),1)):Y("",!0)]),H("div",wa,[e.required?(W(),Q(t,{key:0,type:"danger",size:"small"},{default:J(()=>[...a[28]||(a[28]=[O(" å¿…éœ€ ",-1)])]),_:1})):(W(),Q(t,{key:1,type:"info",size:"small"},{default:J(()=>[...a[29]||(a[29]=[O("å¯é€‰",-1)])]),_:1}))])])];var l}),_:2},1024))),128))])):(W(),Q(me,{key:1,description:"æš‚æ— èµ„è´¨è¦æ±‚","image-size":80}))]),H("section",xa,[a[34]||(a[34]=H("div",{class:"section-header"},[H("h3",null,[H("i",{class:"bi bi-graph-up-arrow"}),O(" ä¸šç»©è¦æ±‚")])],-1)),we.value.performance.length>0?(W(),R("div",ja,[(W(!0),R(le,null,te(we.value.performance,(e,l)=>(W(),Q(pe,{key:l,shadow:"never",class:"requirement-item"},{default:J(()=>[H("div",Ca,[a[33]||(a[33]=H("div",{class:"requirement-icon"},[H("i",{class:"bi bi-briefcase"})],-1)),H("div",Va,[H("h4",null,G(e.description),1),e.amount?(W(),R("p",Sa,"é‡‘é¢è¦æ±‚: â‰¥ Â¥"+G(je(e.amount)),1)):Y("",!0),e.time_range?(W(),R("p",Ia,"æ—¶é—´èŒƒå›´: "+G(e.time_range),1)):Y("",!0),e.count?(W(),R("p",qa,"æ•°é‡è¦æ±‚: "+G(e.count)+" ä¸ª",1)):Y("",!0)]),H("div",Ea,[e.required?(W(),Q(t,{key:0,type:"danger",size:"small"},{default:J(()=>[...a[31]||(a[31]=[O(" å¿…éœ€ ",-1)])]),_:1})):(W(),Q(t,{key:1,type:"info",size:"small"},{default:J(()=>[...a[32]||(a[32]=[O("å¯é€‰",-1)])]),_:1}))])])]),_:2},1024))),128))])):(W(),Q(me,{key:1,description:"æš‚æ— ä¸šç»©è¦æ±‚","image-size":80}))]),H("section",Aa,[a[38]||(a[38]=H("div",{class:"section-header"},[H("h3",null,[H("i",{class:"bi bi-people"}),O(" äººå‘˜é…ç½®è¦æ±‚")])],-1)),we.value.personnel.length>0?(W(),R("div",Ua,[(W(!0),R(le,null,te(we.value.personnel,(e,l)=>(W(),Q(pe,{key:l,shadow:"never",class:"requirement-item"},{default:J(()=>[H("div",Pa,[a[37]||(a[37]=H("div",{class:"requirement-icon"},[H("i",{class:"bi bi-person-badge"})],-1)),H("div",Ta,[H("h4",null,G(e.position),1),e.count?(W(),R("p",Na,"äººæ•°: "+G(e.count)+" äºº",1)):Y("",!0),e.qualification?(W(),R("p",$a,"èµ„æ ¼è¦æ±‚: "+G(e.qualification),1)):Y("",!0),e.experience?(W(),R("p",Da,"ç»éªŒè¦æ±‚: "+G(e.experience),1)):Y("",!0)]),H("div",La,[e.required?(W(),Q(t,{key:0,type:"danger",size:"small"},{default:J(()=>[...a[35]||(a[35]=[O(" å¿…éœ€ ",-1)])]),_:1})):(W(),Q(t,{key:1,type:"info",size:"small"},{default:J(()=>[...a[36]||(a[36]=[O("å¯é€‰",-1)])]),_:1}))])])]),_:2},1024))),128))])):(W(),Q(me,{key:1,description:"æš‚æ— äººå‘˜é…ç½®è¦æ±‚","image-size":80}))]),H("section",Oa,[a[41]||(a[41]=H("div",{class:"section-header"},[H("h3",null,[H("i",{class:"bi bi-cash-stack"}),O(" è´¢åŠ¡è¦æ±‚")])],-1)),we.value.financial?(W(),R("div",Ba,[L(pe,{shadow:"never",class:"requirement-item"},{default:J(()=>[H("div",Ka,[a[40]||(a[40]=H("div",{class:"requirement-icon"},[H("i",{class:"bi bi-cash-stack"})],-1)),H("div",Fa,[a[39]||(a[39]=H("h4",null,"è´¢åŠ¡ç›¸å…³è¦æ±‚",-1)),H("p",null,G(we.value.financial.description),1)])])]),_:1})])):(W(),Q(me,{key:1,description:"æš‚æ— è´¢åŠ¡è¦æ±‚","image-size":80}))])])]),_:1}),L(oe,{name:"business"},{label:J(()=>{var e;return[H("span",Ra,[a[42]||(a[42]=H("i",{class:"bi bi-briefcase"},null,-1)),a[43]||(a[43]=O(" å•†åŠ¡åº”ç­” ",-1)),(null==(e=r.value.step1_data)?void 0:e.business_response_file)?(W(),Q(Be,{key:0,"is-dot":"",type:"success"})):Y("",!0)])]}),default:J(()=>[H("div",Wa,[H("section",Ma,[H("div",Ha,[a[45]||(a[45]=H("h3",null,[H("i",{class:"bi bi-file-earmark-text"}),O(" åº”ç­”æ–‡ä»¶æ¨¡æ¿")],-1)),L(t,{type:"info",size:"small"},{default:J(()=>[...a[44]||(a[44]=[O("AI è‡ªåŠ¨æå–",-1)])]),_:1})]),_e.value?(W(),Q(Ce,{key:0,"file-url":_e.value.fileUrl,"file-name":_e.value.fileName,"file-size":_e.value.fileSize,"show-actions":!0,onPreview:Oe},null,8,["file-url","file-name","file-size"])):(W(),Q(me,{key:1,description:"æš‚æœªæå–åˆ°åº”ç­”æ–‡ä»¶æ¨¡æ¿","image-size":80},{extra:J(()=>[L(Ke,{type:"info",size:"small"},{default:J(()=>[...a[46]||(a[46]=[O(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1})]),_:1}))]),L(Fe),H("section",Ya,[H("div",Ga,[a[49]||(a[49]=H("h3",null,[H("i",{class:"bi bi-file-earmark-check"}),O(" å•†åŠ¡åº”ç­”å®Œæˆæ–‡ä»¶")],-1)),he.value?(W(),Q(t,{key:0,type:"success",size:"small"},{default:J(()=>[...a[47]||(a[47]=[H("i",{class:"bi bi-check-circle-fill"},null,-1),O(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(W(),Q(t,{key:1,type:"info",size:"small"},{default:J(()=>[...a[48]||(a[48]=[O("æœªç”Ÿæˆ",-1)])]),_:1}))]),he.value?(W(),Q(Ce,{key:0,"file-url":he.value.fileUrl,"file-name":he.value.fileName,"file-size":he.value.fileSize,"show-actions":!0,type:"success",onPreview:Oe},null,8,["file-url","file-name","file-size"])):(W(),Q(me,{key:1,description:"æš‚æœªç”Ÿæˆå•†åŠ¡åº”ç­”æ–‡ä»¶","image-size":80},{extra:J(()=>[L(Ke,{type:"info",size:"small"},{default:J(()=>[...a[50]||(a[50]=[O(" ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ç”Ÿæˆå•†åŠ¡åº”ç­” ",-1)])]),_:1})]),_:1}))]),H("div",Ja,[L(l,{type:"primary",size:"large",disabled:!_e.value,onClick:Ae},{default:J(()=>[a[51]||(a[51]=H("i",{class:"bi bi-rocket-takeoff"},null,-1)),O(" "+G(he.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"å•†åŠ¡åº”ç­” ",1)]),_:1},8,["disabled"]),_e.value?Y("",!0):(W(),Q(Ke,{key:0,type:"warning",size:"small"},{default:J(()=>[...a[52]||(a[52]=[H("i",{class:"bi bi-exclamation-triangle"},null,-1),O(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1}))])])]),_:1}),L(oe,{name:"documents"},{label:J(()=>[H("span",Xa,[a[53]||(a[53]=H("i",{class:"bi bi-files"},null,-1)),a[54]||(a[54]=O(" æ–‡æ¡£ä¸Žç« èŠ‚ ",-1)),f.value.length>0||v.value.length>0?(W(),Q(Be,{key:0,value:f.value.length,type:"success"},null,8,["value"])):Y("",!0)])]),default:J(()=>[H("div",Qa,[H("section",Za,[H("div",el,[a[55]||(a[55]=H("h3",null,[H("i",{class:"bi bi-file-earmark-text"}),O(" é¡¹ç›®æ–‡æ¡£")],-1)),f.value.length>0?(W(),Q(t,{key:0,type:"success",size:"small"},{default:J(()=>[O(" å…± "+G(f.value.length)+" ä¸ªæ–‡ä»¶ ",1)]),_:1})):Y("",!0)]),f.value.length>0?(W(),R("div",al,[(W(!0),R(le,null,te(f.value,e=>(W(),Q(Ce,{key:e.id,"file-url":e.file_url||e.file_path,"file-name":e.original_filename,"file-size":e.file_size,"upload-time":e.uploaded_at,"show-actions":!0,onPreview:Oe},null,8,["file-url","file-name","file-size","upload-time"]))),128))])):(W(),Q(me,{key:1,description:"æš‚æ— æ–‡æ¡£","image-size":80},{extra:J(()=>[L(Ke,{type:"info",size:"small"},{default:J(()=>[...a[56]||(a[56]=[O(" è¯·åœ¨é¡µé¢é¡¶éƒ¨ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ ",-1)])]),_:1})]),_:1}))]),v.value.length>0?(W(),Q(Fe,{key:0})):Y("",!0),v.value.length>0?(W(),R("section",ll,[H("div",tl,[a[57]||(a[57]=H("h3",null,[H("i",{class:"bi bi-list-nested"}),O(" å·²è¯†åˆ«ç« èŠ‚")],-1)),L(t,{type:"success",size:"small"},{default:J(()=>[O(" å…± "+G(M.value)+" ä¸ªç« èŠ‚ ",1)]),_:1})]),L(Pe,{chapters:v.value,"show-checkbox":!1,"show-search":!0},null,8,["chapters"])])):Y("",!0)])]),_:1}),L(oe,{name:"technical"},{label:J(()=>{var e,l;return[H("span",il,[a[58]||(a[58]=H("i",{class:"bi bi-cpu"},null,-1)),a[59]||(a[59]=O(" æŠ€æœ¯éœ€æ±‚ ",-1)),(null==(e=r.value.step1_data)?void 0:e.technical_point_to_point_file)||(null==(l=r.value.step1_data)?void 0:l.technical_proposal_file)?(W(),Q(Be,{key:0,"is-dot":"",type:"success"})):Y("",!0)])]}),default:J(()=>[H("div",sl,[H("section",nl,[H("div",rl,[a[61]||(a[61]=H("h3",null,[H("i",{class:"bi bi-file-earmark-text"}),O(" æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")],-1)),L(t,{type:"info",size:"small"},{default:J(()=>[...a[60]||(a[60]=[O("AI è‡ªåŠ¨æå–",-1)])]),_:1})]),be.value?(W(),Q(Ce,{key:0,"file-url":be.value.fileUrl,"file-name":be.value.fileName,"file-size":be.value.fileSize,"show-actions":!0,onPreview:Oe},null,8,["file-url","file-name","file-size"])):(W(),Q(me,{key:1,description:"æš‚æœªæå–åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶","image-size":80}))]),L(Fe),H("section",ol,[H("div",cl,[a[64]||(a[64]=H("h3",null,[H("i",{class:"bi bi-arrow-left-right"}),O(" ç‚¹å¯¹ç‚¹åº”ç­”å®Œæˆæ–‡ä»¶")],-1)),ge.value?(W(),Q(t,{key:0,type:"success",size:"small"},{default:J(()=>[...a[62]||(a[62]=[H("i",{class:"bi bi-check-circle-fill"},null,-1),O(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(W(),Q(t,{key:1,type:"info",size:"small"},{default:J(()=>[...a[63]||(a[63]=[O("æœªç”Ÿæˆ",-1)])]),_:1}))]),ge.value?(W(),Q(Ce,{key:0,"file-url":ge.value.fileUrl,"file-name":ge.value.fileName,"file-size":ge.value.fileSize,"show-actions":!0,type:"success",onPreview:Oe},null,8,["file-url","file-name","file-size"])):(W(),Q(me,{key:1,description:"æš‚æœªç”Ÿæˆç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶","image-size":80}))]),L(Fe),H("section",ul,[H("div",dl,[a[67]||(a[67]=H("h3",null,[H("i",{class:"bi bi-file-code"}),O(" æŠ€æœ¯æ–¹æ¡ˆå®Œæˆæ–‡ä»¶")],-1)),ke.value?(W(),Q(t,{key:0,type:"success",size:"small"},{default:J(()=>[...a[65]||(a[65]=[H("i",{class:"bi bi-check-circle-fill"},null,-1),O(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(W(),Q(t,{key:1,type:"info",size:"small"},{default:J(()=>[...a[66]||(a[66]=[O("æœªç”Ÿæˆ",-1)])]),_:1}))]),ke.value?(W(),Q(Ce,{key:0,"file-url":ke.value.fileUrl,"file-name":ke.value.fileName,"file-size":ke.value.fileSize,"show-actions":!0,type:"success",onPreview:Oe},null,8,["file-url","file-name","file-size"])):(W(),Q(me,{key:1,description:"æš‚æœªç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶","image-size":80}))]),H("div",_l,[L(Re,{size:16},{default:J(()=>[L(l,{type:"primary",size:"large",disabled:!be.value,onClick:Ue},{default:J(()=>[a[68]||(a[68]=H("i",{class:"bi bi-arrow-left-right"},null,-1)),O(" "+G(ge.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"ç‚¹å¯¹ç‚¹åº”ç­” ",1)]),_:1},8,["disabled"]),L(l,{type:"primary",size:"large",disabled:!be.value,onClick:Te},{default:J(()=>[a[69]||(a[69]=H("i",{class:"bi bi-file-code"},null,-1)),O(" "+G(ke.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"æŠ€æœ¯æ–¹æ¡ˆç¼–å†™ ",1)]),_:1},8,["disabled"])]),_:1}),be.value?Y("",!0):(W(),Q(Ke,{key:0,type:"warning",size:"small"},{default:J(()=>[...a[70]||(a[70]=[H("i",{class:"bi bi-exclamation-triangle"},null,-1),O(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1}))])])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)):(W(),Q(me,{key:2,description:"é¡¹ç›®ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥"})),L(Z(ie),{modelValue:P.value,"onUpdate:modelValue":a[16]||(a[16]=e=>P.value=e),"file-url":T.value,"file-name":$.value},null,8,["modelValue","file-url","file-name"])])}}}),[["__scopeId","data-v-14ef603f"]]);export{pl as default};
