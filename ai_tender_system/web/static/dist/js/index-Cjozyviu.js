import{m as e,p as l,_ as o,d as a,K as s,N as t,c3 as n,x as r,c4 as d,c as i,o as u,e as c,a0 as f,C as v,I as p,F as y,t as g,g as b,w as C,B as m,G as h,c5 as w,H as k,D as A,b0 as B,b6 as F,n as I,O as S,c6 as _,a5 as x,r as R,c7 as $,c8 as D,z as L,an as P,am as E,b1 as M,c9 as O,A as z,L as T,ak as j,be as N,W as q,bF as V,aO as K,v as G,a9 as H,a2 as J,ai as U,ca as W,cb as Z,cc as Q,a1 as X,aj as Y,M as ee,J as le}from"./index.js";import{t as oe,i as ae}from"./el-select-BSk6f2dL.js";const se=Symbol("dialogInjectionKey"),te="dialog-fade",ne=e({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:l},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),re=(...e)=>l=>{e.forEach(e=>{e.value=l})},de=a({name:"ElDialogContent"});var ie=o(a({...de,props:ne,emits:{close:()=>!0},setup(e,{expose:l}){const o=e,{t:a}=s(),{Close:B}=w,{dialogRef:F,headerRef:I,bodyId:S,ns:_,style:x}=t(se),{focusTrapRef:R}=t(n),$=re(R,F),D=r(()=>!!o.draggable),L=r(()=>!!o.overflow),{resetPosition:P,updatePosition:E,isDragging:M}=d(F,I,D,L),O=r(()=>[_.b(),_.is("fullscreen",o.fullscreen),_.is("draggable",D.value),_.is("dragging",M.value),_.is("align-center",!!o.alignCenter),{[_.m("center")]:o.center}]);return l({resetPosition:P,updatePosition:E}),(e,l)=>(u(),i("div",{ref:y($),class:p(y(O)),style:A(y(x)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:I,class:p([y(_).e("header"),e.headerClass,{"show-close":e.showClose}])},[v(e.$slots,"header",{},()=>[c("span",{role:"heading","aria-level":e.ariaLevel,class:p(y(_).e("title"))},g(e.title),11,["aria-level"])]),e.showClose?(u(),i("button",{key:0,"aria-label":y(a)("el.dialog.close"),class:p(y(_).e("headerbtn")),type:"button",onClick:l=>e.$emit("close")},[b(y(k),{class:p(y(_).e("close"))},{default:C(()=>[(u(),m(h(e.closeIcon||y(B))))]),_:1},8,["class"])],10,["aria-label","onClick"])):f("v-if",!0)],2),c("div",{id:y(S),class:p([y(_).e("body"),e.bodyClass])},[v(e.$slots,"default")],10,["id"]),e.$slots.footer?(u(),i("footer",{key:0,class:p([y(_).e("footer"),e.footerClass])},[v(e.$slots,"footer")],2)):f("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const ue=e({...ne,appendToBody:Boolean,appendTo:{type:oe.to.type,default:"body"},beforeClose:{type:I(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:I([String,Object]),default:void 0}}),ce={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[F]:e=>B(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fe=a({name:"ElDialog",inheritAttrs:!1});const ve=le(o(a({...fe,props:ue,emits:ce,setup(e,{expose:l}){const o=e,a=V();K({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},r(()=>!!a.title));const s=G("dialog"),t=R(),n=R(),d=R(),{visible:i,titleId:g,bodyId:h,style:w,overlayDialogStyle:k,rendered:B,transitionConfig:I,zIndex:le,_draggable:oe,_alignCenter:ne,_overflow:re,handleClose:de,onModalClick:ue,onOpenAutoFocus:ce,onCloseAutoFocus:fe,onCloseRequested:ve,onFocusoutPrevented:pe}=((e,l)=>{var o;const a=S().emit,{nextZIndex:s}=_();let t="";const n=x(),d=x(),i=R(!1),u=R(!1),c=R(!1),f=R(null!=(o=e.zIndex)?o:s());let v,p;const y=$(),g=r(()=>{var e,l;return null!=(l=null==(e=y.value)?void 0:e.namespace)?l:D}),b=r(()=>{var e;return null==(e=y.value)?void 0:e.dialog}),C=r(()=>{const l={},o=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(l[`${o}-margin-top`]=e.top),e.width&&(l[`${o}-width`]=L(e.width))),l}),m=r(()=>{var l,o,a;return null!=(a=null!=(o=e.draggable)?o:null==(l=b.value)?void 0:l.draggable)&&a&&!e.fullscreen}),h=r(()=>{var l,o,a;return null!=(a=null!=(o=e.alignCenter)?o:null==(l=b.value)?void 0:l.alignCenter)&&a}),w=r(()=>{var l,o,a;return null!=(a=null!=(o=e.overflow)?o:null==(l=b.value)?void 0:l.overflow)&&a}),k=r(()=>h.value?{display:"flex"}:{}),A=r(()=>{var l,o,a;const s=null!=(a=null!=(o=e.transition)?o:null==(l=b.value)?void 0:l.transition)?a:te,t={name:s,onAfterEnter:B,onBeforeLeave:V,onAfterLeave:I};if(P(s)){const e={...s},l=(e,l)=>o=>{E(e)?e.forEach(e=>{M(e)&&e(o)}):M(e)&&e(o),l()};return e.onAfterEnter=l(e.onAfterEnter,B),e.onBeforeLeave=l(e.onBeforeLeave,V),e.onAfterLeave=l(e.onAfterLeave,I),e.name||(e.name=te),e}return t});function B(){a("opened")}function I(){a("closed"),a(F,!1),e.destroyOnClose&&(c.value=!1)}function V(){a("close")}function K(){null==p||p(),null==v||v(),e.openDelay&&e.openDelay>0?({stop:v}=j(()=>J(),e.openDelay)):J()}function G(){null==v||v(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=j(()=>U(),e.closeDelay)):U()}function H(){e.beforeClose?e.beforeClose(function(e){e||(u.value=!0,i.value=!1)}):G()}function J(){N&&(i.value=!0)}function U(){i.value=!1}return e.lockScroll&&O(i),z(()=>e.zIndex,()=>{var l;f.value=null!=(l=e.zIndex)?l:s()}),z(()=>e.modelValue,o=>{var t;o?(u.value=!1,K(),c.value=!0,f.value=null!=(t=e.zIndex)?t:s(),q(()=>{a("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):i.value&&G()}),z(()=>e.fullscreen,e=>{l.value&&(e?(t=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=t)}),T(()=>{e.modelValue&&(i.value=!0,c.value=!0,K())}),{afterEnter:B,afterLeave:I,beforeLeave:V,handleClose:H,onModalClick:function(){e.closeOnClickModal&&H()},close:G,doClose:U,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&H()},onFocusoutPrevented:function(e){var l;"pointer"===(null==(l=e.detail)?void 0:l.focusReason)&&e.preventDefault()},titleId:n,bodyId:d,closed:u,style:C,overlayDialogStyle:k,rendered:c,visible:i,zIndex:f,transitionConfig:A,_draggable:m,_alignCenter:h,_overflow:w}})(o,t);ee(se,{dialogRef:t,headerRef:n,bodyId:h,ns:s,rendered:B,style:w});const ye=Z(ue),ge=r(()=>o.modalPenetrable&&!o.modal&&!o.fullscreen);return l({visible:i,dialogContentRef:d,resetPosition:()=>{var e;null==(e=d.value)||e.resetPosition()},handleClose:de}),(e,l)=>(u(),m(y(ae),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:C(()=>[b(H,J(y(I),{persisted:""}),{default:C(()=>{var l;return[U(b(y(W),{"custom-mask-event":"",mask:e.modal,"overlay-class":[null!=(l=e.modalClass)?l:"",`${y(s).namespace.value}-modal-dialog`,y(s).is("penetrable",y(ge))],"z-index":y(le)},{default:C(()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:y(g),"aria-describedby":y(h),class:p(`${y(s).namespace.value}-overlay-dialog`),style:A(y(k)),onClick:y(ye).onClick,onMousedown:y(ye).onMousedown,onMouseup:y(ye).onMouseup},[b(y(Q),{loop:"",trapped:y(i),"focus-start-el":"container",onFocusAfterTrapped:y(ce),onFocusAfterReleased:y(fe),onFocusoutPrevented:y(pe),onReleaseRequested:y(ve)},{default:C(()=>[y(B)?(u(),m(ie,J({key:0,ref_key:"dialogContentRef",ref:d},e.$attrs,{center:e.center,"align-center":y(ne),"close-icon":e.closeIcon,draggable:y(oe),overflow:y(re),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:y(de)}),X({header:C(()=>[e.$slots.title?v(e.$slots,"title",{key:1}):v(e.$slots,"header",{key:0,close:y(de),titleId:y(g),titleClass:y(s).e("title")})]),default:C(()=>[v(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:C(()=>[v(e.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):f("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Y,y(i)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{ve as E,re as c};
