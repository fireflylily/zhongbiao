import{I as e,J as a,K as l,v as s,a3 as t,c as n,aH as u,P as o,Y as i,V as r,G as d,t as p,u as c,D as v,aL as m,aM as f,aN as g,F as _}from"./element-plus-ZLeSHaWT.js";import{v as b,r as w,c as y,x as h,O as x,F as C,M as j,aa as B,K as z,L as G,B as I,u as R,y as q,E as P,H as T,J as A}from"./vue-core-CiAVTOOY.js";import{_ as V}from"./index.js";import"./utils-CTJnFPw-.js";import"./vendor-ZqVwfHSb.js";const k={class:"system-status"},L={class:"overview-content"},M={class:"overview-info"},Q={class:"overview-label"},U={class:"overview-value"},F={style:{display:"flex","justify-content":"space-between","align-items":"center"}},H={style:{padding:"20px"}},J={style:{"font-size":"14px"}},K={style:{"margin-top":"20px","text-align":"center"}},S={style:{display:"flex","justify-content":"space-between","align-items":"center"}},W=V(b({__name:"Status",setup(b){const V=w([{label:"系统运行时长",value:"15天 8小时",icon:m,iconClass:"icon-primary"},{label:"CPU使用率",value:"45%",icon:f,iconClass:"icon-success"},{label:"内存使用",value:"8.2 GB / 16 GB",icon:g,iconClass:"icon-warning"},{label:"今日处理文档",value:"1,234",icon:_,iconClass:"icon-info"}]),W=w([{name:"Web服务",status:"running",uptime:"15天 8小时",cpu:35,memory:52,requests:1234,avgResponseTime:"45ms"},{name:"AI服务",status:"running",uptime:"15天 8小时",cpu:78,memory:68,requests:567,avgResponseTime:"1.2s"},{name:"文档处理服务",status:"running",uptime:"15天 8小时",cpu:42,memory:45,requests:234,avgResponseTime:"380ms"},{name:"知识库服务",status:"running",uptime:"15天 8小时",cpu:28,memory:38,requests:890,avgResponseTime:"120ms"}]),D=w({type:"PostgreSQL",version:"14.5",connected:!0,activeConnections:12,idleConnections:8,maxConnections:100,size:"2.5 GB",tables:45,slowQueries:3}),E=w({percentage:68,used:"340 GB",total:"500 GB"}),N=w("all"),O=w([{time:"2025-01-15 10:23:45",level:"info",module:"Web服务",message:"用户登录成功: admin"},{time:"2025-01-15 10:22:30",level:"info",module:"AI服务",message:"文档处理任务完成: task_12345"},{time:"2025-01-15 10:21:15",level:"warning",module:"数据库",message:"慢查询检测: 查询耗时3.2秒"},{time:"2025-01-15 10:20:00",level:"error",module:"AI服务",message:"API调用失败: 超时"},{time:"2025-01-15 10:18:45",level:"info",module:"知识库",message:"文档索引更新完成"}]),Y=y(()=>"all"===N.value?O.value:O.value.filter(e=>e.level===N.value)),X=()=>{},Z=e=>e>=80?"#f56c6c":e>=60?"#e6a23c":"#67c23a";return(m,f)=>{const g=v,_=o,b=d,w=e,y=n,O=l,$=s,ee=t,ae=a,le=r,se=i,te=c,ne=p;return q(),h("div",k,[x(w,{gutter:20},{default:C(()=>[(q(!0),h(j,null,B(V.value,e=>(q(),P(b,{span:6,key:e.label},{default:C(()=>[x(_,{shadow:"hover",class:"overview-card"},{default:C(()=>[I("div",L,[x(g,{class:T(["overview-icon",e.iconClass])},{default:C(()=>[(q(),P(A(e.icon)))]),_:2},1032,["class"]),I("div",M,[I("div",Q,G(e.label),1),I("div",U,G(e.value),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),x(_,{shadow:"never",style:{"margin-top":"20px"}},{header:C(()=>[I("div",F,[f[2]||(f[2]=I("span",null,"服务状态",-1)),x(y,{size:"small",icon:R(u),onClick:X},{default:C(()=>[...f[1]||(f[1]=[z("刷新",-1)])]),_:1},8,["icon"])])]),default:C(()=>[x(ae,{data:W.value,border:""},{default:C(()=>[x(O,{prop:"name",label:"服务名称","min-width":"150"}),x(O,{prop:"status",label:"状态",width:"100"},{default:C(({row:e})=>[x($,{type:"running"===e.status?"success":"danger"},{default:C(()=>[z(G("running"===e.status?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),x(O,{prop:"uptime",label:"运行时长",width:"150"}),x(O,{prop:"cpu",label:"CPU使用率",width:"120"},{default:C(({row:e})=>[x(ee,{percentage:e.cpu,color:Z(e.cpu)},null,8,["percentage","color"])]),_:1}),x(O,{prop:"memory",label:"内存使用率",width:"120"},{default:C(({row:e})=>[x(ee,{percentage:e.memory,color:Z(e.memory)},null,8,["percentage","color"])]),_:1}),x(O,{prop:"requests",label:"请求数/分钟",width:"130"}),x(O,{prop:"avgResponseTime",label:"平均响应时间",width:"130"})]),_:1},8,["data"])]),_:1}),x(_,{shadow:"never",style:{"margin-top":"20px"}},{header:C(()=>[...f[3]||(f[3]=[I("span",null,"数据库状态",-1)])]),default:C(()=>[x(se,{column:3,border:""},{default:C(()=>[x(le,{label:"数据库类型"},{default:C(()=>[z(G(D.value.type),1)]),_:1}),x(le,{label:"版本"},{default:C(()=>[z(G(D.value.version),1)]),_:1}),x(le,{label:"连接状态"},{default:C(()=>[x($,{type:D.value.connected?"success":"danger"},{default:C(()=>[z(G(D.value.connected?"已连接":"未连接"),1)]),_:1},8,["type"])]),_:1}),x(le,{label:"活动连接数"},{default:C(()=>[z(G(D.value.activeConnections),1)]),_:1}),x(le,{label:"空闲连接数"},{default:C(()=>[z(G(D.value.idleConnections),1)]),_:1}),x(le,{label:"最大连接数"},{default:C(()=>[z(G(D.value.maxConnections),1)]),_:1}),x(le,{label:"数据库大小"},{default:C(()=>[z(G(D.value.size),1)]),_:1}),x(le,{label:"表数量"},{default:C(()=>[z(G(D.value.tables),1)]),_:1}),x(le,{label:"慢查询数"},{default:C(()=>[z(G(D.value.slowQueries),1)]),_:1})]),_:1})]),_:1}),x(w,{gutter:20,style:{"margin-top":"20px"}},{default:C(()=>[x(b,{span:12},{default:C(()=>[x(_,{shadow:"never"},{header:C(()=>[...f[4]||(f[4]=[I("span",null,"磁盘使用情况",-1)])]),default:C(()=>[I("div",H,[x(ee,{type:"circle",percentage:E.value.percentage,width:150,color:Z(E.value.percentage)},{default:C(()=>[I("span",J,G(E.value.percentage)+"%",1)]),_:1},8,["percentage","color"]),I("div",K,[I("div",null,"已使用: "+G(E.value.used),1),I("div",null,"总容量: "+G(E.value.total),1)])])]),_:1})]),_:1}),x(b,{span:12},{default:C(()=>[x(_,{shadow:"never"},{header:C(()=>[...f[5]||(f[5]=[I("span",null,"缓存状态",-1)])]),default:C(()=>[x(se,{column:1,border:""},{default:C(()=>[x(le,{label:"缓存类型"},{default:C(()=>[...f[6]||(f[6]=[z("Redis",-1)])]),_:1}),x(le,{label:"连接状态"},{default:C(()=>[x($,{type:"success"},{default:C(()=>[...f[7]||(f[7]=[z("已连接",-1)])]),_:1})]),_:1}),x(le,{label:"使用内存"},{default:C(()=>[...f[8]||(f[8]=[z("256 MB",-1)])]),_:1}),x(le,{label:"键数量"},{default:C(()=>[...f[9]||(f[9]=[z("1,234",-1)])]),_:1}),x(le,{label:"命中率"},{default:C(()=>[...f[10]||(f[10]=[z("98.5%",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),x(_,{shadow:"never",style:{"margin-top":"20px"}},{header:C(()=>[I("div",S,[f[11]||(f[11]=I("span",null,"最近日志",-1)),x(ne,{modelValue:N.value,"onUpdate:modelValue":f[0]||(f[0]=e=>N.value=e),size:"small",style:{width:"120px"}},{default:C(()=>[x(te,{label:"全部",value:"all"}),x(te,{label:"错误",value:"error"}),x(te,{label:"警告",value:"warning"}),x(te,{label:"信息",value:"info"})]),_:1},8,["modelValue"])])]),default:C(()=>[x(ae,{data:Y.value,"max-height":"400"},{default:C(()=>[x(O,{prop:"time",label:"时间",width:"180"}),x(O,{prop:"level",label:"级别",width:"100"},{default:C(({row:e})=>{return[x($,{type:(a=e.level,{error:"danger",warning:"warning",info:"info"}[a]||"info"),size:"small"},{default:C(()=>[z(G(e.level),1)]),_:2},1032,["type"])];var a}),_:1}),x(O,{prop:"module",label:"模块",width:"150"}),x(O,{prop:"message",label:"消息","min-width":"300"})]),_:1},8,["data"])]),_:1})])}}}),[["__scopeId","data-v-2645e107"]]);export{W as default};
