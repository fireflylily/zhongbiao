import{d as e,r as l,c as s,S as a,e as t,o as i,k as c,b4 as u,F as o,n,l as r,p as d,U as p,t as v,f as _,w as f,g as m,m as b,X as y,P as h,V as k,y as g,aL as j,ay as x,az as w,b5 as z,a as F,A as V,z as I,u as P,M as C,h as D,Y as U,W as R,ar as q,as as $}from"./vendor-UMr2cBTC.js";import{L as S}from"./Loading-BSu0R5TQ.js";/* empty css                                                                          */import{P as L}from"./PageHeader-CVTfhGQy.js";/* empty css                                                                        */import{_ as T}from"./index.js";import{u as W}from"./useProjectDocuments-V2iiB3g0.js";import{u as B}from"./project-ByeBFM8-.js";import"./tender-ZYcn_VXM.js";const M={class:"document-merge-panel"},N={class:"merge-section"},H={class:"files-status"},J={class:"status-icon"},O={key:0,class:"bi bi-check-circle-fill text-success"},A={key:1,class:"bi bi-x-circle-fill text-danger"},E={class:"file-info"},K={class:"file-name"},X={class:"file-meta"},Y={key:1,class:"text-muted"},G={key:0,class:"file-actions"},Q={class:"status-icon"},Z={key:0,class:"bi bi-check-circle-fill text-success"},ee={key:1,class:"bi bi-dash-circle text-warning"},le={class:"file-info"},se={class:"file-name"},ae={class:"file-meta"},te={key:1,class:"text-muted"},ie={key:0,class:"file-actions"},ce={class:"status-icon"},ue={key:0,class:"bi bi-check-circle-fill text-success"},oe={key:1,class:"bi bi-x-circle-fill text-danger"},ne={class:"file-info"},re={class:"file-name"},de={class:"file-meta"},pe={key:1,class:"text-muted"},ve={key:0,class:"file-actions"},_e={key:0},fe={key:1},me={key:0,class:"merge-section"},be={class:"config-group"},ye={class:"doc-order-list"},he={class:"doc-order-item fixed"},ke={key:0,class:"doc-order-item"},ge={class:"doc-order-item"},je={class:"order-number"},xe={class:"config-group"},we={class:"options-list"},ze={class:"config-group"},Fe={class:"index-template-preview"},Ve={class:"score-items-preview"},Ie={class:"config-group"},Pe={key:1,class:"merge-section"},Ce={key:0,class:"action-area"},De={key:1,class:"merge-progress"},Ue={class:"progress-message"},Re={class:"progress-details"},qe={key:0,class:"current"},$e={key:2,class:"merge-result"},Se={class:"result-info"},Le={class:"stats-list"},Te={key:0},We={key:1},Be={key:2},Me={class:"processing-details"},Ne={key:0},He={key:1},Je={key:2},Oe={key:3},Ae={class:"action-buttons"},Ee=T(e({__name:"DocumentMergePanel",props:{projectId:{},currentDocuments:{}},setup(e){const P=e,C=l(!0),D=l({}),U=l({required:!1,type:"none"}),R=l({include_p2p:!0,doc_order:["business","p2p","tech"],generate_toc:!0,remove_blanks:!0,unify_styles:!0,add_section_breaks:!0,output_filename:""}),q=l(!1),$=l(!1),S=l(0),L=l(""),T=l(""),W=l(""),B=l([]),Ee=l(null),Ke=l(!0),Xe=s(()=>D.value.business&&D.value.tech),Ye=async()=>{var e,l;try{$.value=!0;const e={business:D.value.business.file_path,tech:D.value.tech.file_path};R.value.include_p2p&&D.value.p2p&&(e.p2p=D.value.p2p.file_path);const l=await F.post(`/api/projects/${P.projectId}/merge-documents`,{file_paths:e,config:{...R.value,index_config:U.value}});if(l.data.success){const e=l.data.task_id||P.projectId;q.value=!0,$.value=!1,Ge(e)}}catch(s){V.error((null==(l=null==(e=s.response)?void 0:e.data)?void 0:l.error)||"启动整合失败"),$.value=!1}},Ge=e=>{const l=new EventSource(`/api/merge-status/${e}`);l.onmessage=e=>{try{const s=JSON.parse(e.data);if(S.value=s.progress_percentage||0,T.value=s.current_step||"",s.current_step&&!B.value.includes(s.current_step)&&(W.value&&B.value.push(W.value),W.value=s.current_step),"completed"===s.overall_status){if(L.value="success",S.value=100,s.options){const e="string"==typeof s.options?JSON.parse(s.options):s.options;Ee.value={filename:R.value.output_filename+".docx",file_path:e.merged_document_path,file_size:e.file_size||0,stats:e.stats,created_at:(new Date).toLocaleString("zh-CN")}}q.value=!1,l.close(),V.success("文档整合完成！")}else"failed"===s.overall_status&&(L.value="exception",q.value=!1,l.close(),V.error("文档整合失败："+s.current_step))}catch(s){}},l.onerror=()=>{l.close(),q.value&&(V.error("进度监听中断"),q.value=!1)}},Qe=()=>{I.confirm("确定要重新整合吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Ee.value=null,S.value=0,L.value="",T.value="",W.value="",B.value=[]}).catch(()=>{})},Ze=e=>{if(!e)return"";if(e.startsWith("/api/"))return e;let l=e;const s="/Users/lvhe/Downloads/zhongbiao/zhongbiao/";return l.startsWith(s)&&(l=l.substring(42)),l.startsWith("ai_tender_system/data/")?l=l.substring(22):l.startsWith("data/")&&(l=l.substring(5)),`/api/files/serve/${l}`},el=()=>{var e;if(null==(e=Ee.value)?void 0:e.file_path){const e=Ze(Ee.value.file_path)+"?download=true";window.open(e,"_blank")}},ll=()=>{var e;if(null==(e=Ee.value)?void 0:e.file_path){const e=Ze(Ee.value.file_path);window.open(e,"_blank")}},sl=()=>{var e;(null==(e=Ee.value)?void 0:e.file_path)&&(V.success("正在打开编辑器..."),V.info("编辑功能开发中..."))},al=e=>{const l=D.value[e];if(null==l?void 0:l.file_path){const e=Ze(l.file_path);window.open(e,"_blank")}},tl=e=>e?e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB":"--";return a(()=>{(async()=>{var e,l,s,a,t,i;try{if(C.value=!0,P.currentDocuments){const c=P.currentDocuments;return D.value={},c.businessResponseFile&&(D.value.business={status:"ready",file_path:c.businessResponseFile.outputFile,file_name:(null==(e=c.businessResponseFile.outputFile)?void 0:e.split("/").pop())||"商务应答文件.docx",file_size:(null==(l=c.businessResponseFile.stats)?void 0:l.file_size)||0}),c.p2pResponseFile&&(D.value.p2p={status:"ready",file_path:c.p2pResponseFile.outputFile,file_name:(null==(s=c.p2pResponseFile.outputFile)?void 0:s.split("/").pop())||"点对点应答文件.docx",file_size:(null==(a=c.p2pResponseFile.stats)?void 0:a.file_size)||0}),c.techProposalFile&&(D.value.tech={status:"ready",file_path:c.techProposalFile.outputFile,file_name:(null==(t=c.techProposalFile.outputFile)?void 0:t.split("/").pop())||"技术方案文件.docx",file_size:(null==(i=c.techProposalFile.stats)?void 0:i.file_size)||0}),R.value={include_p2p:!!D.value.p2p,doc_order:D.value.p2p?["business","p2p","tech"]:["business","tech"],generate_toc:!0,remove_blanks:!0,unify_styles:!0,add_section_breaks:!0,output_filename:`项目${P.projectId}_最终标书`},void(C.value=!1)}const c=await F.get(`/api/projects/${P.projectId}/merge-config`);if(c.data.success){const e=c.data.data;D.value=e.files||{},U.value=e.index_requirement||{required:!1,type:"none"},e.default_config&&(R.value={...e.default_config})}}catch(c){V.error("加载配置失败")}finally{C.value=!1}})()}),(e,l)=>{const s=u,a=m,F=b,V=y,I=h,P=g,Ge=j,Ze=w,il=x,cl=z;return i(),t("div",M,[C.value?(i(),c(s,{key:0,rows:10,animated:""})):(i(),t(o,{key:1},[n("section",N,[l[18]||(l[18]=n("div",{class:"section-header"},[n("h3",null,[n("i",{class:"bi bi-file-check"}),d(" 步骤 1/3：文件状态检查")])],-1)),n("div",H,[n("div",{class:p(["file-status-item",{"file-ready":D.value.business}])},[n("div",J,[D.value.business?(i(),t("i",O)):(i(),t("i",A))]),n("div",E,[l[11]||(l[11]=n("h4",null,"商务应答文件",-1)),D.value.business?(i(),t(o,{key:0},[n("p",K,v(D.value.business.file_name),1),n("p",X,v(tl(D.value.business.file_size)),1)],64)):(i(),t("p",Y,"未生成"))]),D.value.business?(i(),t("div",G,[_(a,{size:"small",onClick:l[0]||(l[0]=e=>al("business"))},{default:f(()=>[...l[12]||(l[12]=[n("i",{class:"bi bi-eye"},null,-1),d(" 预览 ",-1)])]),_:1})])):r("",!0)],2),n("div",{class:p(["file-status-item",{"file-ready":D.value.p2p}])},[n("div",Q,[D.value.p2p?(i(),t("i",Z)):(i(),t("i",ee))]),n("div",le,[l[13]||(l[13]=n("h4",null,"技术点对点应答",-1)),D.value.p2p?(i(),t(o,{key:0},[n("p",se,v(D.value.p2p.file_name),1),n("p",ae,v(tl(D.value.p2p.file_size)),1)],64)):(i(),t("p",te,"未生成（可选）"))]),D.value.p2p?(i(),t("div",ie,[_(a,{size:"small",onClick:l[1]||(l[1]=e=>al("p2p"))},{default:f(()=>[...l[14]||(l[14]=[n("i",{class:"bi bi-eye"},null,-1),d(" 预览 ",-1)])]),_:1})])):r("",!0)],2),n("div",{class:p(["file-status-item",{"file-ready":D.value.tech}])},[n("div",ce,[D.value.tech?(i(),t("i",ue)):(i(),t("i",oe))]),n("div",ne,[l[15]||(l[15]=n("h4",null,"技术方案文件",-1)),D.value.tech?(i(),t(o,{key:0},[n("p",re,v(D.value.tech.file_name),1),n("p",de,v(tl(D.value.tech.file_size)),1)],64)):(i(),t("p",pe,"未生成"))]),D.value.tech?(i(),t("div",ve,[_(a,{size:"small",onClick:l[2]||(l[2]=e=>al("tech"))},{default:f(()=>[...l[16]||(l[16]=[n("i",{class:"bi bi-eye"},null,-1),d(" 预览 ",-1)])]),_:1})])):r("",!0)],2)]),Xe.value?r("",!0):(i(),c(F,{key:0,type:"warning",closable:!1,"show-icon":"",class:"mt-3"},{title:f(()=>[...l[17]||(l[17]=[d(" 无法整合：缺少必需的文件 ",-1)])]),default:f(()=>[D.value.business?r("",!0):(i(),t("p",_e,"• 商务应答文件未生成，请先完成商务应答")),D.value.tech?r("",!0):(i(),t("p",fe,"• 技术方案文件未生成，请先完成技术方案"))]),_:1}))]),Xe.value?(i(),t("section",me,[l[42]||(l[42]=n("div",{class:"section-header"},[n("h3",null,[n("i",{class:"bi bi-sliders"}),d(" 步骤 2/3：整合配置")])],-1)),n("div",be,[l[27]||(l[27]=n("h4",null,[n("i",{class:"bi bi-files"}),d(" 文档组成与顺序")],-1)),n("div",ye,[n("div",he,[l[20]||(l[20]=n("span",{class:"order-number"},"1",-1)),l[21]||(l[21]=n("span",{class:"doc-name"},"商务应答",-1)),_(V,{size:"small",type:"info"},{default:f(()=>[...l[19]||(l[19]=[d("固定第一部分",-1)])]),_:1})]),D.value.p2p?(i(),t("div",ke,[l[23]||(l[23]=n("span",{class:"order-number"},"2",-1)),l[24]||(l[24]=n("span",{class:"doc-name"},"点对点应答",-1)),_(I,{modelValue:R.value.include_p2p,"onUpdate:modelValue":l[3]||(l[3]=e=>R.value.include_p2p=e)},{default:f(()=>[...l[22]||(l[22]=[d("包含此部分",-1)])]),_:1},8,["modelValue"])])):r("",!0),n("div",ge,[n("span",je,v(D.value.p2p?"3":"2"),1),l[26]||(l[26]=n("span",{class:"doc-name"},"技术方案",-1)),_(V,{size:"small",type:"success"},{default:f(()=>[...l[25]||(l[25]=[d("✓ 包含",-1)])]),_:1})])])]),n("div",xe,[l[32]||(l[32]=n("h4",null,[n("i",{class:"bi bi-palette"}),d(" 格式与目录选项")],-1)),n("div",we,[_(I,{modelValue:R.value.generate_toc,"onUpdate:modelValue":l[4]||(l[4]=e=>R.value.generate_toc=e)},{default:f(()=>[...l[28]||(l[28]=[d(" 自动生成目录（基于1-3级标题，带页码） ",-1)])]),_:1},8,["modelValue"]),_(I,{modelValue:R.value.remove_blanks,"onUpdate:modelValue":l[5]||(l[5]=e=>R.value.remove_blanks=e)},{default:f(()=>[...l[29]||(l[29]=[d(" 删除空白页和空白段落 ",-1)])]),_:1},8,["modelValue"]),_(I,{modelValue:R.value.unify_styles,"onUpdate:modelValue":l[6]||(l[6]=e=>R.value.unify_styles=e)},{default:f(()=>[...l[30]||(l[30]=[d(" 统一页眉页脚格式 ",-1)])]),_:1},8,["modelValue"]),_(I,{modelValue:R.value.add_section_breaks,"onUpdate:modelValue":l[7]||(l[7]=e=>R.value.add_section_breaks=e)},{default:f(()=>[...l[31]||(l[31]=[d(" 每部分间添加分节符 ",-1)])]),_:1},8,["modelValue"])])]),n("div",ze,[l[39]||(l[39]=n("h4",null,[n("i",{class:"bi bi-list-ol"}),d(" 索引设置")],-1)),U.value.required?"fixed_format"===U.value.type?(i(),c(F,{key:1,type:"warning",closable:!1,"show-icon":""},{title:f(()=>[...l[34]||(l[34]=[d(" 招标文件要求提供固定格式索引 ",-1)])]),default:f(()=>[n("div",Fe,[n("pre",null,v(U.value.template),1)]),_(I,{modelValue:Ke.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Ke.value=e),disabled:"",checked:""},{default:f(()=>[...l[35]||(l[35]=[d(" 自动生成索引（必需） ",-1)])]),_:1},8,["modelValue"])]),_:1})):"score_based"===U.value.type?(i(),c(F,{key:2,type:"success",closable:!1,"show-icon":""},{title:f(()=>[...l[36]||(l[36]=[d(" 招标文件要求以评分标准建立索引 ",-1)])]),default:f(()=>[n("div",Ve,[l[37]||(l[37]=n("p",null,"将基于以下评分项生成索引：",-1)),n("ul",null,[(i(!0),t(o,null,k(U.value.score_items,e=>(i(),t("li",{key:e},v(e),1))),128))])]),_(I,{modelValue:Ke.value,"onUpdate:modelValue":l[9]||(l[9]=e=>Ke.value=e),disabled:"",checked:""},{default:f(()=>[...l[38]||(l[38]=[d(" 自动生成评分标准索引（必需） ",-1)])]),_:1},8,["modelValue"])]),_:1})):r("",!0):(i(),c(F,{key:0,type:"info",closable:!1,"show-icon":""},{title:f(()=>[...l[33]||(l[33]=[d(" 招标文件未要求提供索引，无需生成 ",-1)])]),_:1}))]),n("div",Ie,[l[41]||(l[41]=n("h4",null,[n("i",{class:"bi bi-file-earmark-text"}),d(" 文档名称")],-1)),_(P,{modelValue:R.value.output_filename,"onUpdate:modelValue":l[10]||(l[10]=e=>R.value.output_filename=e),placeholder:"请输入最终标书文件名",maxlength:"100","show-word-limit":""},{suffix:f(()=>[...l[40]||(l[40]=[d(".docx",-1)])]),_:1},8,["modelValue"])])])):r("",!0),Xe.value?(i(),t("section",Pe,[l[58]||(l[58]=n("div",{class:"section-header"},[n("h3",null,[n("i",{class:"bi bi-rocket-takeoff"}),d(" 步骤 3/3：开始整合")])],-1)),q.value||Ee.value?r("",!0):(i(),t("div",Ce,[_(a,{type:"primary",size:"large",loading:$.value,onClick:Ye},{default:f(()=>[...l[43]||(l[43]=[n("i",{class:"bi bi-play-fill"},null,-1),d(" 开始整合 ",-1)])]),_:1},8,["loading"])])),q.value?(i(),t("div",De,[_(Ge,{percentage:S.value,status:L.value},null,8,["percentage","status"]),n("p",Ue,v(T.value),1),n("div",Re,[l[46]||(l[46]=n("h5",null,"处理详情：",-1)),n("ul",null,[(i(!0),t(o,null,k(B.value,(e,s)=>(i(),t("li",{key:s,class:"completed"},[l[44]||(l[44]=n("i",{class:"bi bi-check-circle-fill"},null,-1)),d(" "+v(e),1)]))),128)),W.value?(i(),t("li",qe,[l[45]||(l[45]=n("i",{class:"bi bi-arrow-right-circle-fill"},null,-1)),d(" "+v(W.value),1)])):r("",!0)])])])):r("",!0),Ee.value?(i(),t("div",$e,[_(cl,{icon:"success",title:"整合完成！","sub-title":"您的最终标书已生成"},{extra:f(()=>{var e,s,c,u,o,p;return[n("div",Se,[l[55]||(l[55]=n("h4",null,[n("i",{class:"bi bi-file-earmark-check"}),d(" 文件信息")],-1)),_(il,{column:2,border:""},{default:f(()=>[_(Ze,{label:"文件名"},{default:f(()=>[d(v(Ee.value.filename),1)]),_:1}),_(Ze,{label:"文件大小"},{default:f(()=>[d(v(tl(Ee.value.file_size)),1)]),_:1}),_(Ze,{label:"总页数"},{default:f(()=>{var e;return[d(v((null==(e=Ee.value.stats)?void 0:e.total_pages)||"--")+" 页 ",1)]}),_:1}),_(Ze,{label:"生成时间"},{default:f(()=>[d(v(Ee.value.created_at),1)]),_:1})]),_:1}),l[56]||(l[56]=n("h4",{class:"mt-3"},[n("i",{class:"bi bi-bar-chart"}),d(" 文件组成统计")],-1)),n("ul",Le,[(null==(e=Ee.value.stats)?void 0:e.toc_pages)?(i(),t("li",Te," 目录："+v(Ee.value.stats.toc_pages)+" 页 ",1)):r("",!0),n("li",null,"商务应答："+v((null==(s=Ee.value.stats)?void 0:s.business_pages)||"--")+" 页",1),R.value.include_p2p?(i(),t("li",We," 点对点应答："+v((null==(c=Ee.value.stats)?void 0:c.p2p_pages)||"--")+" 页 ",1)):r("",!0),n("li",null,"技术方案："+v((null==(u=Ee.value.stats)?void 0:u.tech_pages)||"--")+" 页",1),(null==(o=Ee.value.stats)?void 0:o.index_pages)?(i(),t("li",Be," 索引："+v(Ee.value.stats.index_pages)+" 页 ",1)):r("",!0)]),l[57]||(l[57]=n("h4",{class:"mt-3"},[n("i",{class:"bi bi-tools"}),d(" 处理详情")],-1)),n("ul",Me,[(null==(p=Ee.value.stats)?void 0:p.removed_blanks)?(i(),t("li",Ne,[l[47]||(l[47]=n("i",{class:"bi bi-check-circle text-success"},null,-1)),d(" 已删除 "+v(Ee.value.stats.removed_blanks)+" 个空白段落 ",1)])):r("",!0),R.value.generate_toc?(i(),t("li",He,[...l[48]||(l[48]=[n("i",{class:"bi bi-check-circle text-success"},null,-1),d(" 已生成多级目录 ",-1)])])):r("",!0),U.value.required?(i(),t("li",Je,[l[49]||(l[49]=n("i",{class:"bi bi-check-circle text-success"},null,-1)),d(" 已生成"+v("score_based"===U.value.type?"评分标准":"固定格式")+"索引 ",1)])):r("",!0),R.value.unify_styles?(i(),t("li",Oe,[...l[50]||(l[50]=[n("i",{class:"bi bi-check-circle text-success"},null,-1),d(" 已统一页眉页脚 ",-1)])])):r("",!0)]),n("div",Ae,[_(a,{type:"primary",size:"large",onClick:el},{default:f(()=>[...l[51]||(l[51]=[n("i",{class:"bi bi-download"},null,-1),d(" 下载Word版 ",-1)])]),_:1}),_(a,{type:"success",size:"large",onClick:ll},{default:f(()=>[...l[52]||(l[52]=[n("i",{class:"bi bi-eye"},null,-1),d(" 在线预览 ",-1)])]),_:1}),_(a,{type:"warning",size:"large",onClick:sl},{default:f(()=>[...l[53]||(l[53]=[n("i",{class:"bi bi-pencil-square"},null,-1),d(" 在线编辑 ",-1)])]),_:1}),_(a,{size:"large",onClick:Qe},{default:f(()=>[...l[54]||(l[54]=[n("i",{class:"bi bi-arrow-clockwise"},null,-1),d(" 重新整合 ",-1)])]),_:1})])])]}),_:1})])):r("",!0)])):r("",!0)],64))])}}}),[["__scopeId","data-v-4f5ce16e"]]),Ke={class:"final-tender-page"},Xe={class:"selector-content"},Ye={class:"project-option"},Ge={class:"project-name"},Qe={class:"project-status"},Ze={class:"project-info"},el={class:"project-header"},ll={class:"project-meta"},sl=T(e({__name:"FinalTender",setup(e){const s=P(),u=C();B();const{projects:p,loading:b,selectedProject:h,currentDocuments:g,hasProjects:j,loadProjects:x,handleProjectChange:w,restoreProjectFromStore:z}=W(),F=l({projectId:null}),I=async()=>{await w(F.value.projectId,{onClear:()=>{},onDocumentsLoaded:e=>{const l=!!e.businessResponseFile,s=!!e.techProposalFile;l&&s||V.warning("该项目缺少商务应答或技术方案文件，无法整合")}}),F.value.projectId&&u.replace({name:"FinalTender",query:{projectId:F.value.projectId.toString()}})},T=()=>{F.value.projectId=null,u.replace({name:"FinalTender"})},M=()=>{x()};return a(async()=>{await x();const e=await z({onClear:()=>{},onDocumentsLoaded:e=>{}});e&&(F.value.projectId=e);const l=s.query.projectId;if(l&&!e){const e=Number(l);p.value.some(l=>l.id===e)&&(F.value.projectId=e,await I())}}),(e,l)=>{const s=m,a=y,u=R,x=U,w=q,z=$;return i(),t("div",Ke,[_(D(L),{title:"最终标书","show-back":!1},{actions:f(()=>[_(s,{onClick:M},{default:f(()=>[...l[2]||(l[2]=[n("i",{class:"bi bi-arrow-clockwise"},null,-1),d(" 刷新 ",-1)])]),_:1})]),_:1}),D(b)?(i(),c(D(S),{key:0,text:"加载项目列表..."})):(i(),t(o,{key:1},[F.value.projectId?r("",!0):(i(),c(z,{key:0,class:"project-selector-card",shadow:"never"},{default:f(()=>[n("div",Xe,[l[4]||(l[4]=n("div",{class:"selector-icon"},[n("i",{class:"bi bi-folder2-open"})],-1)),l[5]||(l[5]=n("h3",null,"请选择要整合的项目",-1)),l[6]||(l[6]=n("p",{class:"text-muted"}," 从下方列表中选择一个已完成商务应答和技术方案的项目 ",-1)),_(x,{modelValue:F.value.projectId,"onUpdate:modelValue":l[0]||(l[0]=e=>F.value.projectId=e),placeholder:"选择项目",size:"large",filterable:"",class:"project-select",onChange:I},{default:f(()=>[(i(!0),t(o,null,k(D(p),e=>(i(),c(u,{key:e.id,label:`${e.project_name} (${e.project_number||"-"})`,value:e.id},{default:f(()=>[n("div",Ye,[n("span",Ge,v(e.project_name),1),n("div",Qe,[_(a,{type:"info",size:"small"},{default:f(()=>[d(v(e.company_name),1)]),_:2},1024)])])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),D(j)?r("",!0):(i(),c(w,{key:0,description:"暂无项目","image-size":120},{extra:f(()=>[_(s,{type:"primary",onClick:l[1]||(l[1]=l=>e.$router.push({name:"TenderManagement"}))},{default:f(()=>[...l[3]||(l[3]=[n("i",{class:"bi bi-folder-plus"},null,-1),d(" 前往项目管理 ",-1)])]),_:1})]),_:1}))])]),_:1})),F.value.projectId&&D(h)?(i(),t(o,{key:1},[_(z,{class:"current-project-card",shadow:"never"},{default:f(()=>[n("div",Ze,[n("div",el,[n("h3",null,[l[7]||(l[7]=n("i",{class:"bi bi-folder-check"},null,-1)),d(" "+v(D(h).project_name),1)]),_(s,{size:"small",text:"",onClick:T},{default:f(()=>[...l[8]||(l[8]=[n("i",{class:"bi bi-arrow-left-right"},null,-1),d(" 切换项目 ",-1)])]),_:1})]),n("p",ll," 公司："+v(D(h).company_name)+" | 项目编号："+v(D(h).project_number||"-")+" | 创建时间："+v(D(h).created_at),1)])]),_:1}),(i(),c(Ee,{"project-id":F.value.projectId,"current-documents":D(g),key:F.value.projectId},null,8,["project-id","current-documents"]))],64)):r("",!0)],64))])}}}),[["__scopeId","data-v-a7f77f31"]]);export{sl as default};
