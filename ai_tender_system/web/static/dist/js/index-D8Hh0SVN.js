import{bz as n,by as t,bA as e}from"./editor-Bn74SR7L.js";import{t as i}from"./toNumber-CtKC8bmH.js";import{a0 as o,i as r}from"./index.js";var a=function(){return n.Date.now()},u=Math.max,s=Math.min;function d(n,e,o){var r,d,c,f,l,m,v=0,p=!1,g=!1,h=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(t){var e=r,i=d;return r=d=void 0,v=t,f=n.apply(i,e)}function x(n){var t=n-m;return void 0===m||t>=e||t<0||g&&n-v>=c}function T(){var n=a();if(x(n))return w(n);l=setTimeout(T,function(n){var t=e-(n-m);return g?s(t,c-(n-v)):t}(n))}function w(n){return l=void 0,h&&r?b(n):(r=d=void 0,f)}function y(){var n=a(),t=x(n);if(r=arguments,d=this,m=n,t){if(void 0===l)return function(n){return v=n,l=setTimeout(T,e),p?b(n):f}(m);if(g)return clearTimeout(l),l=setTimeout(T,e),b(m)}return void 0===l&&(l=setTimeout(T,e)),f}return e=i(e)||0,t(o)&&(p=!!o.leading,c=(g="maxWait"in o)?u(i(o.maxWait)||0,e):c,h="trailing"in o?!!o.trailing:h),y.cancel=function(){void 0!==l&&clearTimeout(l),v=0,r=m=d=l=void 0},y.flush=function(){return void 0===l?f:w(a())},y}const c=new Map;if(r){let n;document.addEventListener("mousedown",t=>n=t),document.addEventListener("mouseup",t=>{if(n){for(const e of c.values())for(const{documentHandler:i}of e)i(t,n);n=void 0}})}function f(n,t){let i=[];return e(t.arg)?i=t.arg:o(t.arg)&&i.push(t.arg),function(e,o){const r=t.instance.popperRef,a=e.target,u=null==o?void 0:o.target,s=!t||!t.instance,d=!a||!u,c=n.contains(a)||n.contains(u),f=n===a,l=i.length&&i.some(n=>null==n?void 0:n.contains(a))||i.length&&i.includes(u),m=r&&(r.contains(a)||r.contains(u));s||d||c||f||l||m||t.value(e,o)}}const l={beforeMount(n,t){c.has(n)||c.set(n,[]),c.get(n).push({documentHandler:f(n,t),bindingFn:t.value})},updated(n,t){c.has(n)||c.set(n,[]);const e=c.get(n),i=e.findIndex(n=>n.bindingFn===t.oldValue),o={documentHandler:f(n,t),bindingFn:t.value};i>=0?e.splice(i,1,o):e.push(o)},unmounted(n){c.delete(n)}};export{l as C,d};
