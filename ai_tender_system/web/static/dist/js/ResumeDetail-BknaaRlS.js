import{aK as e,bG as a,av as l,bd as t,aL as u,aN as r,aY as d,aS as s,bM as o,bJ as n,bK as i,cf as c,cg as m,a$ as p,b0 as _,aQ as v,aZ as f,be as b,aR as y,aU as h,bk as g,bl as V,aW as w,bb as k,cj as j,bc as U,aT as x,aX as R,aM as D,bi as E,cZ as I,c_ as C,cr as Y,e0 as F,d0 as M,e1 as q,b7 as z,d2 as P,bE as A,cq as N,e2 as T,e3 as L,cX as J}from"./index.js";/* empty css                                                                          */import{E as W,a as X}from"./el-tab-pane-BuJQWTLB.js";/* empty css               */import{L as G}from"./Loading-DiM5rrv-.js";import"./DocumentPreview.vue_vue_type_style_index_0_scoped_056f7814_lang-Cvhffcax.js";/* empty css                             *//* empty css                   *//* empty css                    *//* empty css                */import{k as K,a as O,f as Q}from"./formatters-BCM66Wc4.js";import{E as Z,a as B}from"./el-select-JVjgICbv.js";import{E as S}from"./el-date-picker-panel-Bvje68-1.js";import{b as $,v as H,a as ee}from"./validators-BHjNrE0Y.js";import{E as ae}from"./index--HjUvM4F.js";import{a as le,E as te}from"./index-QjymKf1u.js";import{E as ue}from"./el-input-number-CULvBqYk.js";import{E as re}from"./Empty-Cym7PiOz.js";import{s as de}from"./imageCompressor-CTkRt5bg.js";import{E as se}from"./index-Ck60z3mc.js";import{E as oe}from"./index-DwbH8caQ.js";import"./raf-p9A-23_P.js";import"./toNumber-CM6xia4s.js";import"./index-CiTGQxVM.js";import"./_baseIteratee-chHnNCKt.js";import"./advancedFormat-Cd2ZMDRP.js";import"./index-BDtcSmIb.js";import"./cloneDeep-BA-8E20e.js";const ne={class:"resume-basic-info-tab"},ie=f(e({__name:"ResumeBasicInfoTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:f}){const b=e,y=f,{success:h,error:g}=a(),V=l(),w=l(!1),k=l({name:"",gender:"",birth_date:"",nationality:"",native_place:"",political_status:"",id_number:"",phone:"",email:"",address:"",introduction:""}),j={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:ee,trigger:"blur"}],email:[{validator:H,trigger:"blur"}],id_number:[{validator:$,trigger:"blur"}]};t(()=>b.resumeData,e=>{e&&(k.value={name:e.name||"",gender:e.gender||"",birth_date:e.birth_date||"",nationality:e.nationality||"",native_place:e.native_place||"",political_status:e.political_status||"",id_number:e.id_number||"",phone:e.phone||"",email:e.email||"",address:e.address||"",introduction:e.introduction||""})},{immediate:!0,deep:!0});const U=async()=>{V.value&&await V.value.validate(async e=>{if(e){w.value=!0;try{const e=await K.updateResume(b.resumeId,k.value);e.success?(h("保存成功","基本信息已更新"),y("update")):g("保存失败",e.error||"未知错误")}catch(a){g("保存失败",a instanceof Error?a.message:"未知错误")}finally{w.value=!1}}})},x=()=>{var e;null==(e=V.value)||e.resetFields()};return(e,a)=>{const l=i,t=n,f=te,b=m,y=c,h=S,g=le,R=B,D=Z,E=_,I=o,C=ae;return r(),u("div",ne,[d(C,null,{header:s(()=>[...a[11]||(a[11]=[v("span",null,"基本信息",-1)])]),default:s(()=>[d(I,{ref_key:"formRef",ref:V,model:k.value,rules:j,"label-width":"120px"},{default:s(()=>[d(g,{gutter:20},{default:s(()=>[d(f,{span:8},{default:s(()=>[d(t,{label:"姓名",prop:"name"},{default:s(()=>[d(l,{modelValue:k.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),d(f,{span:8},{default:s(()=>[d(t,{label:"性别",prop:"gender"},{default:s(()=>[d(y,{modelValue:k.value.gender,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.gender=e)},{default:s(()=>[d(b,{label:"男"},{default:s(()=>[...a[12]||(a[12]=[p("男",-1)])]),_:1}),d(b,{label:"女"},{default:s(()=>[...a[13]||(a[13]=[p("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(f,{span:8},{default:s(()=>[d(t,{label:"出生日期",prop:"birth_date"},{default:s(()=>[d(h,{modelValue:k.value.birth_date,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.birth_date=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(g,{gutter:20},{default:s(()=>[d(f,{span:8},{default:s(()=>[d(t,{label:"民族",prop:"nationality"},{default:s(()=>[d(l,{modelValue:k.value.nationality,"onUpdate:modelValue":a[3]||(a[3]=e=>k.value.nationality=e),placeholder:"如：汉族"},null,8,["modelValue"])]),_:1})]),_:1}),d(f,{span:8},{default:s(()=>[d(t,{label:"籍贯",prop:"native_place"},{default:s(()=>[d(l,{modelValue:k.value.native_place,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value.native_place=e),placeholder:"如：北京市"},null,8,["modelValue"])]),_:1})]),_:1}),d(f,{span:8},{default:s(()=>[d(t,{label:"政治面貌",prop:"political_status"},{default:s(()=>[d(D,{modelValue:k.value.political_status,"onUpdate:modelValue":a[5]||(a[5]=e=>k.value.political_status=e),placeholder:"请选择",style:{width:"100%"}},{default:s(()=>[d(R,{label:"中共党员",value:"中共党员"}),d(R,{label:"共青团员",value:"共青团员"}),d(R,{label:"民主党派",value:"民主党派"}),d(R,{label:"群众",value:"群众"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(g,{gutter:20},{default:s(()=>[d(f,{span:12},{default:s(()=>[d(t,{label:"身份证号",prop:"id_number"},{default:s(()=>[d(l,{modelValue:k.value.id_number,"onUpdate:modelValue":a[6]||(a[6]=e=>k.value.id_number=e),placeholder:"18位身份证号",maxlength:"18"},null,8,["modelValue"])]),_:1})]),_:1}),d(f,{span:12},{default:s(()=>[d(t,{label:"联系电话",prop:"phone"},{default:s(()=>[d(l,{modelValue:k.value.phone,"onUpdate:modelValue":a[7]||(a[7]=e=>k.value.phone=e),placeholder:"手机号码",maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(g,{gutter:20},{default:s(()=>[d(f,{span:12},{default:s(()=>[d(t,{label:"电子邮箱",prop:"email"},{default:s(()=>[d(l,{modelValue:k.value.email,"onUpdate:modelValue":a[8]||(a[8]=e=>k.value.email=e),placeholder:"邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1}),d(f,{span:12},{default:s(()=>[d(t,{label:"联系地址",prop:"address"},{default:s(()=>[d(l,{modelValue:k.value.address,"onUpdate:modelValue":a[9]||(a[9]=e=>k.value.address=e),placeholder:"详细地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(t,{label:"个人简介",prop:"introduction"},{default:s(()=>[d(l,{modelValue:k.value.introduction,"onUpdate:modelValue":a[10]||(a[10]=e=>k.value.introduction=e),type:"textarea",rows:4,placeholder:"请简要介绍个人经历、专长、优势等"},null,8,["modelValue"])]),_:1}),d(t,null,{default:s(()=>[d(E,{type:"primary",loading:w.value,onClick:U},{default:s(()=>[...a[14]||(a[14]=[p(" 保存 ",-1)])]),_:1},8,["loading"]),d(E,{onClick:x},{default:s(()=>[...a[15]||(a[15]=[p("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-9eb5d3ea"]]),ce={class:"resume-education-tab"},me=f(e({__name:"ResumeEducationTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:c}){const m=e,f=c,{success:b,error:y}=a(),h=l(),g=l(!1),V=l({education_level:"",degree:"",university:"",major:"",graduation_date:""});t(()=>m.resumeData,e=>{e&&(V.value={education_level:e.education_level||"",degree:e.degree||"",university:e.university||"",major:e.major||"",graduation_date:e.graduation_date||""})},{immediate:!0,deep:!0});const w=async()=>{if(h.value){g.value=!0;try{const e=await K.updateResume(m.resumeId,V.value);e.success?(b("保存成功","教育信息已更新"),f("update")):y("保存失败",e.error||"未知错误")}catch(e){y("保存失败",e instanceof Error?e.message:"未知错误")}finally{g.value=!1}}},k=()=>{var e;null==(e=h.value)||e.resetFields()};return(e,a)=>{const l=B,t=Z,c=n,m=te,f=le,b=i,y=S,j=_,U=o,x=ae;return r(),u("div",ce,[d(x,null,{header:s(()=>[...a[5]||(a[5]=[v("span",null,"教育信息",-1)])]),default:s(()=>[d(U,{ref_key:"formRef",ref:h,model:V.value,"label-width":"120px"},{default:s(()=>[d(f,{gutter:20},{default:s(()=>[d(m,{span:12},{default:s(()=>[d(c,{label:"学历",prop:"education_level"},{default:s(()=>[d(t,{modelValue:V.value.education_level,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value.education_level=e),placeholder:"请选择学历",style:{width:"100%"}},{default:s(()=>[d(l,{label:"博士",value:"博士"}),d(l,{label:"硕士",value:"硕士"}),d(l,{label:"本科",value:"本科"}),d(l,{label:"大专",value:"大专"}),d(l,{label:"高中",value:"高中"}),d(l,{label:"中专",value:"中专"}),d(l,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(m,{span:12},{default:s(()=>[d(c,{label:"学位",prop:"degree"},{default:s(()=>[d(t,{modelValue:V.value.degree,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value.degree=e),placeholder:"请选择学位",style:{width:"100%"}},{default:s(()=>[d(l,{label:"博士学位",value:"博士"}),d(l,{label:"硕士学位",value:"硕士"}),d(l,{label:"学士学位",value:"学士"}),d(l,{label:"无学位",value:"无"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(f,{gutter:20},{default:s(()=>[d(m,{span:12},{default:s(()=>[d(c,{label:"毕业院校",prop:"university"},{default:s(()=>[d(b,{modelValue:V.value.university,"onUpdate:modelValue":a[2]||(a[2]=e=>V.value.university=e),placeholder:"请输入毕业院校"},null,8,["modelValue"])]),_:1})]),_:1}),d(m,{span:12},{default:s(()=>[d(c,{label:"专业",prop:"major"},{default:s(()=>[d(b,{modelValue:V.value.major,"onUpdate:modelValue":a[3]||(a[3]=e=>V.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(f,{gutter:20},{default:s(()=>[d(m,{span:12},{default:s(()=>[d(c,{label:"毕业时间",prop:"graduation_date"},{default:s(()=>[d(y,{modelValue:V.value.graduation_date,"onUpdate:modelValue":a[4]||(a[4]=e=>V.value.graduation_date=e),type:"date",placeholder:"选择毕业日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(c,null,{default:s(()=>[d(j,{type:"primary",loading:g.value,onClick:w},{default:s(()=>[...a[6]||(a[6]=[p(" 保存 ",-1)])]),_:1},8,["loading"]),d(j,{onClick:k},{default:s(()=>[...a[7]||(a[7]=[p("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-15f0e911"]]),pe={class:"resume-work-tab"},_e=f(e({__name:"ResumeWorkTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:c}){const m=e,f=c,{success:b,error:y}=a(),h=l(),g=l(!1),V=l({current_position:"",professional_title:"",work_years:void 0,current_company:"",department:"",work_location:"",skills:"",certificates:"",awards:""});t(()=>m.resumeData,e=>{e&&(V.value={current_position:e.current_position||"",professional_title:e.professional_title||"",work_years:e.work_years,current_company:e.current_company||"",department:e.department||"",work_location:e.work_location||"",skills:e.skills||"",certificates:e.certificates||"",awards:e.awards||""})},{immediate:!0,deep:!0});const w=async()=>{if(h.value){g.value=!0;try{const e=await K.updateResume(m.resumeId,V.value);e.success?(b("保存成功","工作信息已更新"),f("update")):y("保存失败",e.error||"未知错误")}catch(e){y("保存失败",e instanceof Error?e.message:"未知错误")}finally{g.value=!1}}},k=()=>{var e;null==(e=h.value)||e.resetFields()};return(e,a)=>{const l=i,t=n,c=te,m=le,f=ue,b=_,y=o,j=ae;return r(),u("div",pe,[d(j,null,{header:s(()=>[...a[9]||(a[9]=[v("span",null,"工作信息",-1)])]),default:s(()=>[d(y,{ref_key:"formRef",ref:h,model:V.value,"label-width":"120px"},{default:s(()=>[d(m,{gutter:20},{default:s(()=>[d(c,{span:12},{default:s(()=>[d(t,{label:"当前职位",prop:"current_position"},{default:s(()=>[d(l,{modelValue:V.value.current_position,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value.current_position=e),placeholder:"如：项目经理"},null,8,["modelValue"])]),_:1})]),_:1}),d(c,{span:12},{default:s(()=>[d(t,{label:"职称",prop:"professional_title"},{default:s(()=>[d(l,{modelValue:V.value.professional_title,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value.professional_title=e),placeholder:"如：高级工程师"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(m,{gutter:20},{default:s(()=>[d(c,{span:12},{default:s(()=>[d(t,{label:"工作年限",prop:"work_years"},{default:s(()=>[d(f,{modelValue:V.value.work_years,"onUpdate:modelValue":a[2]||(a[2]=e=>V.value.work_years=e),min:0,max:50,placeholder:"年",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),d(c,{span:12},{default:s(()=>[d(t,{label:"当前单位",prop:"current_company"},{default:s(()=>[d(l,{modelValue:V.value.current_company,"onUpdate:modelValue":a[3]||(a[3]=e=>V.value.current_company=e),placeholder:"当前工作单位"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(m,{gutter:20},{default:s(()=>[d(c,{span:12},{default:s(()=>[d(t,{label:"所在部门",prop:"department"},{default:s(()=>[d(l,{modelValue:V.value.department,"onUpdate:modelValue":a[4]||(a[4]=e=>V.value.department=e),placeholder:"部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),d(c,{span:12},{default:s(()=>[d(t,{label:"工作地点",prop:"work_location"},{default:s(()=>[d(l,{modelValue:V.value.work_location,"onUpdate:modelValue":a[5]||(a[5]=e=>V.value.work_location=e),placeholder:"工作城市"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(t,{label:"技能特长",prop:"skills"},{default:s(()=>[d(l,{modelValue:V.value.skills,"onUpdate:modelValue":a[6]||(a[6]=e=>V.value.skills=e),type:"textarea",rows:3,placeholder:"请输入技能特长，多个技能用逗号分隔，如：项目管理,需求分析,Java开发"},null,8,["modelValue"])]),_:1}),d(t,{label:"证书列表",prop:"certificates"},{default:s(()=>[d(l,{modelValue:V.value.certificates,"onUpdate:modelValue":a[7]||(a[7]=e=>V.value.certificates=e),type:"textarea",rows:2,placeholder:"请输入证书名称，多个证书用逗号分隔，如：PMP,软考高级"},null,8,["modelValue"])]),_:1}),d(t,{label:"获奖情况",prop:"awards"},{default:s(()=>[d(l,{modelValue:V.value.awards,"onUpdate:modelValue":a[8]||(a[8]=e=>V.value.awards=e),type:"textarea",rows:2,placeholder:"请输入获奖情况"},null,8,["modelValue"])]),_:1}),d(t,null,{default:s(()=>[d(b,{type:"primary",loading:g.value,onClick:w},{default:s(()=>[...a[10]||(a[10]=[p(" 保存 ",-1)])]),_:1},8,["loading"]),d(b,{onClick:k},{default:s(()=>[...a[11]||(a[11]=[p("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-00b6bb2c"]]),ve={class:"resume-attachments-tab"},fe={class:"card-header"},be={key:2,class:"attachments-grid"},ye={class:"attachment-header"},he={class:"attachment-body"},ge=["title"],Ve={class:"file-info"},we={class:"file-size"},ke={class:"file-date"},je={key:0,class:"file-desc"},Ue={class:"attachment-actions"},xe=f(e({__name:"ResumeAttachmentsTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:t}){const c=e,m=t,{success:f,error:P}=a(),A=l(!1),N=l([]),T=l(!1),L=l(!1),J=l(),W=l(),X=l({attachment_category:"resume",description:"",file:null}),S={attachment_category:[{required:!0,message:"请选择附件类型",trigger:"change"}]},$=e=>{switch(e){case"resume":return z;case"id_card":return q;case"education":case"degree":return M;case"qualification":return F;case"award":return Y;default:return C}},H=e=>{switch(e){case"resume":return"#409eff";case"id_card":return"#f56c6c";case"education":return"#67c23a";case"degree":return"#e6a23c";case"qualification":default:return"#909399";case"award":return"#ff9800"}},ee=e=>{switch(e){case"resume":return"primary";case"id_card":return"danger";case"education":return"success";case"degree":case"award":return"warning";default:return"info"}},le=e=>{switch(e){case"resume":return"简历文件";case"id_card":return"身份证";case"education":return"学历证书";case"degree":return"学位证书";case"qualification":return"资质证书";case"award":return"获奖证书";default:return"其他材料"}},te=async()=>{A.value=!0;try{const e=await K.getResumeAttachments(c.resumeId);e.success&&e.data&&(N.value=e.data)}catch(e){P("加载失败",e instanceof Error?e.message:"未知错误")}finally{A.value=!1}},ue=e=>{e.raw&&(X.value.file=e.raw)},ne=()=>{T.value=!0},ie=async()=>{J.value&&await J.value.validate(async e=>{var a;if(e)if(X.value.file){L.value=!0;try{let e=X.value.file;if(e.type.startsWith("image/")){const a="id_card"===X.value.attachment_category?"id_card":"photo";e=await de(e,a)}const l=await K.uploadResumeAttachment(c.resumeId,e,X.value.attachment_category,X.value.description||void 0);l.success?(f("上传成功","附件已上传"),T.value=!1,null==(a=W.value)||a.clearFiles(),X.value={attachment_category:"resume",description:"",file:null},await te(),m("update")):P("上传失败",l.error||"未知错误")}catch(l){P("上传失败",l instanceof Error?l.message:"未知错误")}finally{L.value=!1}}else P("请选择文件","请先选择要上传的文件")})};return b(()=>{te()}),(e,a)=>{const l=w,t=_,c=oe,b=ae,C=B,Y=Z,F=n,M=i,q=se,z=o,de=j;return r(),u("div",ve,[d(b,null,{header:s(()=>[v("div",fe,[a[5]||(a[5]=v("span",null,"简历附件",-1)),d(t,{type:"primary",size:"small",onClick:ne},{default:s(()=>[d(l,null,{default:s(()=>[d(h(k))]),_:1}),a[4]||(a[4]=p(" 上传附件 ",-1))]),_:1})])]),default:s(()=>[A.value?(r(),y(h(G),{key:0,text:"加载附件中..."})):N.value.length?(r(),u("div",be,[(r(!0),u(g,null,V(N.value,e=>(r(),u("div",{key:e.attachment_id,class:"attachment-card"},[v("div",ye,[d(l,{size:32,color:H(e.attachment_category)},{default:s(()=>[(r(),y(x($(e.attachment_category))))]),_:2},1032,["color"]),d(c,{type:ee(e.attachment_category),size:"small"},{default:s(()=>[p(R(le(e.attachment_category)),1)]),_:2},1032,["type"])]),v("div",he,[v("div",{class:"file-name",title:e.original_filename},R(e.original_filename),9,ge),v("div",Ve,[v("span",we,R(h(O)(e.file_size)),1),v("span",ke,R(h(Q)(e.uploaded_at,"date")),1)]),e.attachment_description?(r(),u("div",je,R(e.attachment_description),1)):D("",!0)]),v("div",Ue,[d(t,{size:"small",onClick:a=>(e=>{const a=K.downloadResumeAttachment(e.attachment_id);window.open(a,"_blank")})(e)},{default:s(()=>[d(l,null,{default:s(()=>[d(h(E))]),_:1}),a[6]||(a[6]=p(" 下载 ",-1))]),_:1},8,["onClick"]),d(t,{size:"small",type:"danger",onClick:a=>(async e=>{try{if(!confirm(`确定要删除附件 "${e.original_filename}" 吗？`))return;const a=await K.deleteResumeAttachment(e.attachment_id);a.success?(f("删除成功","附件已删除"),await te(),m("update")):P("删除失败",a.error||"未知错误")}catch(a){P("删除失败",a instanceof Error?a.message:"未知错误")}})(e)},{default:s(()=>[d(l,null,{default:s(()=>[d(h(I))]),_:1}),a[7]||(a[7]=p(" 删除 ",-1))]),_:1},8,["onClick"])])]))),128))])):(r(),y(h(re),{key:1,type:"no-data",description:"暂无附件"}))]),_:1}),d(de,{modelValue:T.value,"onUpdate:modelValue":a[3]||(a[3]=e=>T.value=e),title:"上传简历附件",width:"500px"},{footer:s(()=>[d(t,{onClick:a[2]||(a[2]=e=>T.value=!1)},{default:s(()=>[...a[10]||(a[10]=[p("取消",-1)])]),_:1}),d(t,{type:"primary",loading:L.value,onClick:ie},{default:s(()=>[...a[11]||(a[11]=[p(" 确定上传 ",-1)])]),_:1},8,["loading"])]),default:s(()=>[d(z,{ref_key:"uploadFormRef",ref:J,model:X.value,rules:S,"label-width":"120px"},{default:s(()=>[d(F,{label:"附件类型",prop:"attachment_category"},{default:s(()=>[d(Y,{modelValue:X.value.attachment_category,"onUpdate:modelValue":a[0]||(a[0]=e=>X.value.attachment_category=e),placeholder:"请选择附件类型",style:{width:"100%"}},{default:s(()=>[d(C,{label:"简历文件",value:"resume"}),d(C,{label:"身份证",value:"id_card"}),d(C,{label:"学历证书",value:"education"}),d(C,{label:"学位证书",value:"degree"}),d(C,{label:"资质证书",value:"qualification"}),d(C,{label:"获奖证书",value:"award"}),d(C,{label:"其他材料",value:"other"})]),_:1},8,["modelValue"])]),_:1}),d(F,{label:"附件说明",prop:"description"},{default:s(()=>[d(M,{modelValue:X.value.description,"onUpdate:modelValue":a[1]||(a[1]=e=>X.value.description=e),type:"textarea",rows:2,placeholder:"请简要说明附件内容（可选）"},null,8,["modelValue"])]),_:1}),d(F,{label:"选择文件",prop:"file"},{default:s(()=>[d(q,{ref_key:"uploadRef",ref:W,"auto-upload":!1,limit:1,"on-change":ue,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",drag:""},{tip:s(()=>[...a[8]||(a[8]=[v("div",{class:"el-upload__tip"}," 支持PDF、DOC、DOCX、JPG、PNG格式，文件大小不超过20MB ",-1)])]),default:s(()=>[d(l,{class:"el-icon--upload"},{default:s(()=>[d(h(U))]),_:1}),a[9]||(a[9]=v("div",{class:"el-upload__text"},[p(" 拖拽文件到这里 或 "),v("em",null,"点击上传")],-1))]),_:1},512)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-686973bc"]]),Re={class:"resume-detail"},De={class:"detail-header"},Ee={class:"header-title"},Ie={key:1,class:"detail-content"},Ce={class:"tab-label"},Ye={class:"tab-label"},Fe={class:"tab-label"},Me={class:"tab-label"},qe=f(e({__name:"ResumeDetail",setup(e){const t=P(),o=A(),{error:n}=a(),i=l(!1),c=l("basic"),m=l(0),f=l({}),g=e=>{switch(e){case"active":return"success";case"inactive":return"warning";default:return"info"}},V=e=>{switch(e){case"active":return"活跃";case"inactive":return"离职";case"archived":return"已归档";default:return e}},k=async()=>{i.value=!0;try{const e=await K.getResume(m.value);e.success&&e.data?f.value=e.data:(n("加载失败","无法获取简历信息"),x())}catch(e){n("加载失败",e instanceof Error?e.message:"未知错误"),x()}finally{i.value=!1}},j=e=>{},U=async()=>{await k()},x=()=>{o.push("/knowledge/resume-library")};return b(()=>{const e=t.params.id;if(e){if(m.value=parseInt(e,10),isNaN(m.value))return n("参数错误","无效的简历ID"),void x();k()}else n("参数错误","缺少简历ID"),x()}),(e,a)=>{const l=_,t=oe,o=w,n=W,b=X;return r(),u("div",Re,[v("div",De,[d(l,{onClick:x,icon:"ArrowLeft"},{default:s(()=>[...a[1]||(a[1]=[p("返回列表",-1)])]),_:1}),v("div",Ee,[v("h2",null,R(f.value.name||"简历详情"),1),f.value.education_level?(r(),y(t,{key:0,type:(k=f.value.education_level,"博士"===k?"danger":"硕士"===k?"warning":"本科"===k?"success":"info")},{default:s(()=>[p(R(f.value.education_level),1)]),_:1},8,["type"])):D("",!0),f.value.current_position?(r(),y(t,{key:1,type:"info"},{default:s(()=>[p(R(f.value.current_position),1)]),_:1})):D("",!0),f.value.status?(r(),y(t,{key:2,type:g(f.value.status)},{default:s(()=>[p(R(V(f.value.status)),1)]),_:1},8,["type"])):D("",!0)])]),i.value?(r(),y(h(G),{key:0,text:"加载简历信息中..."})):(r(),u("div",Ie,[d(b,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),class:"resume-tabs",onTabChange:j},{default:s(()=>[d(n,{name:"basic"},{label:s(()=>[v("span",Ce,[d(o,null,{default:s(()=>[d(h(N))]),_:1}),a[2]||(a[2]=p(" 基本信息 ",-1))])]),default:s(()=>[d(ie,{"resume-id":m.value,"resume-data":f.value,onUpdate:U},null,8,["resume-id","resume-data"])]),_:1}),d(n,{name:"education"},{label:s(()=>[v("span",Ye,[d(o,null,{default:s(()=>[d(h(T))]),_:1}),a[3]||(a[3]=p(" 教育信息 ",-1))])]),default:s(()=>[d(me,{"resume-id":m.value,"resume-data":f.value,onUpdate:U},null,8,["resume-id","resume-data"])]),_:1}),d(n,{name:"work"},{label:s(()=>[v("span",Fe,[d(o,null,{default:s(()=>[d(h(L))]),_:1}),a[4]||(a[4]=p(" 工作信息 ",-1))])]),default:s(()=>[d(_e,{"resume-id":m.value,"resume-data":f.value,onUpdate:U},null,8,["resume-id","resume-data"])]),_:1}),d(n,{name:"attachments"},{label:s(()=>[v("span",Me,[d(o,null,{default:s(()=>[d(h(J))]),_:1}),a[5]||(a[5]=p(" 附件管理 ",-1))])]),default:s(()=>[d(xe,{"resume-id":m.value,"resume-data":f.value,onUpdate:U},null,8,["resume-id","resume-data"])]),_:1})]),_:1},8,["modelValue"])]))]);var k}}}),[["__scopeId","data-v-2d29e80e"]]);export{qe as default};
