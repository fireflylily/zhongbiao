import{ax as e}from"./index.js";const t={getKnowledgeDocuments:async t=>e.get("/knowledge/documents",t),getKnowledgeDocument:async t=>e.get(`/knowledge/documents/${t}`),async uploadKnowledgeDocument(t,a){const s=new FormData;return s.append("file",t.file),s.append("company_id",t.company_id.toString()),s.append("category",t.category),s.append("title",t.title),t.description&&s.append("description",t.description),e.upload("/knowledge/documents/upload",s,e=>{if(a&&e.total){const t=Math.round(100*e.loaded/e.total);a(t)}})},updateKnowledgeDocument:async(t,a)=>e.put(`/knowledge/documents/${t}`,a),deleteKnowledgeDocument:async t=>e.delete(`/knowledge/documents/${t}`),getKnowledgeCategories:async()=>e.get("/knowledge/categories"),searchKnowledge:async t=>e.post("/knowledge/search",t),ragRetrieval:async t=>e.post("/knowledge/rag-retrieval",t),getCases:async t=>e.get("/case_library/cases",t),getCase:async t=>e.get(`/case_library/cases/${t}`),createCase:async t=>e.post("/case_library/cases",t),updateCase:async(t,a)=>e.put(`/case_library/cases/${t}`,a),deleteCase:async t=>e.delete(`/case_library/cases/${t}`),getCaseAttachments:async t=>e.get(`/case_library/cases/${t}/attachments`),async uploadCaseAttachment(t,a,s,n,r){const c=new FormData;return c.append("file",a),c.append("attachment_type",s),n&&c.append("description",n),e.upload(`/case_library/cases/${t}/attachments`,c,e=>{if(r&&e.total){const t=Math.round(100*e.loaded/e.total);r(t)}})},deleteCaseAttachment:async t=>e.delete(`/case_library/attachments/${t}`),downloadCaseAttachment:t=>`${e.getInstance().defaults.baseURL}/case_library/attachments/${t}/download`,searchCases:async(t,a)=>e.get("/case_library/search",{q:t,company_id:a}),getCaseStatistics:async t=>e.get("/case_library/statistics",t?{company_id:t}:void 0),getResumes:async t=>e.get("/resume_library/list",t),getResume:async t=>e.get(`/resume_library/detail/${t}`),createResume:async t=>e.post("/resume_library/create",t),updateResume:async(t,a)=>e.put(`/resume_library/update/${t}`,a),deleteResume:async t=>e.delete(`/resume_library/delete/${t}`),async parseResumeFile(t,a=!1,s,n){const r=new FormData;return r.append("file",t),r.append("auto_create",a.toString()),s&&r.append("company_id",s.toString()),e.upload("/resume_library/parse-resume",r,e=>{if(n&&e.total){const t=Math.round(100*e.loaded/e.total);n(t)}})},async uploadResumeAttachment(t,a,s,n,r){const c=new FormData;return c.append("file",a),c.append("resume_id",t.toString()),c.append("attachment_category",s),n&&c.append("description",n),e.upload("/resume_library/upload-attachment",c,e=>{if(r&&e.total){const t=Math.round(100*e.loaded/e.total);r(t)}})},getResumeAttachments:async(t,a)=>e.get(`/resume_library/attachments/${t}`,a?{category:a}:void 0),deleteResumeAttachment:async t=>e.delete(`/resume_library/attachment/${t}`),downloadResumeAttachment:t=>`${e.getInstance().defaults.baseURL}/resume_library/attachment/${t}/download`,searchResumes:async(t,a=10)=>e.get("/resume_library/search",{keyword:t,limit:a}),getResumeStatistics:async t=>e.get("/resume_library/statistics",t?{company_id:t}:void 0),exportResumes:async(t,a)=>e.post("/resume_library/export",{resume_ids:t,options:a}),getAttachmentCategories:async()=>e.get("/resume_library/categories"),getEducationLevels:async()=>e.get("/resume_library/education-levels")},a=e=>{if(!e||0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t)*100)/100} ${["B","KB","MB","GB","TB"][t]}`},s=(e,t="datetime")=>{if(!e)return"";const a="string"==typeof e?new Date(e):e;if(isNaN(a.getTime()))return"";const s=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),c=String(a.getHours()).padStart(2,"0"),o=String(a.getMinutes()).padStart(2,"0"),d=String(a.getSeconds()).padStart(2,"0");switch(t){case"date":return`${s}-${n}-${r}`;case"time":return`${c}:${o}`;case"datetime-full":return`${s}年${n}月${r}日 ${c}:${o}:${d}`;default:return`${s}-${n}-${r} ${c}:${o}`}};export{a,s as f,t as k};
