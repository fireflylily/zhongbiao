import{m as e,n as t,p as n,q as l,s as o,_ as a,d as s,v as i,r,x as u,y as c,z as d,A as p,c as v,o as m,B as f,C as b,D as h,F as g,w as y,G as w,H as k,I as x,J as I,K as S,L as C,M as _,N as E,O as M,e as T,t as B,P as O,Q as F,R as P,S as $,T as R,U as z,V as A,W as L,X as N,g as j,Y as K,Z as D,$ as G,a0 as q,a1 as H,a2 as V,a3 as W,l as U,a4 as J,a5 as Y,h as Q,a6 as X,a7 as Z,a8 as ee,a9 as te,aa as ne,ab as le,ac as oe,ad as ae,ae as se,af as ie,ag as re,b as ue,ah as ce,ai as de,aj as pe,ak as ve,al as me,am as fe,an as be,ao as he,ap as ge,aq as ye,ar as we,as as ke,at as xe,au as Ie,av as Se,aw as Ce,k as _e,u as Ee,ax as Me,ay as Te,i as Be,az as Oe,aA as Fe,aB as Pe,aC as $e,aD as Re,aE as ze,aF as Ae,aG as Le}from"./index.js";import{_ as Ne}from"./_plugin-vue_export-helper-BZqs1yfm.js";/* empty css                        *//* empty css                   */import{u as je,r as Ke,a as De,O as Ge,E as qe,b as He,C as Ve}from"./el-scrollbar-COliMHv4.js";/* empty css                 *//* empty css               */import{E as We,a as Ue}from"./el-select-zgwPLghA.js";import{c as Je}from"./castArray-pal66jBx.js";import{c as Ye}from"./refs-Cw5r5QN8.js";import{E as Qe}from"./index-_IbxD8AI.js";import{E as Xe}from"./el-divider-Dr_mtr9k.js";import{E as Ze}from"./index-Dc6VZPfZ.js";import"./strings-DTuDRpJG.js";const et=e({size:{type:[Number,String],values:o,default:"",validator:e=>l(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:n},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:t(String),default:"cover"}}),tt={error:e=>e instanceof Event},nt=s({name:"ElAvatar"});const lt=I(a(s({...nt,props:et,emits:tt,setup(e,{emit:t}){const n=e,o=i("avatar"),a=r(!1),s=u(()=>{const{size:e,icon:t,shape:l}=n,a=[o.b()];return c(e)&&a.push(o.m(e)),t&&a.push(o.m("icon")),l&&a.push(o.m(l)),a}),I=u(()=>{const{size:e}=n;return l(e)?o.cssVarBlock({size:d(e)||""}):void 0}),S=u(()=>({objectFit:n.fit}));function C(e){a.value=!0,t("error",e)}return p(()=>n.src,()=>a.value=!1),(e,t)=>(m(),v("span",{class:x(g(s)),style:h(g(I))},[!e.src&&!e.srcSet||a.value?e.icon?(m(),f(g(k),{key:1},{default:y(()=>[(m(),f(w(e.icon)))]),_:1})):b(e.$slots,"default",{key:2}):(m(),v("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:h(g(S)),onError:C},null,44,["src","alt","srcset"]))],6))}}),[["__file","avatar.vue"]])),ot=Symbol("breadcrumbKey"),at=e({separator:{type:String,default:"/"},separatorIcon:{type:n}}),st=s({name:"ElBreadcrumb"});var it=a(s({...st,props:at,setup(e){const t=e,{t:n}=S(),l=i("breadcrumb"),o=r();return _(ot,t),C(()=>{const e=o.value.querySelectorAll(`.${l.e("item")}`);e.length&&e[e.length-1].setAttribute("aria-current","page")}),(e,t)=>(m(),v("div",{ref_key:"breadcrumb",ref:o,class:x(g(l).b()),"aria-label":g(n)("el.breadcrumb.label"),role:"navigation"},[b(e.$slots,"default")],10,["aria-label"]))}}),[["__file","breadcrumb.vue"]]);const rt=e({to:{type:t([String,Object]),default:""},replace:Boolean}),ut=s({name:"ElBreadcrumbItem"});var ct=a(s({...ut,props:rt,setup(e){const t=e,n=M(),l=E(ot,void 0),o=i("breadcrumb"),a=n.appContext.config.globalProperties.$router,s=r(),u=()=>{t.to&&a&&(t.replace?a.replace(t.to):a.push(t.to))};return(e,t)=>{var n,a;return m(),v("span",{class:x(g(o).e("item"))},[T("span",{ref_key:"link",ref:s,class:x([g(o).e("inner"),g(o).is("link",!!e.to)]),role:"link",onClick:u},[b(e.$slots,"default")],2),(null==(n=g(l))?void 0:n.separatorIcon)?(m(),f(g(k),{key:0,class:x(g(o).e("separator"))},{default:y(()=>[(m(),f(w(g(l).separatorIcon)))]),_:1},8,["class"])):(m(),v("span",{key:1,class:x(g(o).e("separator")),role:"presentation"},B(null==(a=g(l))?void 0:a.separator),3))],2)}}}),[["__file","breadcrumb-item.vue"]]);const dt=I(it,{BreadcrumbItem:ct}),pt=O(ct);var vt=a(s({inheritAttrs:!1}),[["render",function(e,t,n,l,o,a){return b(e.$slots,"default")}],["__file","collection.vue"]]);var mt=a(s({name:"ElCollectionItem",inheritAttrs:!1}),[["render",function(e,t,n,l,o,a){return b(e.$slots,"default")}],["__file","collection-item.vue"]]);const ft="data-el-collection-item",bt=e({style:{type:t([String,Array,Object])},currentTabId:{type:t(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:t(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ht,ElCollectionItem:gt,COLLECTION_INJECTION_KEY:yt,COLLECTION_ITEM_INJECTION_KEY:wt}=(e=>{const t=`El${e}Collection`,n=`${t}Item`,l=Symbol(t),o=Symbol(n),a={...vt,name:t,setup(){const e=r(),t=new Map;_(l,{itemMap:t,getItems:()=>{const n=g(e);if(!n)return[];const l=Array.from(n.querySelectorAll(`[${ft}]`));return[...t.values()].sort((e,t)=>l.indexOf(e.ref)-l.indexOf(t.ref))},collectionRef:e})}},s={...mt,name:n,setup(e,{attrs:t}){const n=r(),a=E(l,void 0);_(o,{collectionItemRef:n}),C(()=>{const e=g(n);e&&a.itemMap.set(e,{ref:e,...t})}),F(()=>{const e=g(n);a.itemMap.delete(e)})}};return{COLLECTION_INJECTION_KEY:l,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:a,ElCollectionItem:s}})("RovingFocusGroup"),kt=Symbol("elRovingFocusGroup"),xt=Symbol("elRovingFocusGroupItem"),It={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},St=e=>{const{activeElement:t}=document;for(const n of e){if(n===t)return;if(n.focus(),t!==document.activeElement)return}},Ct="currentTabIdChange",_t="rovingFocusGroup.entryFocus",Et={bubbles:!1,cancelable:!0},Mt=s({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:bt,emits:[Ct,"entryFocus"],setup(e,{emit:t}){var n;const l=r(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),o=r(!1),a=r(!1),s=r(),{getItems:i}=E(yt,void 0),c=u(()=>[{outline:"none"},e.style]),d=$(t=>{var n;null==(n=e.onMousedown)||n.call(e,t)},()=>{a.value=!0}),v=$(t=>{var n;null==(n=e.onFocus)||n.call(e,t)},e=>{const t=!g(a),{target:n,currentTarget:s}=e;if(n===s&&t&&!g(o)){const e=new Event(_t,Et);if(null==s||s.dispatchEvent(e),!e.defaultPrevented){const e=i().filter(e=>e.focusable),t=[e.find(e=>e.active),e.find(e=>e.id===g(l)),...e].filter(Boolean).map(e=>e.ref);St(t)}}a.value=!1}),m=$(t=>{var n;null==(n=e.onBlur)||n.call(e,t)},()=>{o.value=!1});_(kt,{currentTabbedId:z(l),loop:R(e,"loop"),tabIndex:u(()=>g(o)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:c,orientation:R(e,"orientation"),dir:R(e,"dir"),onItemFocus:e=>{t(Ct,e)},onItemShiftTab:()=>{o.value=!0},onBlur:m,onFocus:v,onMousedown:d,onKeydown:t=>{const n=(e=>{const t=P(e);return It[t]})(t);if(n){t.preventDefault();let a=i().filter(e=>e.focusable).map(e=>e.ref);switch(n){case"last":a.reverse();break;case"prev":case"next":{"prev"===n&&a.reverse();const s=a.indexOf(t.currentTarget);a=e.loop?(o=s+1,(l=a).map((e,t)=>l[(t+o)%l.length])):a.slice(s+1);break}}L(()=>{St(a)})}var l,o}}),p(()=>e.currentTabId,e=>{l.value=null!=e?e:null}),A(s,_t,(...e)=>{t("entryFocus",...e)})}});var Tt=a(s({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ht,ElRovingFocusGroupImpl:a(Mt,[["render",function(e,t,n,l,o,a){return b(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,t,n,l,o,a){const s=N("el-roving-focus-group-impl"),i=N("el-focus-group-collection");return m(),f(i,null,{default:y(()=>[j(s,K(D(e.$attrs)),{default:y(()=>[b(e.$slots,"default")]),_:3},16)]),_:3})}],["__file","roving-focus-group.vue"]]);const Bt=e({trigger:De.trigger,triggerKeys:{type:t(Array),default:()=>[G.enter,G.numpadEnter,G.space,G.down]},virtualTriggering:De.virtualTriggering,virtualRef:De.virtualRef,effect:{...je.effect,default:"light"},type:{type:t(String)},placement:{type:t(String),default:"bottom"},popperOptions:{type:t(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:t([Number,String]),default:0},maxHeight:{type:t([Number,String]),default:""},popperClass:je.popperClass,popperStyle:je.popperStyle,disabled:Boolean,role:{type:String,values:Ke,default:"menu"},buttonProps:{type:t(Object)},teleported:je.teleported,persistent:{type:Boolean,default:!0}}),Ot=e({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:n}}),Ft=e({onKeydown:{type:t(Function)}}),Pt=Symbol("elDropdown"),$t="elDropdown",{ButtonGroup:Rt}=U;var zt=a(s({name:"ElDropdown",components:{ElButton:U,ElButtonGroup:Rt,ElScrollbar:He,ElTooltip:qe,ElRovingFocusGroup:Tt,ElOnlyChild:Ge,ElIcon:k,ArrowDown:W},props:Bt,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=M(),l=i("dropdown"),{t:o}=S(),a=r(),s=r(),c=r(),p=r(),v=r(null),m=r(null),f=r(!1),b=u(()=>({maxHeight:d(e.maxHeight)})),h=u(()=>[l.m(I.value)]),y=u(()=>Je(e.trigger)),w=Y().value,k=u(()=>e.id||w);function x(){var e;null==(e=c.value)||e.onClose()}const I=J();_(Pt,{contentRef:p,role:u(()=>e.role),triggerId:k,isUsingKeyboard:f,onItemEnter:function(){},onItemLeave:function(){const e=g(p);y.value.includes("hover")&&(null==e||e.focus({preventScroll:!0})),m.value=null},handleClose:x}),_($t,{instance:n,dropdownSize:I,handleClick:function(){var e;null==(e=c.value)||e.onClose(void 0,0)},commandHandler:function(...e){t("command",...e)},trigger:R(e,"trigger"),hideOnClick:R(e,"hideOnClick")});return{t:o,ns:l,scrollbar:v,wrapStyle:b,dropdownTriggerKls:h,dropdownSize:I,triggerId:k,currentTabId:m,handleCurrentTabIdChange:function(e){m.value=e},handlerMainButtonClick:e=>{t("click",e)},handleClose:x,handleOpen:function(){var e;null==(e=c.value)||e.onOpen()},handleBeforeShowTooltip:function(){t("visible-change",!0)},handleShowTooltip:function(e){var t;f.value="keydown"===(null==e?void 0:e.type),null==(t=p.value)||t.focus()},handleBeforeHideTooltip:function(){t("visible-change",!1)},popperRef:c,contentRef:p,triggeringElementRef:a,referenceElementRef:s}}}),[["render",function(e,t,n,l,o,a){var s;const i=N("el-roving-focus-group"),r=N("el-scrollbar"),u=N("el-only-child"),c=N("el-tooltip"),d=N("el-button"),p=N("arrow-down"),h=N("el-icon"),g=N("el-button-group");return m(),v("div",{class:x([e.ns.b(),e.ns.is("disabled",e.disabled)])},[j(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":"hover"===e.trigger?e.showTimeout:0,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"virtual-ref":null!=(s=e.virtualRef)?s:e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},H({content:y(()=>[j(r,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:y(()=>[j(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:y(()=>[b(e.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:y(()=>[j(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:y(()=>[b(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(m(),f(g,{key:0},{default:y(()=>[j(d,V({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:y(()=>[b(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),j(d,V({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:y(()=>[j(h,{class:x(e.ns.e("icon"))},{default:y(()=>[j(p)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):q("v-if",!0)],2)}],["__file","dropdown.vue"]]);var At=a(s({components:{ElRovingFocusCollectionItem:gt},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,onItemFocus:l,onItemShiftTab:o,onKeydown:a}=E(kt,void 0),s=Y(),i=r(),c=$(e=>{t("mousedown",e)},t=>{e.focusable?l(g(s)):t.preventDefault()}),d=$(e=>{t("focus",e)},()=>{l(g(s))}),p=$(e=>{t("keydown",e)},e=>{const{shiftKey:t,target:n,currentTarget:l}=e;P(e)===G.tab&&t?o():n===l&&a(e)}),v=u(()=>n.value===g(s));return _(xt,{rovingFocusGroupItemRef:i,tabIndex:u(()=>g(v)?0:-1),handleMousedown:c,handleFocus:d,handleKeydown:p}),{id:s,handleKeydown:p,handleFocus:d,handleMousedown:c}}}),[["render",function(e,t,n,l,o,a){const s=N("el-roving-focus-collection-item");return m(),f(s,{id:e.id,focusable:e.focusable,active:e.active},{default:y(()=>[b(e.$slots,"default")]),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const Lt=s({name:"DropdownItemImpl",components:{ElIcon:k},props:Ot,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=i("dropdown"),{role:l}=E(Pt,void 0),{collectionItemRef:o}=E(wt,void 0),{rovingFocusGroupItemRef:a,tabIndex:s,handleFocus:r,handleKeydown:c,handleMousedown:d}=E(xt,void 0),p=Ye(o,a),v=u(()=>"menu"===l.value?"menuitem":"navigation"===l.value?"link":"button"),m=$(e=>{const n=P(e);if([G.enter,G.numpadEnter,G.space].includes(n))return e.preventDefault(),e.stopImmediatePropagation(),t("clickimpl",e),!0},c);return{ns:n,itemRef:p,dataset:{[ft]:""},role:v,tabIndex:s,handleFocus:r,handleKeydown:m,handleMousedown:d}}});const Nt=()=>{const e=E($t,{}),t=u(()=>null==e?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}};var jt=a(s({name:"ElDropdownItem",components:{ElRovingFocusItem:At,ElDropdownItemImpl:a(Lt,[["render",function(e,t,n,l,o,a){const s=N("el-icon");return m(),v(X,null,[e.divided?(m(),v("li",{key:0,role:"separator",class:x(e.ns.bem("menu","item","divided"))},null,2)):q("v-if",!0),T("li",V({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t=>e.$emit("clickimpl",t),onFocus:e.handleFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:t=>e.$emit("pointermove",t),onPointerleave:t=>e.$emit("pointerleave",t)}),[e.icon?(m(),f(s,{key:0},{default:y(()=>[(m(),f(w(e.icon)))]),_:1})):q("v-if",!0),b(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:Ot,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:l}=Nt(),o=M(),{onItemEnter:a,onItemLeave:s}=E(Pt,void 0),i=$(e=>(t("pointermove",e),e.defaultPrevented),Z(t=>{if(e.disabled)return void s(t);const n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(a(t),t.defaultPrevented||null==n||n.focus({preventScroll:!0}))})),r=$(e=>(t("pointerleave",e),e.defaultPrevented),Z(s));return{handleClick:$(n=>{if(!e.disabled)return t("click",n),"keydown"!==n.type&&n.defaultPrevented},t=>{var n,a,s;e.disabled?t.stopImmediatePropagation():((null==(n=null==l?void 0:l.hideOnClick)?void 0:n.value)&&(null==(a=l.handleClick)||a.call(l)),null==(s=l.commandHandler)||s.call(l,e.command,o,t))}),handlePointerMove:i,handlePointerLeave:r,propsAndAttrs:u(()=>({...e,...n}))}}}),[["render",function(e,t,n,l,o,a){const s=N("el-dropdown-item-impl"),i=N("el-roving-focus-item");return m(),f(i,{focusable:!e.disabled},{default:y(()=>[j(s,V(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:y(()=>[b(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}],["__file","dropdown-item.vue"]]);var Kt=a(s({name:"ElDropdownMenu",props:Ft,setup(e){const t=i("dropdown"),{_elDropdownSize:n}=Nt(),l=n.value,{contentRef:o,role:a,triggerId:s,isUsingKeyboard:r,handleClose:c}=E(Pt,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:p,onBlur:v,onFocus:m,onKeydown:f,onMousedown:b}=E(kt,void 0),{collectionRef:h}=E(yt,void 0),g=u(()=>[t.b("menu"),t.bm("menu",null==l?void 0:l.value)]),y=Ye(o,d,h),w=$(t=>{var n;null==(n=e.onKeydown)||n.call(e,t)},e=>{const{currentTarget:t,target:n}=e,l=P(e);if(t.contains(n),G.tab===l)return c();f(e)});return{size:l,rovingFocusGroupRootStyle:p,dropdownKls:g,role:a,triggerId:s,dropdownListWrapperRef:y,handleKeydown:w,onBlur:v,handleFocus:function(e){r.value&&m(e)},onMousedown:b}}}),[["render",function(e,t,n,l,o,a){return m(),v("ul",{ref:e.dropdownListWrapperRef,class:x(e.dropdownKls),style:h(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:e.handleFocus,onFocusout:e.onBlur,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:Q(e.onMousedown,["self"])},[b(e.$slots,"default")],46,["role","aria-labelledby","onFocusin","onFocusout","onKeydown","onMousedown"])}],["__file","dropdown-menu.vue"]]);const Dt=I(zt,{DropdownItem:jt,DropdownMenu:Kt}),Gt=O(jt),qt=O(Kt);let Ht=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",t=>{let n=!1;switch(P(t)){case G.down:this.gotoSubIndex(this.subIndex+1),n=!0;break;case G.up:this.gotoSubIndex(this.subIndex-1),n=!0;break;case G.tab:ee(e,"mouseleave");break;case G.enter:case G.numpadEnter:case G.space:n=!0,t.currentTarget.click()}return n&&(t.preventDefault(),t.stopPropagation()),!1})})}},Vt=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new Ht(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(P(e)){case G.down:ee(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case G.up:ee(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case G.tab:ee(e.currentTarget,"mouseleave");break;case G.enter:case G.numpadEnter:case G.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()})}},Wt=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(t=>{1===t.nodeType&&new Vt(t,e)})}};const Ut=s({name:"ElMenuCollapseTransition"});var Jt=a(s({...Ut,setup(e){const t=i("menu"),n={onBeforeEnter:e=>e.style.opacity="0.2",onEnter(e,n){ne(e,`${t.namespace.value}-opacity-transition`),e.style.opacity="1",n()},onAfterEnter(e){oe(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=""},onBeforeLeave(e){e.dataset||(e.dataset={}),le(e,t.m("collapse"))?(oe(e,t.m("collapse")),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),ne(e,t.m("collapse"))):(ne(e,t.m("collapse")),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),oe(e,t.m("collapse"))),e.style.width=`${e.scrollWidth}px`,e.style.overflow="hidden"},onLeave(e){ne(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}};return(e,t)=>(m(),f(te,V({mode:"out-in"},g(n)),{default:y(()=>[b(e.$slots,"default")]),_:3},16))}}),[["__file","menu-collapse-transition.vue"]]);function Yt(e,t){const n=u(()=>{let n=e.parent;const l=[t.value];for(;"ElMenu"!==n.type.name;)n.props.index&&l.unshift(n.props.index),n=n.parent;return l});return{parentMenu:u(()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function Qt(e){return u(()=>{const t=e.backgroundColor;return t?new ae(t).shade(20).toString():""})}const Xt=(e,t)=>{const n=i("menu");return u(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Qt(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Zt="rootMenu",en="subMenu:",tn=e({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:t([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:n},expandOpenIcon:{type:n},collapseCloseIcon:{type:n},collapseOpenIcon:{type:n}}),nn="ElSubMenu";var ln=s({name:nn,props:tn,setup(e,{slots:t,expose:n}){const l=M(),{indexPath:o,parentMenu:a}=Yt(l,u(()=>e.index)),s=i("menu"),d=i("sub-menu"),v=E(Zt);v||se(nn,"can not inject root menu");const m=E(`${en}${a.value.uid}`);m||se(nn,"can not inject sub menu");const f=r({}),b=r({});let h;const g=r(!1),y=r(),w=r(),x=u(()=>0===m.level),I=u(()=>"horizontal"===R.value&&x.value?"bottom-start":"right-start"),S=u(()=>"horizontal"===R.value&&x.value||"vertical"===R.value&&!v.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?P.value?e.expandOpenIcon:e.expandCloseIcon:W:e.collapseCloseIcon&&e.collapseOpenIcon?P.value?e.collapseOpenIcon:e.collapseCloseIcon:ie),T=u(()=>{const t=e.teleported;return re(t)?x.value:t}),B=u(()=>v.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),O=u(()=>"horizontal"===R.value&&x.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),P=u(()=>v.openedMenus.includes(e.index)),$=u(()=>[...Object.values(f.value),...Object.values(b.value)].some(({active:e})=>e)),R=u(()=>v.props.mode),z=u(()=>v.props.persistent),A=ue({index:e.index,indexPath:o,active:$}),N=Xt(v.props,m.level+1),j=u(()=>{var t;return null!=(t=e.popperOffset)?t:v.props.popperOffset}),K=u(()=>{var t;return null!=(t=e.popperClass)?t:v.props.popperClass}),D=u(()=>{var t;return null!=(t=e.popperStyle)?t:v.props.popperStyle}),G=u(()=>{var t;return null!=(t=e.showTimeout)?t:v.props.showTimeout}),q=u(()=>{var t;return null!=(t=e.hideTimeout)?t:v.props.hideTimeout}),H=e=>{var t,n,l;e||null==(l=null==(n=null==(t=w.value)?void 0:t.popperRef)?void 0:n.popperInstanceRef)||l.destroy()},V=()=>{"hover"===v.props.menuTrigger&&"horizontal"===v.props.mode||v.props.collapse&&"vertical"===v.props.mode||e.disabled||v.handleSubMenuClick({index:e.index,indexPath:o.value,active:$.value})},U=(t,n=G.value)=>{var l;"focus"!==t.type&&("click"===v.props.menuTrigger&&"horizontal"===v.props.mode||!v.props.collapse&&"vertical"===v.props.mode||e.disabled?m.mouseInChild.value=!0:(m.mouseInChild.value=!0,null==h||h(),({stop:h}=ve(()=>{v.openMenu(e.index,o.value)},n)),T.value&&(null==(l=a.value.vnode.el)||l.dispatchEvent(new MouseEvent("mouseenter"))),"mouseenter"===t.type&&t.target&&L(()=>{me(t.target,{preventScroll:!0})})))},J=(t=!1)=>{var n;"click"===v.props.menuTrigger&&"horizontal"===v.props.mode||!v.props.collapse&&"vertical"===v.props.mode?m.mouseInChild.value=!1:(null==h||h(),m.mouseInChild.value=!1,({stop:h}=ve(()=>!g.value&&v.closeMenu(e.index,o.value),q.value)),T.value&&t&&(null==(n=m.handleMouseleave)||n.call(m,!0)))};p(()=>v.props.collapse,e=>H(Boolean(e)));{const e=e=>{b.value[e.index]=e},t=e=>{delete b.value[e.index]};_(`${en}${l.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:J,mouseInChild:g,level:m.level+1})}return n({opened:P}),C(()=>{v.addSubMenu(A),m.addSubMenu(A)}),F(()=>{m.removeSubMenu(A),v.removeSubMenu(A)}),()=>{var n;const o=[null==(n=t.title)?void 0:n.call(t),ce(k,{class:d.e("icon-arrow"),style:{transform:P.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&v.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>c(S.value)?ce(l.appContext.components[S.value]):ce(S.value)})],a=v.isMenuPopup?ce(qe,{ref:w,visible:P.value,effect:"light",pure:!0,offset:j.value,showArrow:!1,persistent:z.value,popperClass:K.value,popperStyle:D.value,placement:I.value,teleported:T.value,fallbackPlacements:O.value,transition:B.value,gpuAcceleration:!1},{content:()=>{var e;return ce("div",{class:[s.m(R.value),s.m("popup-container"),K.value],onMouseenter:e=>U(e,100),onMouseleave:()=>J(!0),onFocus:e=>U(e,100)},[ce("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${I.value}`)],style:N.value},[null==(e=t.default)?void 0:e.call(t)])])},default:()=>ce("div",{class:d.e("title"),onClick:V},o)}):ce(X,{},[ce("div",{class:d.e("title"),ref:y,onClick:V},o),ce(Ze,{},{default:()=>{var e;return de(ce("ul",{role:"menu",class:[s.b(),s.m("inline")],style:N.value},[null==(e=t.default)?void 0:e.call(t)]),[[pe,P.value]])}})]);return ce("li",{class:[d.b(),d.is("active",$.value),d.is("opened",P.value),d.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:P.value,onMouseenter:U,onMouseleave:()=>J(),onFocus:U},[a])}}});const on=e({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:t(Array),default:()=>xe([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:n,default:()=>ke},popperEffect:{type:t(String),default:"dark"},popperClass:String,popperStyle:{type:t([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),an=e=>fe(e)&&e.every(e=>c(e));var sn=s({name:"ElMenu",props:on,emits:{close:(e,t)=>c(e)&&an(t),open:(e,t)=>c(e)&&an(t),select:(e,t,n,l)=>c(e)&&an(t)&&be(n)&&(re(l)||l instanceof Promise)},setup(e,{emit:t,slots:n,expose:l}){const o=M(),a=o.appContext.config.globalProperties.$router,s=r(),c=r(),d=i("menu"),v=i("sub-menu");let m=64;const f=r(-1),b=r(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),h=r(e.defaultActive),g=r({}),y=r({}),w=u(()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse),x=(n,l)=>{b.value.includes(n)||(e.uniqueOpened&&(b.value=b.value.filter(e=>l.includes(e))),b.value.push(n),t("open",n,l))},I=e=>{const t=b.value.indexOf(e);-1!==t&&b.value.splice(t,1)},S=(e,n)=>{I(e),t("close",e,n)},E=({index:e,indexPath:t})=>{b.value.includes(e)?S(e,t):x(e,t)},T=n=>{("horizontal"===e.mode||e.collapse)&&(b.value=[]);const{index:l,indexPath:o}=n;if(!ye(l)&&!ye(o))if(e.router&&a){const e=n.route||l,s=a.push(e).then(e=>(e||(h.value=l),e));t("select",l,o,{index:l,indexPath:o,route:e},s)}else h.value=l,t("select",l,o,{index:l,indexPath:o})},B=t=>{var n;const l=g.value,o=l[t]||h.value&&l[h.value]||l[e.defaultActive];h.value=null!=(n=null==o?void 0:o.index)?n:t},O=e=>{const t=getComputedStyle(e),n=Number.parseInt(t.marginLeft,10),l=Number.parseInt(t.marginRight,10);return e.offsetWidth+n+l||0},F=()=>{var e,t;if(!s.value)return-1;const n=Array.from(null!=(t=null==(e=s.value)?void 0:e.childNodes)?t:[]).filter(e=>"#comment"!==e.nodeName&&("#text"!==e.nodeName||e.nodeValue)),l=getComputedStyle(s.value),o=Number.parseInt(l.paddingLeft,10),a=Number.parseInt(l.paddingRight,10),i=s.value.clientWidth-o-a;let r=0,u=0;return n.forEach((e,t)=>{r+=O(e),r<=i-m&&(u=t+1)}),u===n.length?-1:u};let P=!0;const $=()=>{const e=we(c);if(e&&(m=O(e)||64),f.value===F())return;const t=()=>{f.value=-1,L(()=>{f.value=F()})};P?t():((e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}})(t)(),P=!1};let R;p(()=>e.defaultActive,e=>{g.value[e]||(h.value=""),B(e)}),p(()=>e.collapse,e=>{e&&(b.value=[])}),p(g.value,()=>{const t=h.value&&g.value[h.value];if(!t||"horizontal"===e.mode||e.collapse)return;t.indexPath.forEach(e=>{const t=y.value[e];t&&x(e,t.indexPath)})}),he(()=>{"horizontal"===e.mode&&e.ellipsis?R=Ie(s,$).stop:null==R||R()});const z=r(!1);{const t=e=>{y.value[e.index]=e},n=e=>{delete y.value[e.index]},l=e=>{g.value[e.index]=e},a=e=>{delete g.value[e.index]};_(Zt,ue({props:e,openedMenus:b,items:g,subMenus:y,activeIndex:h,isMenuPopup:w,addMenuItem:l,removeMenuItem:a,addSubMenu:t,removeSubMenu:n,openMenu:x,closeMenu:S,handleMenuItemClick:T,handleSubMenuClick:E})),_(`${en}${o.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:z,level:0})}C(()=>{"horizontal"===e.mode&&new Wt(o.vnode.el,d.namespace.value)});l({open:e=>{const{indexPath:t}=y.value[e];t.forEach(e=>x(e,t))},close:I,updateActiveIndex:B,handleResize:$});const A=Xt(e,0);return()=>{var l,o;let a=null!=(o=null==(l=n.default)?void 0:l.call(n))?o:[];const i=[];if("horizontal"===e.mode&&s.value){const t=ge(a).filter(e=>8!==(null==e?void 0:e.shapeFlag)),n=-1===f.value?t:t.slice(0,f.value),l=-1===f.value?[]:t.slice(f.value);(null==l?void 0:l.length)&&e.ellipsis&&(a=n,i.push(ce(ln,{ref:c,index:"sub-menu-more",class:v.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>ce(k,{class:v.e("icon-more")},{default:()=>ce(e.ellipsisIcon)}),default:()=>l})))}const r=e.closeOnClickOutside?[[Ve,()=>{b.value.length&&(z.value||(b.value.forEach(e=>{return t("close",e,(n=e,y.value[n].indexPath));var n}),b.value=[]))}]]:[],u=de(ce("ul",{key:String(e.collapse),role:"menubar",ref:s,style:A.value,class:{[d.b()]:!0,[d.m(e.mode)]:!0,[d.m("collapse")]:e.collapse}},[...a,...i]),r);return e.collapseTransition&&"vertical"===e.mode?ce(Jt,()=>u):u}}});const rn=e({index:{type:t([String,null]),default:null},route:{type:t([String,Object])},disabled:Boolean}),un={click:e=>c(e.index)&&fe(e.indexPath)},cn="ElMenuItem",dn=s({name:cn});var pn=a(s({...dn,props:rn,emits:un,setup(e,{expose:t,emit:n}){const l=e;Se(l.index)&&Ce();const o=M(),a=E(Zt),s=i("menu"),r=i("menu-item");a||se(cn,"can not inject root menu");const{parentMenu:c,indexPath:d}=Yt(o,R(l,"index")),p=E(`${en}${c.value.uid}`);p||se(cn,"can not inject sub menu");const h=u(()=>l.index===a.activeIndex),w=ue({index:l.index,indexPath:d,active:h}),k=()=>{l.disabled||(a.handleMenuItemClick({index:l.index,indexPath:d.value,route:l.route}),n("click",w))};return C(()=>{p.addSubMenu(w),a.addMenuItem(w)}),F(()=>{p.removeSubMenu(w),a.removeMenuItem(w)}),t({parentMenu:c,rootMenu:a,active:h,nsMenu:s,nsMenuItem:r,handleClick:k}),(e,t)=>(m(),v("li",{class:x([g(r).b(),g(r).is("active",g(h)),g(r).is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:k},["ElMenu"===g(c).type.name&&g(a).props.collapse&&e.$slots.title?(m(),f(g(qe),{key:0,effect:g(a).props.popperEffect,placement:"right","fallback-placements":["left"],persistent:g(a).props.persistent,"focus-on-target":""},{content:y(()=>[b(e.$slots,"title")]),default:y(()=>[T("div",{class:x(g(s).be("tooltip","trigger"))},[b(e.$slots,"default")],2)]),_:3},8,["effect","persistent"])):(m(),v(X,{key:1},[b(e.$slots,"default"),b(e.$slots,"title")],64))],2))}}),[["__file","menu-item.vue"]]);const vn={title:String},mn=s({name:"ElMenuItemGroup"});var fn=a(s({...mn,props:vn,setup(e){const t=i("menu-item-group");return(e,n)=>(m(),v("li",{class:x(g(t).b())},[T("div",{class:x(g(t).e("title"))},[e.$slots.title?b(e.$slots,"title",{key:1}):(m(),v(X,{key:0},[_e(B(e.title),1)],64))],2),T("ul",null,[b(e.$slots,"default")])],2))}}),[["__file","menu-item-group.vue"]]);const bn=I(sn,{MenuItem:pn,MenuItemGroup:fn,SubMenu:ln}),hn=O(pn);O(fn);const gn=O(ln),yn={class:"navbar-left"},wn=["title"],kn={key:0,class:"bi bi-lightbulb-fill brand-icon"},xn={class:"navbar-right"},In={class:"model-option"},Sn={class:"user-info"},Cn={key:0,class:"user-name"},_n={key:1,class:"bi bi-chevron-down dropdown-icon"},En=Ne(s({__name:"Navbar",props:{collapsed:{type:Boolean,default:!1}},emits:["toggle-sidebar"],setup(e,{emit:t}){const n=t,l=Be(),o=Ee(),a=Me(),s=r(!1),i=r(!1),c=u(()=>({"navbar--mobile":s.value,"navbar--fixed":!0})),d=u(()=>o.username||"未登录"),p=u(()=>o.avatar||""),b=u(()=>[{value:"yuanjing-deepseek-v3",label:"DeepSeek V3",icon:"bi-stars",recommended:!0,provider:"unicom"},{value:"yuanjing-qwen3-235b",label:"Qwen 2.5 235B",icon:"bi-lightning",recommended:!1,provider:"unicom"},{value:"yuanjing-glm-rumination",label:"GLM Rumination",icon:"bi-chat-dots",recommended:!1,provider:"unicom"},{value:"gpt-4o-mini",label:"GPT-4O Mini",icon:"bi-robot",recommended:!1,provider:"openai"}]),h=u({get:()=>localStorage.getItem("selectedModel")||"yuanjing-deepseek-v3",set:e=>{localStorage.setItem("selectedModel",e)}}),g=u(()=>a.unreadCount);function w(){n("toggle-sidebar")}function k(){l.push({name:"Home"})}function I(e){const t=b.value.find(t=>t.value===e);t&&(Fe.success(`已切换到 ${t.label} 模型`),window.dispatchEvent(new CustomEvent("ai-model-changed",{detail:{model:e}})))}function S(){document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),i.value=!1):(document.documentElement.requestFullscreen(),i.value=!0)}function _(){Fe.info("通知中心功能开发中...")}async function E(e){switch(e){case"profile":l.push({name:"UserProfile"});break;case"settings":l.push({name:"Settings"});break;case"logout":try{await Oe.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await o.logout(),Fe.success("已退出登录"),l.push({name:"Login"})}catch(t){}}}function M(){s.value=window.innerWidth<768}function O(){i.value=!!document.fullscreenElement}return C(()=>{M(),window.addEventListener("resize",M),document.addEventListener("fullscreenchange",O)}),F(()=>{window.removeEventListener("resize",M),document.removeEventListener("fullscreenchange",O)}),(t,n)=>{const l=Qe,o=Ue,a=We,r=qe,u=Te,C=lt,M=Gt,O=qt,F=Dt;return m(),v("header",{class:x(["navbar",c.value])},[T("div",yn,[T("button",{class:x(["sidebar-toggle",{"is-active":!e.collapsed}]),onClick:w,title:e.collapsed?"展开侧边栏":"折叠侧边栏"},[...n[1]||(n[1]=[T("i",{class:"bi bi-list"},null,-1)])],10,wn),T("div",{class:"navbar-brand",onClick:k},[s.value?q("",!0):(m(),v("i",kn)),n[2]||(n[2]=T("span",{class:"brand-title"},"元景AI标书生成平台",-1))])]),T("div",xn,[s.value?q("",!0):(m(),f(a,{key:0,modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=e=>h.value=e),class:"model-selector",placeholder:"选择AI模型",size:"default",onChange:I},{prefix:y(()=>[...n[3]||(n[3]=[T("i",{class:"bi bi-robot"},null,-1)])]),default:y(()=>[(m(!0),v(X,null,Pe(b.value,e=>(m(),f(o,{key:e.value,label:e.label,value:e.value},{default:y(()=>[T("span",In,[T("i",{class:x([e.icon,"model-icon"])},null,2),T("span",null,B(e.label),1),e.recommended?(m(),f(l,{key:0,type:"success",size:"small",class:"model-tag"},{default:y(()=>[...n[4]||(n[4]=[_e(" 推荐 ",-1)])]),_:1})):q("",!0)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])),s.value?q("",!0):(m(),f(r,{key:1,content:"全屏",placement:"bottom"},{default:y(()=>[T("button",{class:"navbar-action",onClick:S},[T("i",{class:x([i.value?"bi-fullscreen-exit":"bi-fullscreen","bi"])},null,2)])]),_:1})),j(u,{value:g.value,hidden:0===g.value,class:"navbar-badge"},{default:y(()=>[j(r,{content:"通知",placement:"bottom"},{default:y(()=>[T("button",{class:"navbar-action",onClick:_},[...n[5]||(n[5]=[T("i",{class:"bi bi-bell"},null,-1)])])]),_:1})]),_:1},8,["value","hidden"]),j(F,{trigger:"click",onCommand:E},{dropdown:y(()=>[j(O,null,{default:y(()=>[j(M,{command:"profile"},{default:y(()=>[...n[7]||(n[7]=[T("i",{class:"bi bi-person"},null,-1),T("span",null,"个人信息",-1)])]),_:1}),j(M,{command:"settings"},{default:y(()=>[...n[8]||(n[8]=[T("i",{class:"bi bi-gear"},null,-1),T("span",null,"系统设置",-1)])]),_:1}),j(M,{divided:"",command:"logout"},{default:y(()=>[...n[9]||(n[9]=[T("i",{class:"bi bi-box-arrow-right"},null,-1),T("span",null,"退出登录",-1)])]),_:1})]),_:1})]),default:y(()=>[T("div",Sn,[j(C,{size:32,src:p.value},{default:y(()=>[...n[6]||(n[6]=[T("i",{class:"bi bi-person-circle"},null,-1)])]),_:1},8,["src"]),s.value?q("",!0):(m(),v("span",Cn,B(d.value),1)),s.value?q("",!0):(m(),v("i",_n))])]),_:1})])],2)}}}),[["__scopeId","data-v-fe8282f7"]]),Mn={key:0,class:"menu-group-title"},Tn={class:"group-label"},Bn={class:"menu-title"},On={class:"menu-title"},Fn={class:"menu-title"},Pn={class:"menu-title"},$n={key:0,class:"sidebar-footer"},Rn=Ne(s({__name:"Sidebar",props:{collapsed:{type:Boolean,default:!1},uniqueOpened:{type:Boolean,default:!0},showCollapseButton:{type:Boolean,default:!0}},emits:["update:collapsed"],setup(e,{emit:t}){const n=e,l=t,o=Re(),a=Be(),s=u(()=>({"sidebar--collapsed":n.collapsed})),i=[{key:"workspace",label:"工作台",icon:"bi-house-fill"},{key:"project",label:"项目管理",icon:"bi-folder-fill"},{key:"ai-tools",label:"AI核心工具",icon:"bi-robot"},{key:"knowledge",label:"知识中心",icon:"bi-book-fill"}],r=u(()=>{const e=a.getRoutes();return $e(e).filter(e=>{var t;return!1!==(null==(t=e.meta)?void 0:t.showInMenu)})}),c=u(()=>{const e={};return r.value.forEach(t=>{var n;const l=(null==(n=t.meta)?void 0:n.category)||"other";e[l]||(e[l]=[]),e[l].push(t)}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>(e.order||99)-(t.order||99))}),e}),d=u(()=>{const{path:e}=o;return e});function b(e){e!==o.path&&a.push(e)}function h(){l("update:collapsed",!n.collapsed)}return p(()=>o.path,()=>{}),(t,n)=>{const l=hn,o=gn,a=Xe,r=bn,u=He;return m(),v("aside",{class:x(["sidebar",s.value])},[j(u,{class:"sidebar-scrollbar"},{default:y(()=>[j(r,{"default-active":d.value,collapse:e.collapsed,"unique-opened":e.uniqueOpened,"collapse-transition":!1,class:"sidebar-menu",onSelect:b},{default:y(()=>[(m(),v(X,null,Pe(i,t=>(m(),v(X,{key:t.key},[c.value[t.key]&&c.value[t.key].length>0?(m(),v(X,{key:0},[e.collapsed?q("",!0):(m(),v("div",Mn,[T("i",{class:x([t.icon,"group-icon"])},null,2),T("span",Tn,B(t.label),1)])),(m(!0),v(X,null,Pe(c.value[t.key],e=>(m(),v(X,{key:e.path},[e.children&&0!==e.children.length?(m(),f(o,{key:1,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"menu-icon"])},null,2)):q("",!0),T("span",On,B(e.title),1)]),default:y(()=>[(m(!0),v(X,null,Pe(e.children,e=>(m(),v(X,{key:e.path},[e.children&&0!==e.children.length?(m(),f(o,{key:1,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"submenu-icon"])},null,2)):q("",!0),T("span",null,B(e.title),1)]),default:y(()=>[(m(!0),v(X,null,Pe(e.children,e=>(m(),f(l,{key:e.path,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"submenu-icon"])},null,2)):q("",!0),T("span",null,B(e.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(m(),f(l,{key:0,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"submenu-icon"])},null,2)):q("",!0),T("span",null,B(e.title),1)]),_:2},1032,["index"]))],64))),128))]),_:2},1032,["index"])):(m(),f(l,{key:0,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"menu-icon"])},null,2)):q("",!0),T("span",Bn,B(e.title),1)]),_:2},1032,["index"]))],64))),128)),e.collapsed?q("",!0):(m(),f(a,{key:1,class:"menu-group-divider"}))],64)):q("",!0)],64))),64)),c.value.other&&c.value.other.length>0?(m(!0),v(X,{key:0},Pe(c.value.other,e=>(m(),v(X,{key:e.path},[e.children&&0!==e.children.length?(m(),f(o,{key:1,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"menu-icon"])},null,2)):q("",!0),T("span",Pn,B(e.title),1)]),default:y(()=>[(m(!0),v(X,null,Pe(e.children,e=>(m(),v(X,{key:e.path},[e.children&&0!==e.children.length?(m(),f(o,{key:1,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"submenu-icon"])},null,2)):q("",!0),T("span",null,B(e.title),1)]),default:y(()=>[(m(!0),v(X,null,Pe(e.children,e=>(m(),f(l,{key:e.path,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"submenu-icon"])},null,2)):q("",!0),T("span",null,B(e.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(m(),f(l,{key:0,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"submenu-icon"])},null,2)):q("",!0),T("span",null,B(e.title),1)]),_:2},1032,["index"]))],64))),128))]),_:2},1032,["index"])):(m(),f(l,{key:0,index:e.path},{title:y(()=>[e.icon?(m(),v("i",{key:0,class:x([e.icon,"menu-icon"])},null,2)):q("",!0),T("span",Fn,B(e.title),1)]),_:2},1032,["index"]))],64))),128)):q("",!0)]),_:1},8,["default-active","collapse","unique-opened"])]),_:1}),e.showCollapseButton?(m(),v("div",$n,[T("button",{class:"collapse-button",onClick:h},[T("i",{class:x([e.collapsed?"bi-chevron-right":"bi-chevron-left","bi"])},null,2)])])):q("",!0)],2)}}}),[["__scopeId","data-v-1c81231e"]]),zn={key:0,class:"breadcrumb-wrapper"},An={class:"breadcrumb-item"},Ln=Ne(s({__name:"Breadcrumb",props:{showIcon:{type:Boolean,default:!0}},setup(e){const t=Re(),n=u(()=>ze(t));return(t,l)=>{const o=pt,a=dt;return n.value.length>0?(m(),v("div",zn,[j(a,{separator:"/"},{default:y(()=>[(m(!0),v(X,null,Pe(n.value,(t,n)=>(m(),f(o,{key:n,to:t.path?{path:t.path}:void 0},{default:y(()=>[T("span",An,[t.icon&&e.showIcon?(m(),v("i",{key:0,class:x([t.icon,"breadcrumb-icon"])},null,2)):q("",!0),T("span",null,B(t.title),1)])]),_:2},1032,["to"]))),128))]),_:1})])):q("",!0)}}}),[["__scopeId","data-v-90d0759c"]]),Nn={key:0,class:"tabs-view"},jn=["onClick","onContextmenu"],Kn={class:"tab-title"},Dn=["onClick"],Gn=Ne(s({__name:"TabsView",setup(e){const t=Re(),n=Be(),l=r([]),o=r(null),a=r(!1),s=r(0),i=r(0),u=r(),c=r();function d(e){return e.path===t.path}function f(e){var t;if("Login"===e.name||(null==(t=e.meta)?void 0:t.hideTabs))return;l.value.some(t=>t.path===e.path)||l.value.push({name:e.name,path:e.path,fullPath:e.fullPath,query:e.query,params:e.params,meta:e.meta}),k()}function b(){a.value=!1,o.value&&n.replace({path:o.value.path,query:{_t:Date.now()}})}function g(){a.value=!1,o.value&&(l.value=l.value.filter(e=>{var t;return(null==(t=e.meta)?void 0:t.affix)||e.path===o.value.path}),k(),t.path!==o.value.path&&n.push(o.value.path))}function w(){a.value=!1,l.value=l.value.filter(e=>{var t;return null==(t=e.meta)?void 0:t.affix}),k();const e=l.value.find(e=>{var t;return null==(t=e.meta)?void 0:t.affix});e?n.push(e.path):n.push("/")}function k(){const e=l.value.map(e=>({name:e.name,path:e.path,fullPath:e.fullPath,query:e.query,params:e.params,meta:e.meta}));localStorage.setItem("visitedViews",JSON.stringify(e))}function I(){a.value=!1}return C(()=>{!function(){try{const e=localStorage.getItem("visitedViews");if(e){const t=JSON.parse(e);l.value=t}}catch(e){}}(),function(){const e=n.getRoutes().filter(e=>{var t;return null==(t=e.meta)?void 0:t.affix});for(const t of e)t.name&&f(t)}(),f(t),document.addEventListener("click",I)}),F(()=>{document.removeEventListener("click",I)}),p(()=>t.path,()=>{f(t)}),(e,t)=>{var r,p;const f=He;return l.value.length>0?(m(),v("div",Nn,[j(f,{class:"tabs-scrollbar"},{default:y(()=>[T("div",{class:"tabs-container",ref_key:"tabsContainerRef",ref:u},[(m(!0),v(X,null,Pe(l.value,e=>{var t,r,u,c;return m(),v("div",{key:e.path,class:x(["tabs-item",{"is-active":d(e),"is-affix":null==(t=e.meta)?void 0:t.affix}]),onClick:t=>function(e){d(e)||n.push(e.path)}(e),onContextmenu:Q(t=>function(e,t){o.value=e,a.value=!0,s.value=t.clientX,i.value=t.clientY}(e,t),["prevent"])},[(null==(r=e.meta)?void 0:r.icon)?(m(),v("i",{key:0,class:x([e.meta.icon,"tab-icon"])},null,2)):q("",!0),T("span",Kn,B((null==(u=e.meta)?void 0:u.title)||e.name),1),(null==(c=e.meta)?void 0:c.affix)?q("",!0):(m(),v("i",{key:1,class:"bi bi-x tab-close",onClick:Q(t=>function(e){var t;if(null==(t=e.meta)?void 0:t.affix)return;const o=l.value.findIndex(t=>t.path===e.path);if(o>-1&&(l.value.splice(o,1),k(),d(e))){const e=l.value[l.value.length-1];e?n.push(e.path):n.push("/")}}(e),["stop"])},null,8,Dn))],42,jn)}),128))],512)]),_:1}),de(T("div",{class:"context-menu",style:h({left:s.value+"px",top:i.value+"px"}),ref_key:"contextMenuRef",ref:c},[T("div",{class:"context-menu-item",onClick:b},[...t[0]||(t[0]=[T("i",{class:"bi bi-arrow-clockwise"},null,-1),T("span",null,"刷新",-1)])]),t[3]||(t[3]=T("div",{class:"context-menu-divider"},null,-1)),T("div",{class:x(["context-menu-item",{"is-disabled":null==(p=null==(r=o.value)?void 0:r.meta)?void 0:p.affix}]),onClick:g},[...t[1]||(t[1]=[T("i",{class:"bi bi-x-circle"},null,-1),T("span",null,"关闭其他",-1)])],2),T("div",{class:"context-menu-item",onClick:w},[...t[2]||(t[2]=[T("i",{class:"bi bi-x-octagon"},null,-1),T("span",null,"关闭所有",-1)])])],4),[[pe,a.value]])])):q("",!0)}}}),[["__scopeId","data-v-ec710d5a"]]),qn={class:"footer-content"},Hn={class:"footer-section footer-copyright"},Vn={key:0,class:"footer-divider"},Wn={key:1,class:"footer-section footer-version"},Un={key:2,class:"footer-divider"},Jn={key:3,class:"footer-section footer-support"},Yn={key:4,class:"footer-divider"},Qn={key:5,class:"footer-section footer-beian"},Xn=["href"],Zn=Ne(s({__name:"Footer",props:{showVersion:{type:Boolean,default:!0},showTechSupport:{type:Boolean,default:!0},beian:{default:""},beianLink:{default:"https://beian.miit.gov.cn/"}},setup(e){const t=r(!1),n=u(()=>(new Date).getFullYear()),l=u(()=>"2.0.0"),o=u(()=>({"footer--mobile":t.value}));function a(){t.value=window.innerWidth<768}return C(()=>{a(),window.addEventListener("resize",a)}),F(()=>{window.removeEventListener("resize",a)}),(a,s)=>(m(),v("footer",{class:x(["app-footer",o.value])},[T("div",qn,[T("div",Hn,[T("span",null,"© "+B(n.value)+" 元景AI. All rights reserved.",1)]),t.value?q("",!0):(m(),v("div",Vn,"|")),e.showVersion?(m(),v("div",Wn,[T("span",null,"版本 "+B(l.value),1)])):q("",!0),!t.value&&e.showTechSupport?(m(),v("div",Un,"|")):q("",!0),e.showTechSupport?(m(),v("div",Jn,[...s[0]||(s[0]=[T("span",null,"技术支持：元景AI团队",-1)])])):q("",!0),!t.value&&e.beian?(m(),v("div",Yn,"|")):q("",!0),e.beian?(m(),v("div",Qn,[T("a",{href:e.beianLink,target:"_blank",rel:"noopener noreferrer"},B(e.beian),9,Xn)])):q("",!0)])],2))}}),[["__scopeId","data-v-c7ce98ec"]]),el={class:"layout-container"},tl=Ne(s({__name:"MainLayout",setup(e){const t=Re(),n=Ae(),l=r(!1),o=r(!1),a=r(!1),s=r([]),i=u(()=>({"layout--mobile":o.value,"layout--tablet":a.value,"layout--sidebar-collapsed":l.value,"layout--fixed-header":n.fixedHeader,"layout--sidebar-hidden":!b.value})),c=u(()=>({"content--with-sidebar":b.value,"content--sidebar-collapsed":l.value,"content--full-width":!b.value})),d=u(()=>({"page-content--with-tabs":g.value,"page-content--with-breadcrumb":h.value,"page-content--padding":!t.meta.noPadding})),b=u(()=>"Login"!==t.name&&(!t.meta.hideSidebar&&n.showSidebar)),h=u(()=>"Login"!==t.name&&(!t.meta.hideBreadcrumb&&n.showBreadcrumb)),g=u(()=>"Login"!==t.name&&(!t.meta.hideTabs&&n.showTabs)),k=u(()=>"Login"!==t.name&&(!t.meta.hideFooter&&n.showFooter)),I=u(()=>n.pageTransition||"fade");function S(){l.value=!l.value}function _(e){l.value=e}function E(){const e=window.innerWidth;o.value=e<768,a.value=e>=768&&e<1024,o.value&&!l.value&&(l.value=!0)}return C(()=>{E(),window.addEventListener("resize",E);const e=localStorage.getItem("sidebarCollapsed");null!==e&&(l.value="true"===e)}),F(()=>{window.removeEventListener("resize",E)}),p(l,e=>{localStorage.setItem("sidebarCollapsed",String(e))}),p(()=>t.path,()=>{!function(){if(t.meta.keepAlive&&t.name){const e=t.name;s.value.includes(e)||s.value.push(e)}}(),o.value&&!l.value&&(l.value=!0)},{immediate:!0}),(e,t)=>{const n=N("router-view");return m(),v("div",{class:x(["main-layout",i.value])},[j(En,{collapsed:l.value,onToggleSidebar:S},null,8,["collapsed"]),T("div",el,[b.value?(m(),f(Rn,{key:0,collapsed:l.value,"onUpdate:collapsed":_},null,8,["collapsed"])):q("",!0),T("div",{class:x(["main-content",c.value])},[h.value?(m(),f(Ln,{key:0,class:"breadcrumb-container"})):q("",!0),g.value?(m(),f(Gn,{key:1,class:"tabs-container"})):q("",!0),T("div",{class:x(["page-content",d.value])},[j(n,null,{default:y(({Component:e,route:t})=>[j(te,{name:I.value,mode:"out-in"},{default:y(()=>[(m(),f(Le,{include:s.value},[(m(),f(w(e),{key:t.path}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})],2),k.value?(m(),f(Zn,{key:2,class:"footer-container"})):q("",!0)],2)]),o.value&&!l.value?(m(),v("div",{key:0,class:"sidebar-overlay",onClick:S})):q("",!0)],2)}}}),[["__scopeId","data-v-5761fd2c"]]);export{tl as default};
