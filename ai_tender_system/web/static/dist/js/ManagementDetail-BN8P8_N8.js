import{q as e,E as a,_ as l,Q as t,n as i,b9 as n,g as s,l as r,J as o,aX as c,r as d,R as u,P as _,f as p}from"./index.js";/* empty css                */import{E as m}from"./el-space-_9gmWm4A.js";import{E as f}from"./el-divider-bvVE3iXX.js";import{E as v}from"./el-text-CIVxKMll.js";/* empty css                                                                        *//* empty css                                                                          *//* empty css                */import{E as h,a as b}from"./el-tab-pane-BqPlm-HH.js";import{E as y}from"./el-input-number-wu5F681s.js";/* empty css                             *//* empty css               */import{E as g,a as k}from"./el-select-C9o-AACO.js";/* empty css                     */import{L as z}from"./Loading-BVrBuWXd.js";import{P as w}from"./PageHeader-DAGnyox0.js";import{ap as x,an as j,av as C,ar as V,az as q,au as I,aJ as U,aQ as S,aR as E,at as A,as as P,am as N,aH as D,aq as T,ax as $,bt as K,aW as L,aU as F,aV as B}from"./editor-CZjPbfOV.js";import{D as O}from"./DocumentPreview-DZsr1SMJ.js";/* empty css                   *//* empty css                    *//* empty css                */import{E as R}from"./el-tree-CKub1VG8.js";import{E as W}from"./strings-DJcURSVo.js";import{E as M}from"./index-DWyHgBtB.js";import{t as H}from"./tender-ZYcn_VXM.js";import{a as J,E as Q}from"./index-B_1bNbFG.js";import{E as X}from"./index-DgL8sT1k.js";import{E as G}from"./index-B-MyBJlZ.js";import{c as Y}from"./company-DX6fQVXW.js";import{u as Z}from"./project-BV8XA5yV.js";import{E as ee,a as ae}from"./index-BD95_Z3Y.js";import"./raf-B6jWGkGX.js";import"./toNumber-CU4OoPoC.js";import"./index-B-Zp7nV_.js";import"./index-DXP9jmAU.js";import"./_baseIteratee--ghgRM4z.js";import"./index-CjQ1irBn.js";import"./directive-Bx4Bncqq.js";import"./index-D5O2TROd.js";import"./index-DzFGJ3Ky.js";import"./cloneDeep-syPWYH98.js";const le={class:"file-card__icon"},te={class:"file-card__info"},ie={class:"file-card__name"},ne={class:"file-card__meta"},se={key:0,class:"meta-item"},re={key:0,class:"file-card__actions"},oe=l(x({__name:"FileCard",props:{fileUrl:{},fileName:{},fileSize:{},uploadTime:{},type:{default:"default"},showActions:{type:Boolean,default:!0}},emits:["preview"],setup(l,{emit:t}){const i=l,n=t,s=j(()=>{if(i.fileName)return i.fileName;const e=i.fileUrl.split("/");return e[e.length-1]||""}),r=j(()=>{var e;return{pdf:"bi-file-pdf",doc:"bi-file-word",docx:"bi-file-word",xls:"bi-file-excel",xlsx:"bi-file-excel",zip:"bi-file-zip",rar:"bi-file-zip"}[(null==(e=s.value.split(".").pop())?void 0:e.toLowerCase())||""]||"bi-file-earmark-text"}),o=j(()=>i.uploadTime?i.uploadTime.split(" ")[0]||i.uploadTime:""),c=e=>{if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/api/"))return e;let a=e;return a.startsWith("ai_tender_system/data/")&&(a=a.substring(22)),a.startsWith("outputs/")&&(a="download/"+a.substring(8)),`/api/files/serve/${a}`},d=()=>{const e=c(i.fileUrl),l=document.createElement("a");l.href=e+"?download=true",l.download=s.value,document.body.appendChild(l),l.click(),document.body.removeChild(l),a.success("æ–‡ä»¶ä¸‹è½½å·²å¼€å§‹")},u=()=>{let e="";if(s.value){const a=s.value.split(".");a.length>1&&(e=a[a.length-1].toLowerCase())}if(!e&&i.fileUrl){const a=i.fileUrl.split("?")[0].split(".");a.length>1&&(e=a[a.length-1].toLowerCase())}if("doc"===e||"docx"===e)n("preview",i.fileUrl,s.value);else{const e=c(i.fileUrl);window.open(e,"_blank")}};return(a,t)=>{const i=e;return V(),C("div",{class:q(["file-card",[`file-card--${l.type}`]])},[I("div",le,[I("i",{class:q(r.value)},null,2)]),I("div",te,[I("div",ie,S(s.value),1),I("div",ne,[o.value?(V(),C("span",se,[t[0]||(t[0]=I("i",{class:"bi bi-calendar"},null,-1)),E(" "+S(o.value),1)])):U("",!0)])]),l.showActions?(V(),C("div",re,[A(i,{size:"small",onClick:d},{default:P(()=>[...t[1]||(t[1]=[I("i",{class:"bi bi-download"},null,-1),E(" ä¸‹è½½ ",-1)])]),_:1}),A(i,{size:"small",onClick:u},{default:P(()=>[...t[2]||(t[2]=[I("i",{class:"bi bi-eye"},null,-1),E(" é¢„è§ˆ ",-1)])]),_:1})])):U("",!0)],2)}}}),[["__scopeId","data-v-010a89f5"]]),ce={class:"chapter-tree"},de={key:0,class:"chapter-search mb-3"},ue={class:"chapter-tree-container"},_e={class:"chapter-tree-node"},pe={class:"chapter-title"},me={class:"chapter-meta"},fe={key:1,class:"word-count text-muted ms-2"},ve=l(x({__name:"ChapterTree",props:{chapters:{},showCheckbox:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},defaultCheckedKeys:{default:()=>[]}},emits:["check","select"],setup(e,{expose:a,emit:l}){const i=e,n=l,s=N(),r=N(""),o=N([]),c={children:"children",label:"title"};o.value=i.chapters,D(()=>i.chapters,e=>{o.value=e,i.defaultCheckedKeys.length>0&&s.value&&s.value.setCheckedKeys(i.defaultCheckedKeys)},{immediate:!0});const d=()=>{if(!r.value.trim())return void(o.value=i.chapters);const e=r.value.toLowerCase();o.value=u(i.chapters,e)},u=(e,a)=>{const l=[];for(const t of e)if(t.title.toLowerCase().includes(a))l.push(t);else if(t.children&&t.children.length>0){const e=u(t.children,a);e.length>0&&l.push({...t,children:e})}return l},_=()=>{if(!s.value)return;const e=s.value.getCheckedKeys(),a=s.value.getCheckedNodes();n("check",e,a)};return a({setCheckedKeys:e=>{var a;null==(a=s.value)||a.setCheckedKeys(e)},getCheckedKeys:()=>{var e;return null==(e=s.value)?void 0:e.getCheckedKeys()},getCheckedNodes:()=>{var e;return null==(e=s.value)?void 0:e.getCheckedNodes()}}),(a,l)=>{const i=t,n=W,u=R,p=M;return V(),C("div",ce,[e.showSearch?(V(),C("div",de,[A(i,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),placeholder:"ðŸ” æœç´¢ç« èŠ‚...",clearable:"",onInput:d},{prefix:P(()=>[...l[1]||(l[1]=[I("i",{class:"bi bi-search"},null,-1)])]),_:1},8,["modelValue"])])):U("",!0),I("div",ue,[A(u,{ref_key:"treeRef",ref:s,data:o.value,props:c,"show-checkbox":e.showCheckbox,"check-strictly":!1,"default-expand-all":!1,"expand-on-click-node":!1,"node-key":"id",onCheck:_},{default:P(({node:e,data:a})=>{return[I("div",_e,[I("span",pe,[I("i",{class:q([(t=a,t.children&&t.children.length>0?"bi bi-folder":"bi bi-file-earmark-text"),"me-1"])},null,2),E(" "+S(a.title),1)]),I("span",me,[a.level?(V(),T(n,{key:0,size:"small",type:"info"},{default:P(()=>{return[E(S((e=a.level,{1:"ä¸€çº§",2:"äºŒçº§",3:"ä¸‰çº§",4:"å››çº§",5:"äº”çº§"}[e]||`${e}çº§`)),1)];var e}),_:2},1024)):U("",!0),a.word_count?(V(),C("span",fe,S((l=a.word_count,l>=1e4?`${(l/1e4).toFixed(1)}ä¸‡`:l.toLocaleString()))+"å­— ",1)):U("",!0)])])];var l,t}),_:1},8,["data","show-checkbox"]),o.value&&0!==o.value.length?U("",!0):(V(),T(p,{key:0,description:"æš‚æ— ç« èŠ‚æ•°æ®","image-size":80}))])])}}}),[["__scopeId","data-v-af38204c"]]),he={class:"tender-document-processor"},be={class:"card-header"},ye={class:"upload-section"},ge={key:0,class:"existing-document"},ke={class:"d-flex align-items-center justify-content-between"},ze={class:"me-3"},we={key:1},xe={key:0,class:"mt-3"},je={class:"d-flex align-items-center justify-content-between"},Ce={key:0,class:"bi bi-file-earmark-code me-1"},Ve={class:"card-header"},qe={class:"chapter-section"},Ie={class:"stats-grid mb-3"},Ue={class:"stat-card"},Se={class:"stat-value"},Ee={class:"stat-card"},Ae={class:"stat-value text-success"},Pe={class:"stat-card"},Ne={class:"stat-value text-info"},De={class:"batch-operations mb-3"},Te={class:"save-actions mt-4"},$e={key:0,class:"parsing-progress mt-3"},Ke={class:"d-flex align-items-center"},Le=l(x({__name:"TenderDocumentProcessor",props:{projectId:{},companyId:{},projectDetail:{}},emits:["success","refresh","preview","parseComplete"],setup(l,{emit:t}){const c=l,d=t,u=N(),_=N(),p=N([]),f=N(null),v=N(!1),h=N("æ­£åœ¨è§£æžæ–‡æ¡£ç»“æž„..."),b=N([]),y=N([]),g=N([]),k=N(!1),z=N(!1),w=N(null),x=j(()=>{const e=a=>{let l=a.length;return a.forEach(a=>{a.children&&a.children.length>0&&(l+=e(a.children))}),l};return e(b.value)}),q=j(()=>y.value.length),K=j(()=>g.value.reduce((e,a)=>e+(a.word_count||0),0)),L=j(()=>null!==w.value),F=async e=>{if(!e.raw)return;const l=(e=>e.name.toLowerCase().endsWith(".docx")?e.size>52428800?{valid:!1,error:`æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 50MBï¼Œå½“å‰æ–‡ä»¶å¤§å°: ${(e.size/1024/1024).toFixed(2)}MB`}:{valid:!0}:{valid:!1,error:"ä»…æ”¯æŒ .docx æ ¼å¼çš„æ–‡ä»¶ï¼Œè¯·å…ˆå°† .doc æ–‡ä»¶å¦å­˜ä¸º .docx æ ¼å¼"})(e.raw);if(!l.valid)return a.error(l.error||"æ–‡ä»¶éªŒè¯å¤±è´¥"),f.value=null,void(p.value=[]);f.value=e.raw,p.value=[e],a.info({message:"æ–‡ä»¶å·²é€‰æ‹©ï¼Œæ­£åœ¨è‡ªåŠ¨è§£æž...",duration:2e3}),setTimeout(()=>{M()},500)},B=()=>{f.value=null,p.value=[],b.value=[],y.value=[]},O=()=>{w.value&&d("preview",w.value.path,w.value.name)},R=()=>{w.value=null,b.value=[],y.value=[]},M=async()=>{if(f.value){v.value=!0,h.value="æ­£åœ¨è§£æžæ–‡æ¡£ç»“æž„...";try{const e=new FormData;e.append("file",f.value),e.append("company_id",c.companyId.toString()),e.append("project_id",c.projectId.toString());const l=await H.parseDocumentStructure(e);if(!l.success)throw new Error(l.message||l.error||"è§£æžå¤±è´¥");b.value=l.chapters||[],a.success("æ–‡æ¡£è§£æžæˆåŠŸï¼Œè¯·é€‰æ‹©ç« èŠ‚"),d("parseComplete"),d("refresh")}catch(e){const l=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";l.includes(".doc")||l.includes("å¦å­˜ä¸º")||l.includes("docx")?o.alert(l,"ä¸æ”¯æŒ .doc æ ¼å¼",{confirmButtonText:"æˆ‘çŸ¥é“äº†",type:"warning",dangerouslyUseHTMLString:!1,customStyle:{width:"500px"}}):a.error(`è§£æžå¤±è´¥: ${l}`)}finally{v.value=!1}}else a.warning("è¯·å…ˆä¸Šä¼ æ–‡æ¡£")},Y=(e,a)=>{y.value=e,g.value=a},Z=()=>{var e;const a=te(b.value);null==(e=_.value)||e.setCheckedKeys(a)},ee=()=>{var e;null==(e=_.value)||e.setCheckedKeys([])},ae=()=>{var e;const a=ie(b.value,["æŠ€æœ¯","æ–¹æ¡ˆ","å®žæ–½","ç³»ç»Ÿ"]);null==(e=_.value)||e.setCheckedKeys(a)},le=()=>{var e;const a=te(b.value),l=ie(b.value,["åˆåŒ","æ¡æ¬¾","åè®®"]),t=a.filter(e=>!l.includes(e));null==(e=_.value)||e.setCheckedKeys(t)},te=e=>{const a=[];return e.forEach(e=>{a.push(e.id),e.children&&e.children.length>0&&a.push(...te(e.children))}),a},ie=(e,a)=>{const l=[];return e.forEach(e=>{a.some(a=>e.title.includes(a))&&l.push(e.id),e.children&&e.children.length>0&&l.push(...ie(e.children,a))}),l},ne=async()=>{if(0!==q.value){k.value=!0;try{await H.saveResponseFile(c.projectId,y.value),d("success","response"),d("refresh")}catch(e){a.error(`ä¿å­˜å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{k.value=!1}}else a.warning("è¯·å…ˆé€‰æ‹©ç« èŠ‚")},se=async()=>{if(0!==q.value){z.value=!0;try{await H.saveTechnicalChapters(c.projectId,y.value),d("success","technical"),d("refresh")}catch(e){a.error(`ä¿å­˜å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{z.value=!1}}else a.warning("è¯·å…ˆé€‰æ‹©ç« èŠ‚")},re=e=>{if(!e)return"æ‹›æ ‡æ–‡æ¡£";try{const a=e.replace(/\\/g,"/").split("/"),l=a[a.length-1];return decodeURIComponent(l)}catch(a){return"æ‹›æ ‡æ–‡æ¡£"}};return D(()=>c.projectDetail,()=>{(()=>{if(!c.projectDetail)return;let e=c.projectDetail.step1_data;if("string"==typeof e)try{e=JSON.parse(e)}catch(a){e=null}if(c.projectDetail.tender_document_path){const e=c.projectDetail.original_filename||re(c.projectDetail.tender_document_path);w.value={path:c.projectDetail.tender_document_path,name:e,uploadedAt:c.projectDetail.created_at}}else if(null==e?void 0:e.file_path){const a=e.file_name||re(e.file_path);w.value={path:e.file_path,name:a,uploadedAt:c.projectDetail.created_at}}(null==e?void 0:e.chapters)&&Array.isArray(e.chapters)&&e.chapters.length>0&&(b.value=e.chapters)})()},{immediate:!0}),(a,l)=>{const t=W,o=e,c=i,d=G,y=X,g=Q,j=n,N=m,D=J,H=s;return V(),C("div",he,[A(D,{gutter:20},{default:P(()=>[A(g,{xs:24,sm:24,md:10,lg:10},{default:P(()=>[A(y,{shadow:"hover",class:"step-card"},{header:P(()=>[I("div",be,[l[1]||(l[1]=I("i",{class:"bi bi-upload me-2 text-primary"},null,-1)),l[2]||(l[2]=I("span",{class:"step-title"},"æ­¥éª¤1: ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰",-1)),f.value||L.value?(V(),T(t,{key:0,type:"success",size:"small",class:"ms-2"},{default:P(()=>[...l[0]||(l[0]=[E(" å·²ä¸Šä¼  ",-1)])]),_:1})):U("",!0)])]),default:P(()=>[I("div",ye,[L.value?(V(),C("div",ge,[A(c,{type:"success",closable:!1},{title:P(()=>[I("div",ke,[I("div",null,[l[4]||(l[4]=I("i",{class:"bi bi-file-earmark-check-fill me-2"},null,-1)),I("span",ze,S(w.value.name),1),A(t,{size:"small",type:"success"},{default:P(()=>[...l[3]||(l[3]=[E("å·²ä¸Šä¼ ",-1)])]),_:1})]),I("div",null,[A(o,{size:"small",onClick:O},{default:P(()=>[...l[5]||(l[5]=[I("i",{class:"bi bi-eye me-1"},null,-1),E(" é¢„è§ˆ ",-1)])]),_:1}),A(o,{size:"small",onClick:R},{default:P(()=>[...l[6]||(l[6]=[I("i",{class:"bi bi-arrow-repeat me-1"},null,-1),E(" é‡æ–°ä¸Šä¼  ",-1)])]),_:1})])])]),_:1})])):(V(),C("div",we,[A(d,{ref_key:"uploadRef",ref:u,drag:"","auto-upload":!1,limit:1,accept:".docx","on-change":F,"on-remove":B,"file-list":p.value},{tip:P(()=>[...l[7]||(l[7]=[I("div",{class:"el-upload__tip"},[I("div",null,[E("æŽ¨èä½¿ç”¨ "),I("strong",null,".docx"),E(" æ ¼å¼ï¼ˆå…¼å®¹æ€§æ›´å¥½ï¼‰ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 50MB")]),I("div",{class:"text-warning",style:{"font-size":"12px","margin-top":"4px"}},[I("i",{class:"bi bi-exclamation-triangle-fill me-1"}),E(" æ³¨æ„ï¼šæ—§ç‰ˆ .doc æ ¼å¼æš‚ä¸æ”¯æŒç« èŠ‚è§£æžï¼Œè¯·å…ˆè½¬æ¢ä¸º .docx ")])],-1)])]),default:P(()=>[l[8]||(l[8]=I("i",{class:"bi bi-cloud-upload",style:{"font-size":"36px",color:"var(--el-color-primary)"}},null,-1)),l[9]||(l[9]=I("div",{class:"el-upload__text"},[E(" æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„æˆ– "),I("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["file-list"]),f.value?(V(),C("div",xe,[A(c,{type:"success",closable:!1},{title:P(()=>[I("div",je,[I("span",null,[l[10]||(l[10]=I("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),E(" å·²é€‰æ‹©æ–‡ä»¶: "+S(f.value.name),1)]),A(o,{type:"primary",size:"small",loading:v.value,onClick:M},{default:P(()=>[v.value?U("",!0):(V(),C("i",Ce)),E(" "+S(v.value?"è§£æžä¸­...":"è§£æžæ–‡æ¡£ç»“æž„"),1)]),_:1},8,["loading"])])]),_:1})])):U("",!0)]))])]),_:1})]),_:1}),A(g,{xs:24,sm:24,md:14,lg:14},{default:P(()=>[b.value.length>0?(V(),T(y,{key:0,shadow:"hover",class:"step-card"},{header:P(()=>[I("div",Ve,[l[11]||(l[11]=I("i",{class:"bi bi-list-nested me-2 text-success"},null,-1)),l[12]||(l[12]=I("span",{class:"step-title"},"æ­¥éª¤2: é€‰æ‹©ç« èŠ‚",-1)),q.value>0?(V(),T(t,{key:0,type:"success",size:"small",class:"ms-2"},{default:P(()=>[E(" å·²é€‰ "+S(q.value)+" ä¸ª ",1)]),_:1})):U("",!0)])]),default:P(()=>{return[I("div",qe,[I("div",Ie,[I("div",Ue,[l[13]||(l[13]=I("div",{class:"stat-label"},"æ€»ç« èŠ‚æ•°",-1)),I("div",Se,S(x.value),1)]),I("div",Ee,[l[14]||(l[14]=I("div",{class:"stat-label"},"å·²é€‰æ‹©",-1)),I("div",Ae,S(q.value),1)]),I("div",Pe,[l[15]||(l[15]=I("div",{class:"stat-label"},"é€‰ä¸­å­—æ•°",-1)),I("div",Ne,S((e=K.value,e>=1e4?`${(e/1e4).toFixed(1)}ä¸‡`:e.toLocaleString())),1)])]),I("div",De,[A(j,null,{default:P(()=>[A(o,{size:"small",onClick:Z},{default:P(()=>[...l[16]||(l[16]=[I("i",{class:"bi bi-check-all me-1"},null,-1),E(" å…¨é€‰ ",-1)])]),_:1}),A(o,{size:"small",onClick:ee},{default:P(()=>[...l[17]||(l[17]=[I("i",{class:"bi bi-x me-1"},null,-1),E(" å…¨ä¸é€‰ ",-1)])]),_:1}),A(o,{size:"small",type:"success",onClick:ae},{default:P(()=>[...l[18]||(l[18]=[I("i",{class:"bi bi-cpu me-1"},null,-1),E(" ä»…é€‰æŠ€æœ¯ç« èŠ‚ ",-1)])]),_:1}),A(o,{size:"small",type:"warning",onClick:le},{default:P(()=>[...l[19]||(l[19]=[I("i",{class:"bi bi-file-x me-1"},null,-1),E(" æŽ’é™¤åˆåŒæ¡æ¬¾ ",-1)])]),_:1})]),_:1})]),A(ve,{ref_key:"chapterTreeRef",ref:_,chapters:b.value,onCheck:Y},null,8,["chapters"]),I("div",Te,[A(N,{size:16},{default:P(()=>[A(o,{type:"info",size:"large",disabled:0===q.value,loading:k.value,onClick:ne},{default:P(()=>[...l[20]||(l[20]=[I("i",{class:"bi bi-file-earmark-arrow-down me-1"},null,-1),E(" å¦å­˜ä¸ºåº”ç­”æ–‡ä»¶ ",-1)])]),_:1},8,["disabled","loading"]),A(o,{type:"success",size:"large",disabled:0===q.value,loading:z.value,onClick:se},{default:P(()=>[...l[21]||(l[21]=[I("i",{class:"bi bi-file-code me-1"},null,-1),E(" å¦å­˜ä¸ºæŠ€æœ¯éœ€æ±‚ ",-1)])]),_:1},8,["disabled","loading"])]),_:1})])])];var e}),_:1})):U("",!0)]),_:1})]),_:1}),v.value?(V(),C("div",$e,[A(c,{type:"info",closable:!1},{title:P(()=>[I("div",Ke,[A(H,{class:"is-loading me-2"},{default:P(()=>[A($(r))]),_:1}),I("span",null,S(h.value),1)])]),_:1})])):U("",!0)])}}}),[["__scopeId","data-v-629c291c"]]),Fe={class:"tender-management-detail"},Be={class:"tab-content"},Oe={class:"info-section"},Re={class:"section-header"},We={class:"info-section"},Me={class:"section-header"},He={key:0,class:"bi bi-magic me-1"},Je={key:0,class:"amount"},Qe={key:1},Xe={class:"tab-content"},Ge={class:"info-section"},Ye={class:"section-header"},Ze={key:0,class:"bi bi-magic me-1"},ea={key:0,class:"requirements-list"},aa={class:"requirement-content"},la={class:"requirement-text"},ta={key:0},ia={key:1},na={class:"requirement-status"},sa={class:"info-section"},ra={key:0,class:"requirements-list"},oa={class:"requirement-content"},ca={class:"requirement-text"},da={key:0},ua={key:1},_a={key:2},pa={class:"requirement-status"},ma={class:"info-section"},fa={key:0,class:"requirements-list"},va={class:"requirement-content"},ha={class:"requirement-text"},ba={key:0},ya={key:1},ga={key:2},ka={class:"requirement-status"},za={class:"info-section"},wa={key:0,class:"financial-requirements"},xa={class:"requirement-content"},ja={class:"requirement-text"},Ca={class:"tab-label"},Va={class:"tab-content"},qa={class:"file-section"},Ia={class:"section-header"},Ua={class:"file-section"},Sa={class:"section-header"},Ea={class:"action-area"},Aa={class:"tab-label"},Pa={class:"tab-content"},Na={class:"file-section"},Da={class:"section-header"},Ta={class:"file-section"},$a={class:"section-header"},Ka={class:"file-section"},La={class:"section-header"},Fa={class:"action-area"},Ba={class:"tab-label"},Oa={class:"tab-content"},Ra={class:"info-section"},Wa={class:"section-header"},Ma={key:0,class:"documents-grid"},Ha={class:"action-area"},Ja={key:1,class:"info-section"},Qa={class:"section-header"},Xa=l(x({__name:"ManagementDetail",setup(l){const n=c(),s=d(),r=Z(),x=N(!1),q=N(!1),R=N(!1),G=N(null),le=N("basic"),te=N([]),ie=N(!1),ne=N(!1),se=N([]),re=N([]),ce=N(!1),de=N(!1),ue=N(""),_e=N(""),pe=K({name:"",number:"",company_id:null,tenderer:"",agency:"",bidding_method:"",bidding_location:"",bidding_time:"",budget_amount:null,business_contact_name:"",business_contact_phone:"",tenderer_contact_person:"",tenderer_contact_method:"",agency_contact_person:"",agency_contact_method:"",authorized_person_name:"",authorized_person_id:""}),me={name:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}],number:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®ç¼–å·",trigger:"blur"}],company_id:[{required:!0,message:"è¯·é€‰æ‹©å…¬å¸",trigger:"change"}]},fe=j(()=>Number(n.params.id)),he=j(()=>{var e;return(null==(e=G.value)?void 0:e.name)||"é¡¹ç›®è¯¦æƒ…"}),be=j(()=>{const e=a=>{let l=a.length;return a.forEach(a=>{a.children&&a.children.length>0&&(l+=e(a.children))}),l};return e(re.value)}),ye=e=>e?"string"==typeof e?{fileUrl:e,fileName:void 0,fileSize:void 0}:{fileUrl:e.file_url||e.download_url||e.file_path||"",fileName:e.filename||e.file_name,fileSize:e.file_size}:null,ge=j(()=>{var e,a;return ye(null==(a=null==(e=G.value)?void 0:e.step1_data)?void 0:a.response_file_path)}),ke=j(()=>{var e,a;return ye(null==(a=null==(e=G.value)?void 0:e.step1_data)?void 0:a.business_response_file)}),ze=j(()=>{var e,a;return ye(null==(a=null==(e=G.value)?void 0:e.step1_data)?void 0:a.technical_file_path)}),we=j(()=>{var e,a;return ye(null==(a=null==(e=G.value)?void 0:e.step1_data)?void 0:a.technical_point_to_point_file)}),xe=j(()=>{var e,a;return ye(null==(a=null==(e=G.value)?void 0:e.step1_data)?void 0:a.technical_proposal_file)}),je={business_license:"è¥ä¸šæ‰§ç…§ä¿¡æ¯",legal_id_front:"æ³•äººèº«ä»½è¯æ­£é¢",legal_id_back:"æ³•äººèº«ä»½è¯åé¢",auth_id_front:"è¢«æŽˆæƒäººèº«ä»½è¯æ­£é¢",auth_id_back:"è¢«æŽˆæƒäººèº«ä»½è¯åé¢",authorization_letter:"æ³•äººæŽˆæƒå§”æ‰˜ä¹¦",bank_permit:"å¼€æˆ·è®¸å¯è¯",iso9001:"ISO9001è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯",iso20000:"ISO20000ä¿¡æ¯æŠ€æœ¯æœåŠ¡ç®¡ç†ä½“ç³»è®¤è¯",iso27001:"ISO27001ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯",cmmi:"CMMIèƒ½åŠ›æˆç†Ÿåº¦è®¤è¯",itss:"ITSSä¿¡æ¯æŠ€æœ¯æœåŠ¡æ ‡å‡†è®¤è¯",value_added_telecom_permit:"å¢žå€¼ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",basic_telecom_permit:"åŸºç¡€ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",level_protection:"ç­‰çº§ä¿æŠ¤è®¤è¯",software_copyright:"è½¯ä»¶è‘—ä½œæƒ",patent_certificate:"ä¸“åˆ©è¯ä¹¦",safety_production:"å®‰å…¨ç”Ÿäº§è®¸å¯è¯",project_performance:"é¡¹ç›®ä¸šç»©è¦æ±‚",audit_report:"è´¢åŠ¡å®¡è®¡æŠ¥å‘Š",social_security:"ç¤¾ä¼šä¿é™©è¯æ˜Ž",dishonest_executor:"å¤±ä¿¡è¢«æ‰§è¡Œäºº",tax_violation_check:"é‡å¤§ç¨Žæ”¶è¿æ³•",gov_procurement_creditchina:"æ”¿åºœé‡‡è´­ä¸¥é‡è¿æ³•å¤±ä¿¡è®°å½•ï¼ˆä¿¡ç”¨ä¸­å›½ï¼‰",gov_procurement_ccgp:"æ”¿åºœé‡‡è´­ä¸¥é‡è¿æ³•å¤±ä¿¡è®°å½•ï¼ˆæ”¿åºœé‡‡è´­ç½‘ï¼‰",tax_compliance:"ä¾æ³•çº³ç¨Ž",commitment_letter:"æ‰¿è¯ºå‡½",property_certificate:"è¥ä¸šåŠžå…¬åœºæ‰€æˆ¿äº§è¯æ˜Ž",deposit_requirement:"ä¿è¯é‡‘è¦æ±‚",purchaser_blacklist:"é‡‡è´­äººé»‘åå•"},Ce=j(()=>{var e;const a=null==(e=G.value)?void 0:e.qualifications_data;return a&&"object"==typeof a&&Object.keys(a).length>0?(e=>{const a=[],l=[],t=[];let i=null;const n=["ä¸šç»©","é¡¹ç›®","æ¡ˆä¾‹","åˆåŒ","performance","project"],s=["äººå‘˜","é¡¹ç›®ç»ç†","æŠ€æœ¯è´Ÿè´£äºº","å·¥ç¨‹å¸ˆ","personnel","staff"],r=["è´¢åŠ¡","èµ„æœ¬","èµ„äº§","å®¡è®¡","é“¶è¡Œ","æ³¨å†Œèµ„é‡‘","è¥ä¸šé¢","audit","financial"],o={},c=new Set;return Object.entries(e).forEach(([a,l])=>{if(c.has(a))return;const t=a.endsWith("_front")||a.includes("_id_front"),i=a.endsWith("_back")||a.includes("_id_back");if(t){const t=a.replace("_front","_back"),i=e[t];if(i){const e=(l.qualification_name||a).replace("æ­£é¢","").replace("åé¢","").trim(),n=l.tender_description||"",s=i.tender_description||"";let r=n;s&&s!==n&&(r=`${n}\n${s}`),r=r?`ã€éœ€æä¾›æ­£åé¢ã€‘\n${r}`:"éœ€æä¾›æ­£åé¢",o[a.replace("_front","")]={...l,qualification_name:e,tender_description:r,required_by_tender:l.required_by_tender||i.required_by_tender,is_merged:!0,original_keys:[a,t]},c.add(a),c.add(t)}else o[a]=l,c.add(a)}else if(i){const t=a.replace("_back","_front");e[t]||(o[a]=l,c.add(a))}else o[a]=l,c.add(a)}),Object.entries(o).forEach(([e,o])=>{const c=1==o.required_by_tender||!0===o.required_by_tender||"mandatory"===o.constraint_type,d=o.tender_description||o.detail||"",u=o.qualification_name||o.summary||e,_=o.category||"";"è´¢åŠ¡è¦æ±‚"===_||_.includes("è´¢åŠ¡")||r.some(a=>e.includes(a)||_.includes(a))?(i||(i={description:[]}),i.description.push(`${u}: ${d}`)):"ä¸šç»©è¦æ±‚"===_||n.some(a=>e.includes(a)||_.includes(a))?l.push({description:u,detail:d,required:c}):_.includes("äººå‘˜")||s.some(a=>e.includes(a)||_.includes(a))?t.push({position:u,detail:d,required:c}):a.push({name:u,note:d,required:c,category:_})}),i&&i.description&&(i.description=i.description.join("ï¼›")),{certifications:a,performance:l,personnel:t,financial:i}})(a):{certifications:[],performance:[],personnel:[],financial:null}}),Ve=async()=>{if(fe.value){x.value=!0;try{const a=(await H.getProject(fe.value)).data;if(G.value={id:a.project_id,name:a.project_name,number:a.project_number,company_id:a.company_id,company_name:a.company_name,status:a.status,created_at:a.created_at,updated_at:a.updated_at,authorized_person_name:a.authorized_person_name,authorized_person_id:a.authorized_person_id,tenderer:a.tenderer,agency:a.agency,bidding_method:a.bidding_method,bidding_location:a.bidding_location,bidding_time:a.bidding_time,budget_amount:a.budget_amount,business_contact_name:a.business_contact_name,business_contact_phone:a.business_contact_phone,tenderer_contact_person:a.tenderer_contact_person,tenderer_contact_method:a.tenderer_contact_method,agency_contact_person:a.agency_contact_person,agency_contact_method:a.agency_contact_method,step1_data:a.step1_data,...a},pe.name=G.value.name||"",pe.number=G.value.number||"",pe.company_id=G.value.company_id||null,pe.tenderer=G.value.tenderer||"",pe.agency=G.value.agency||"",pe.bidding_method=G.value.bidding_method||"",pe.bidding_location=G.value.bidding_location||"",pe.bidding_time=G.value.bidding_time||"",pe.budget_amount=G.value.budget_amount||null,pe.business_contact_name=G.value.business_contact_name||"",pe.business_contact_phone=G.value.business_contact_phone||"",pe.tenderer_contact_person=G.value.tenderer_contact_person||"",pe.tenderer_contact_method=G.value.tenderer_contact_method||"",pe.agency_contact_person=G.value.agency_contact_person||"",pe.agency_contact_method=G.value.agency_contact_method||"",pe.authorized_person_name=G.value.authorized_person_name||"",pe.authorized_person_id=G.value.authorized_person_id||"",a.step1_data)try{const e="string"==typeof a.step1_data?JSON.parse(a.step1_data):a.step1_data;if(e.chapters&&Array.isArray(e.chapters)){const a=e=>e.filter(e=>!(e.para_start_idx>=e.para_end_idx)&&(0!==e.word_count&&(e.children&&Array.isArray(e.children)&&(e.children=a(e.children)),!0)));re.value=a(e.chapters),re.value.length,e.chapters.length}const l=[];let t=1;if(a.tender_document_path&&l.push({id:t++,file_path:a.tender_document_path,file_url:a.tender_document_path,original_filename:"æ‹›æ ‡æ–‡æ¡£",document_type:"tender",uploaded_at:a.created_at}),e.response_file_path&&l.push({id:t++,file_path:e.response_file_path,file_url:e.response_file_path,original_filename:e.response_filename||"åº”ç­”æ–‡ä»¶æ¨¡æ¿",document_type:"response_template",file_size:e.response_file_size,uploaded_at:a.updated_at}),e.technical_file_path&&l.push({id:t++,file_path:e.technical_file_path,file_url:e.technical_file_path,original_filename:e.technical_filename||"æŠ€æœ¯éœ€æ±‚æ–‡ä»¶",document_type:"technical",file_size:e.technical_file_size,uploaded_at:a.updated_at}),e.business_response_file){const i="string"==typeof e.business_response_file?{file_path:e.business_response_file}:e.business_response_file;l.push({id:t++,file_path:i.file_path||i.file_url,file_url:i.file_url||i.file_path,original_filename:i.file_name||"å•†åŠ¡åº”ç­”å®Œæˆæ–‡ä»¶",document_type:"business_response",file_size:i.file_size,uploaded_at:a.updated_at})}if(e.technical_point_to_point_file){const i="string"==typeof e.technical_point_to_point_file?{file_path:e.technical_point_to_point_file}:e.technical_point_to_point_file;l.push({id:t++,file_path:i.file_path||i.file_url,file_url:i.file_url||i.file_path,original_filename:i.file_name||"æŠ€æœ¯ç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶",document_type:"technical_p2p",file_size:i.file_size,uploaded_at:a.updated_at})}if(e.technical_proposal_file){const i="string"==typeof e.technical_proposal_file?{file_path:e.technical_proposal_file}:e.technical_proposal_file;l.push({id:t++,file_path:i.file_path||i.file_url,file_url:i.file_url||i.file_path,original_filename:i.file_name||"æŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶",document_type:"technical_proposal",file_size:i.file_size,uploaded_at:a.updated_at})}se.value=l}catch(e){}"æ–°é¡¹ç›®"!==G.value.name&&"draft"!==G.value.status||(R.value=!0),G.value&&r.setCurrentProject(G.value)}catch(l){a.error("åŠ è½½é¡¹ç›®è¯¦æƒ…å¤±è´¥")}finally{x.value=!1}}},qe=e=>e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}),Ie=e=>({active:"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ",draft:"è‰ç¨¿"}[e]||e),Ue=()=>{Ve()},Se=()=>{R.value=!0},Ee=()=>{o.confirm("ç¡®å®šè¦å–æ¶ˆç¼–è¾‘å—ï¼Ÿæœªä¿å­˜çš„æ›´æ”¹å°†ä¸¢å¤±","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{Ve(),R.value=!1}).catch(()=>{})},Ae=async()=>{var e,l;q.value=!0;try{const e={project_name:pe.name,project_number:pe.number,company_id:pe.company_id,tenderer:pe.tenderer,agency:pe.agency,bidding_method:pe.bidding_method,bidding_location:pe.bidding_location,bidding_time:pe.bidding_time,budget_amount:pe.budget_amount,business_contact_name:pe.business_contact_name,business_contact_phone:pe.business_contact_phone,tenderer_contact_person:pe.tenderer_contact_person,tenderer_contact_method:pe.tenderer_contact_method,agency_contact_person:pe.agency_contact_person,agency_contact_method:pe.agency_contact_method,authorized_person_name:pe.authorized_person_name,authorized_person_id:pe.authorized_person_id,status:"active"};await H.updateProject(fe.value,e),a.success("ä¿å­˜æˆåŠŸ"),R.value=!1,ce.value=!1,await Ve()}catch(t){const i=(null==(l=null==(e=null==t?void 0:t.response)?void 0:e.data)?void 0:l.message)||(null==t?void 0:t.message)||"ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥é¡¹ç›®åç§°å’Œç¼–å·æ˜¯å¦ä¸Žå…¶ä»–é¡¹ç›®é‡å¤";a.error({message:i,duration:5e3,showClose:!0})}finally{q.value=!1}},Pe=async()=>{var e;if(!G.value)return;(null==(e=G.value.step1_data)?void 0:e.response_file_path)?(r.setCurrentProject(G.value),await s.push({name:"BusinessResponse"})):a.warning("æœªæ‰¾åˆ°åº”ç­”æ–‡ä»¶æ¨¡æ¿")},Ne=async()=>{var e;if(!G.value)return;(null==(e=G.value.step1_data)?void 0:e.technical_file_path)?(r.setCurrentProject(G.value),await s.push({name:"PointToPoint"})):a.warning("æœªæ‰¾åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")},De=async()=>{var e;if(!G.value)return;(null==(e=G.value.step1_data)?void 0:e.technical_file_path)?(r.setCurrentProject(G.value),await s.push({name:"TechProposal"})):a.warning("æœªæ‰¾åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")},Te=async()=>{G.value&&(r.setCurrentProject(G.value),await s.push({name:"FinalTender"}))},$e=async()=>{var e,l;await Ve();if(!(null==(e=G.value)?void 0:e.tenderer)&&!(null==(l=G.value)?void 0:l.qualifications_data)){a.info("å¼€å§‹è‡ªåŠ¨æ‰§è¡ŒAIæå–...");try{await Xa(),await Ae(),await Ga(),a.success("AIè‡ªåŠ¨æå–å®Œæˆï¼")}catch(t){a.warning("è‡ªåŠ¨AIæå–å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®é‡è¯•")}}},Ke=async e=>{await Ve(),"response"===e?(a.success("åº”ç­”æ–‡ä»¶å·²ä¿å­˜ï¼Œå¯ä»¥å¼€å§‹å•†åŠ¡åº”ç­”å¤„ç†"),le.value="business"):"technical"===e&&(a.success("æŠ€æœ¯éœ€æ±‚å·²ä¿å­˜ï¼Œå¯ä»¥å¼€å§‹æŠ€æœ¯æ–¹æ¡ˆç¼–å†™"),le.value="technical")},Xa=async()=>{if(fe.value){ie.value=!0;try{const e=await H.extractBasicInfo(fe.value);if(!e.success||!e.data)throw new Error(e.error||"AIæå–å¤±è´¥");{const l=e.data,t=e=>{if(!e)return null;const a=String(e),l=a.match(/[\d.]+/);if(!l)return null;const t=parseFloat(l[0]);return isNaN(t)?null:a.includes("ä¸‡")?1e4*t:t};Object.assign(pe,{name:l.project_name||pe.name,number:l.project_number||pe.number,tenderer:l.tender_party||pe.tenderer,agency:l.tender_agent||pe.agency,bidding_method:l.tender_method||pe.bidding_method,bidding_location:l.tender_location||pe.bidding_location,bidding_time:l.tender_deadline||pe.bidding_time,budget_amount:t(l.budget_amount)||pe.budget_amount,tenderer_contact_person:l.tenderer_contact_person||pe.tenderer_contact_person,tenderer_contact_method:l.tenderer_contact_method||pe.tenderer_contact_method,agency_contact_person:l.agency_contact_person||pe.agency_contact_person,agency_contact_method:l.agency_contact_method||pe.agency_contact_method}),G.value&&Object.assign(G.value,{name:l.project_name||G.value.name,number:l.project_number||G.value.number,tenderer:l.tender_party||G.value.tenderer,agency:l.tender_agent||G.value.agency,bidding_method:l.tender_method||G.value.bidding_method,bidding_location:l.tender_location||G.value.bidding_location,bidding_time:l.tender_deadline||G.value.bidding_time,budget_amount:l.budget_amount?parseFloat(String(l.budget_amount).replace(/[^\d.]/g,"")||"0"):G.value.budget_amount,tenderer_contact_person:l.tenderer_contact_person||G.value.tenderer_contact_person,tenderer_contact_method:l.tenderer_contact_method||G.value.tenderer_contact_method,agency_contact_person:l.agency_contact_person||G.value.agency_contact_person,agency_contact_method:l.agency_contact_method||G.value.agency_contact_method}),R.value||(R.value=!0),ce.value=!0,a.success({message:"AIæå–åŸºæœ¬ä¿¡æ¯æˆåŠŸï¼Œå·²è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¯·æ£€æŸ¥ä¿¡æ¯åŽæ‰‹åŠ¨ä¿å­˜",duration:5e3,showClose:!0}),setTimeout(()=>{const e=document.querySelector(".info-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300)}}catch(e){a.error(`AIæå–å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{ie.value=!1}}else a.warning("è¯·å…ˆä¸Šä¼ å¹¶è§£æžæ‹›æ ‡æ–‡æ¡£")},Ga=async()=>{if(fe.value){ne.value=!0;try{const e=await H.extractQualifications(fe.value);if(!e.success)throw new Error(e.error||"AIæå–å¤±è´¥");a.success("AIæå–èµ„æ ¼è¦æ±‚æˆåŠŸï¼Œæ­£åœ¨åˆ·æ–°æ•°æ®..."),await Ve(),a.success("èµ„æ ¼è¦æ±‚å·²æ›´æ–°")}catch(e){a.error(`AIæå–å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{ne.value=!1}}else a.warning("è¯·å…ˆä¸Šä¼ å¹¶è§£æžæ‹›æ ‡æ–‡æ¡£")},Ya=(e,a)=>{ue.value=e,_e.value=a,de.value=!0};return D(()=>pe.company_id,e=>{if(e&&te.value.length>0){const l=te.value.find(a=>a.company_id===e);l&&(pe.authorized_person_name=l.authorized_person_name||"",pe.authorized_person_id=l.authorized_person_id||"",G.value&&(G.value.authorized_person_name=l.authorized_person_name||"",G.value.authorized_person_id=l.authorized_person_id||""),l.authorized_person_name&&a.success(`å·²è‡ªåŠ¨å¡«å……è¢«æŽˆæƒäººä¿¡æ¯: ${l.authorized_person_name}`))}}),D(()=>n.params.id,()=>{Ve()}),L(()=>{(async()=>{try{const e=await Y.getCompanies();te.value=e.data||[]}catch(e){}})(),Ve()}),(a,l)=>{const n=e,s=W,r=t,o=_,c=Q,d=k,j=g,N=J,D=u,K=ae,L=ee,H=y,Y=b,Z=X,ye=M,Za=p,el=v,al=f,ll=m,tl=i,il=h;return V(),C("div",Fe,[A($(w),{title:he.value,"show-back":!0},{actions:P(()=>[R.value?(V(),C(F,{key:1},[A(n,{onClick:Ee},{default:P(()=>[...l[19]||(l[19]=[I("i",{class:"bi bi-x-lg"},null,-1),E(" å–æ¶ˆ ",-1)])]),_:1}),A(n,{type:"primary",loading:q.value,onClick:Ae},{default:P(()=>[...l[20]||(l[20]=[I("i",{class:"bi bi-check-lg"},null,-1),E(" ä¿å­˜ ",-1)])]),_:1},8,["loading"])],64)):(V(),C(F,{key:0},[A(n,{onClick:Ue},{default:P(()=>[...l[17]||(l[17]=[I("i",{class:"bi bi-arrow-clockwise"},null,-1),E(" åˆ·æ–° ",-1)])]),_:1}),A(n,{type:"primary",onClick:Se},{default:P(()=>[...l[18]||(l[18]=[I("i",{class:"bi bi-pencil"},null,-1),E(" ç¼–è¾‘é¡¹ç›® ",-1)])]),_:1})],64))]),_:1},8,["title"]),x.value?(V(),T($(z),{key:0,text:"åŠ è½½é¡¹ç›®è¯¦æƒ…..."})):G.value?(V(),C(F,{key:1},[A(Le,{"project-id":fe.value,"company-id":G.value.company_id,"project-detail":G.value,onSuccess:Ke,onRefresh:Ve,onParseComplete:$e,onPreview:Ya},null,8,["project-id","company-id","project-detail"]),A(Z,{class:"tabs-card",shadow:"never"},{default:P(()=>[A(il,{modelValue:le.value,"onUpdate:modelValue":l[15]||(l[15]=e=>le.value=e),class:"detail-tabs"},{default:P(()=>[A(Y,{name:"basic"},{label:P(()=>[...l[21]||(l[21]=[I("span",{class:"tab-label"},[I("i",{class:"bi bi-info-circle"}),E(" åŸºæœ¬ä¿¡æ¯ ")],-1)])]),default:P(()=>{return[I("div",Be,[I("section",Oe,[I("div",Re,[l[22]||(l[22]=I("h3",null,[I("i",{class:"bi bi-folder"}),E(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯")],-1)),A(s,{type:(e=G.value.status,{active:"success",completed:"primary",draft:"info"}[e]||"info")},{default:P(()=>[E(S(Ie(G.value.status)),1)]),_:1},8,["type"])]),R.value?(V(),T(D,{key:0,model:pe,rules:me,"label-width":"120px",class:"edit-form"},{default:P(()=>[A(N,{gutter:20},{default:P(()=>[A(c,{span:24},{default:P(()=>[A(o,{label:"é¡¹ç›®åç§°",prop:"name"},{default:P(()=>[A(r,{modelValue:pe.name,"onUpdate:modelValue":l[0]||(l[0]=e=>pe.name=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®åç§°"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"é¡¹ç›®ç¼–å·",prop:"number"},{default:P(()=>[A(r,{modelValue:pe.number,"onUpdate:modelValue":l[1]||(l[1]=e=>pe.number=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®ç¼–å·"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"å…¬å¸åç§°",prop:"company_id"},{default:P(()=>[A(j,{modelValue:pe.company_id,"onUpdate:modelValue":l[2]||(l[2]=e=>pe.company_id=e),placeholder:"è¯·é€‰æ‹©å…¬å¸",style:{width:"100%"}},{default:P(()=>[(V(!0),C(F,null,B(te.value,e=>(V(),T(d,{key:e.company_id,label:e.name,value:e.company_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"è¢«æŽˆæƒäºº"},{default:P(()=>[A(r,{modelValue:pe.authorized_person_name,"onUpdate:modelValue":l[3]||(l[3]=e=>pe.authorized_person_name=e),placeholder:"è¯·è¾“å…¥è¢«æŽˆæƒäººå§“å"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"æŽˆæƒäººèº«ä»½è¯"},{default:P(()=>[A(r,{modelValue:pe.authorized_person_id,"onUpdate:modelValue":l[4]||(l[4]=e=>pe.authorized_person_id=e),placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(V(),T(L,{key:1,column:2,border:""},{default:P(()=>[A(K,{label:"é¡¹ç›®åç§°",span:2},{default:P(()=>[I("strong",null,S(G.value.name),1)]),_:1}),A(K,{label:"é¡¹ç›®ç¼–å·"},{default:P(()=>[E(S(G.value.number||"-"),1)]),_:1}),A(K,{label:"å…¬å¸åç§°"},{default:P(()=>[E(S(G.value.company_name),1)]),_:1}),A(K,{label:"åˆ›å»ºæ—¶é—´"},{default:P(()=>[E(S(G.value.created_at),1)]),_:1}),A(K,{label:"æœ€åŽæ›´æ–°"},{default:P(()=>[E(S(G.value.updated_at||"-"),1)]),_:1}),A(K,{label:"è¢«æŽˆæƒäºº"},{default:P(()=>[E(S(G.value.authorized_person_name||"-"),1)]),_:1}),A(K,{label:"æŽˆæƒäººèº«ä»½è¯"},{default:P(()=>[E(S(G.value.authorized_person_id||"-"),1)]),_:1})]),_:1}))]),I("section",We,[I("div",Me,[I("h3",null,[l[24]||(l[24]=I("i",{class:"bi bi-megaphone"},null,-1)),l[25]||(l[25]=E(" æ‹›æ ‡ä¿¡æ¯ ",-1)),ce.value&&R.value?(V(),T(s,{key:0,type:"warning",size:"small",style:{"margin-left":"10px"}},{default:P(()=>[...l[23]||(l[23]=[I("i",{class:"bi bi-exclamation-triangle-fill"},null,-1),E(" æœ‰æœªä¿å­˜çš„æ›´æ”¹ ",-1)])]),_:1})):U("",!0)]),A(n,{size:"small",type:"primary",loading:ie.value,disabled:!fe.value||ie.value,onClick:Xa},{default:P(()=>[ie.value?U("",!0):(V(),C("i",He)),E(" "+S(ie.value?"AIæå–ä¸­...":"AIæå–åŸºæœ¬ä¿¡æ¯"),1)]),_:1},8,["loading","disabled"])]),R.value?(V(),T(D,{key:0,model:pe,"label-width":"120px",class:"edit-form"},{default:P(()=>[A(N,{gutter:20},{default:P(()=>[A(c,{span:12},{default:P(()=>[A(o,{label:"æ‹›æ ‡å•ä½"},{default:P(()=>[A(r,{modelValue:pe.tenderer,"onUpdate:modelValue":l[5]||(l[5]=e=>pe.tenderer=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡å•ä½"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"æ‹›æ ‡ä»£ç†"},{default:P(()=>[A(r,{modelValue:pe.agency,"onUpdate:modelValue":l[6]||(l[6]=e=>pe.agency=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡ä»£ç†"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"æ‹›æ ‡æ–¹å¼"},{default:P(()=>[A(r,{modelValue:pe.bidding_method,"onUpdate:modelValue":l[7]||(l[7]=e=>pe.bidding_method=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡æ–¹å¼"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"å¼€æ ‡åœ°ç‚¹"},{default:P(()=>[A(r,{modelValue:pe.bidding_location,"onUpdate:modelValue":l[8]||(l[8]=e=>pe.bidding_location=e),placeholder:"è¯·è¾“å…¥å¼€æ ‡åœ°ç‚¹"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"å¼€æ ‡æ—¶é—´"},{default:P(()=>[A(r,{modelValue:pe.bidding_time,"onUpdate:modelValue":l[9]||(l[9]=e=>pe.bidding_time=e),placeholder:"è¯·è¾“å…¥å¼€æ ‡æ—¶é—´"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"é¢„ç®—é‡‘é¢"},{default:P(()=>[A(H,{modelValue:pe.budget_amount,"onUpdate:modelValue":l[10]||(l[10]=e=>pe.budget_amount=e),controls:!1,precision:2,placeholder:"è¯·è¾“å…¥é¢„ç®—é‡‘é¢",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"æ‹›æ ‡æ–¹è”ç³»äºº"},{default:P(()=>[A(r,{modelValue:pe.tenderer_contact_person,"onUpdate:modelValue":l[11]||(l[11]=e=>pe.tenderer_contact_person=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡æ–¹è”ç³»äºº"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"æ‹›æ ‡æ–¹è”ç³»ç”µè¯"},{default:P(()=>[A(r,{modelValue:pe.tenderer_contact_method,"onUpdate:modelValue":l[12]||(l[12]=e=>pe.tenderer_contact_method=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡æ–¹è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"ä»£ç†æœºæž„è”ç³»äºº"},{default:P(()=>[A(r,{modelValue:pe.agency_contact_person,"onUpdate:modelValue":l[13]||(l[13]=e=>pe.agency_contact_person=e),placeholder:"è¯·è¾“å…¥ä»£ç†æœºæž„è”ç³»äºº"},null,8,["modelValue"])]),_:1})]),_:1}),A(c,{span:12},{default:P(()=>[A(o,{label:"ä»£ç†æœºæž„è”ç³»ç”µè¯"},{default:P(()=>[A(r,{modelValue:pe.agency_contact_method,"onUpdate:modelValue":l[14]||(l[14]=e=>pe.agency_contact_method=e),placeholder:"è¯·è¾“å…¥ä»£ç†æœºæž„è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(V(),T(L,{key:1,column:2,border:""},{default:P(()=>[A(K,{label:"æ‹›æ ‡å•ä½"},{default:P(()=>[E(S(G.value.tenderer||"-"),1)]),_:1}),A(K,{label:"æ‹›æ ‡ä»£ç†"},{default:P(()=>[E(S(G.value.agency||"-"),1)]),_:1}),A(K,{label:"æ‹›æ ‡æ–¹å¼"},{default:P(()=>[E(S(G.value.bidding_method||"-"),1)]),_:1}),A(K,{label:"å¼€æ ‡åœ°ç‚¹"},{default:P(()=>[E(S(G.value.bidding_location||"-"),1)]),_:1}),A(K,{label:"å¼€æ ‡æ—¶é—´"},{default:P(()=>[E(S(G.value.bidding_time||"-"),1)]),_:1}),A(K,{label:"é¢„ç®—é‡‘é¢"},{default:P(()=>[G.value.budget_amount?(V(),C("span",Je," Â¥ "+S(qe(G.value.budget_amount)),1)):(V(),C("span",Qe,"-"))]),_:1}),A(K,{label:"æ‹›æ ‡æ–¹è”ç³»äºº"},{default:P(()=>[E(S(G.value.tenderer_contact_person||"-"),1)]),_:1}),A(K,{label:"æ‹›æ ‡æ–¹è”ç³»ç”µè¯"},{default:P(()=>[E(S(G.value.tenderer_contact_method||"-"),1)]),_:1}),A(K,{label:"ä»£ç†æœºæž„è”ç³»äºº"},{default:P(()=>[E(S(G.value.agency_contact_person||"-"),1)]),_:1}),A(K,{label:"ä»£ç†æœºæž„è”ç³»ç”µè¯"},{default:P(()=>[E(S(G.value.agency_contact_method||"-"),1)]),_:1})]),_:1}))])])];var e}),_:1}),A(Y,{name:"qualifications"},{label:P(()=>[...l[26]||(l[26]=[I("span",{class:"tab-label"},[I("i",{class:"bi bi-award"}),E(" èµ„æ ¼è¦æ±‚ ")],-1)])]),default:P(()=>[I("div",Xe,[I("section",Ge,[I("div",Ye,[l[27]||(l[27]=I("h3",null,[I("i",{class:"bi bi-patch-check"}),E(" èµ„è´¨è¦æ±‚")],-1)),A(n,{size:"small",type:"primary",loading:ne.value,disabled:!fe.value||ne.value,onClick:Ga},{default:P(()=>[ne.value?U("",!0):(V(),C("i",Ze)),E(" "+S(ne.value?"AIæå–ä¸­...":"AIæå–èµ„æ ¼è¦æ±‚"),1)]),_:1},8,["loading","disabled"])]),Ce.value.certifications.length>0?(V(),C("div",ea,[(V(!0),C(F,null,B(Ce.value.certifications,(e,a)=>(V(),T(Z,{key:a,shadow:"never",class:"requirement-item"},{default:P(()=>{return[I("div",aa,[l[30]||(l[30]=I("div",{class:"requirement-icon"},[I("i",{class:"bi bi-shield-check"})],-1)),I("div",la,[I("h4",null,S((a=e.name,je[a]?je[a]:a)),1),e.level?(V(),C("p",ta,"ç­‰çº§è¦æ±‚: "+S(e.level),1)):U("",!0),e.note?(V(),C("p",ia,S(e.note),1)):U("",!0)]),I("div",na,[e.required?(V(),T(s,{key:0,type:"danger",size:"small"},{default:P(()=>[...l[28]||(l[28]=[E(" å¿…éœ€ ",-1)])]),_:1})):(V(),T(s,{key:1,type:"info",size:"small"},{default:P(()=>[...l[29]||(l[29]=[E("å¯é€‰",-1)])]),_:1}))])])];var a}),_:2},1024))),128))])):(V(),T(ye,{key:1,description:"æš‚æ— èµ„è´¨è¦æ±‚","image-size":80}))]),I("section",sa,[l[34]||(l[34]=I("div",{class:"section-header"},[I("h3",null,[I("i",{class:"bi bi-graph-up-arrow"}),E(" ä¸šç»©è¦æ±‚")])],-1)),Ce.value.performance.length>0?(V(),C("div",ra,[(V(!0),C(F,null,B(Ce.value.performance,(e,a)=>(V(),T(Z,{key:a,shadow:"never",class:"requirement-item"},{default:P(()=>[I("div",oa,[l[33]||(l[33]=I("div",{class:"requirement-icon"},[I("i",{class:"bi bi-briefcase"})],-1)),I("div",ca,[I("h4",null,S(e.description),1),e.amount?(V(),C("p",da,"é‡‘é¢è¦æ±‚: â‰¥ Â¥"+S(qe(e.amount)),1)):U("",!0),e.time_range?(V(),C("p",ua,"æ—¶é—´èŒƒå›´: "+S(e.time_range),1)):U("",!0),e.count?(V(),C("p",_a,"æ•°é‡è¦æ±‚: "+S(e.count)+" ä¸ª",1)):U("",!0)]),I("div",pa,[e.required?(V(),T(s,{key:0,type:"danger",size:"small"},{default:P(()=>[...l[31]||(l[31]=[E(" å¿…éœ€ ",-1)])]),_:1})):(V(),T(s,{key:1,type:"info",size:"small"},{default:P(()=>[...l[32]||(l[32]=[E("å¯é€‰",-1)])]),_:1}))])])]),_:2},1024))),128))])):(V(),T(ye,{key:1,description:"æš‚æ— ä¸šç»©è¦æ±‚","image-size":80}))]),I("section",ma,[l[38]||(l[38]=I("div",{class:"section-header"},[I("h3",null,[I("i",{class:"bi bi-people"}),E(" äººå‘˜é…ç½®è¦æ±‚")])],-1)),Ce.value.personnel.length>0?(V(),C("div",fa,[(V(!0),C(F,null,B(Ce.value.personnel,(e,a)=>(V(),T(Z,{key:a,shadow:"never",class:"requirement-item"},{default:P(()=>[I("div",va,[l[37]||(l[37]=I("div",{class:"requirement-icon"},[I("i",{class:"bi bi-person-badge"})],-1)),I("div",ha,[I("h4",null,S(e.position),1),e.count?(V(),C("p",ba,"äººæ•°: "+S(e.count)+" äºº",1)):U("",!0),e.qualification?(V(),C("p",ya,"èµ„æ ¼è¦æ±‚: "+S(e.qualification),1)):U("",!0),e.experience?(V(),C("p",ga,"ç»éªŒè¦æ±‚: "+S(e.experience),1)):U("",!0)]),I("div",ka,[e.required?(V(),T(s,{key:0,type:"danger",size:"small"},{default:P(()=>[...l[35]||(l[35]=[E(" å¿…éœ€ ",-1)])]),_:1})):(V(),T(s,{key:1,type:"info",size:"small"},{default:P(()=>[...l[36]||(l[36]=[E("å¯é€‰",-1)])]),_:1}))])])]),_:2},1024))),128))])):(V(),T(ye,{key:1,description:"æš‚æ— äººå‘˜é…ç½®è¦æ±‚","image-size":80}))]),I("section",za,[l[41]||(l[41]=I("div",{class:"section-header"},[I("h3",null,[I("i",{class:"bi bi-cash-stack"}),E(" è´¢åŠ¡è¦æ±‚")])],-1)),Ce.value.financial?(V(),C("div",wa,[A(Z,{shadow:"never",class:"requirement-item"},{default:P(()=>[I("div",xa,[l[40]||(l[40]=I("div",{class:"requirement-icon"},[I("i",{class:"bi bi-cash-stack"})],-1)),I("div",ja,[l[39]||(l[39]=I("h4",null,"è´¢åŠ¡ç›¸å…³è¦æ±‚",-1)),I("p",null,S(Ce.value.financial.description),1)])])]),_:1})])):(V(),T(ye,{key:1,description:"æš‚æ— è´¢åŠ¡è¦æ±‚","image-size":80}))])])]),_:1}),A(Y,{name:"business"},{label:P(()=>{var e;return[I("span",Ca,[l[42]||(l[42]=I("i",{class:"bi bi-briefcase"},null,-1)),l[43]||(l[43]=E(" å•†åŠ¡åº”ç­” ",-1)),(null==(e=G.value.step1_data)?void 0:e.business_response_file)?(V(),T(Za,{key:0,"is-dot":"",type:"success"})):U("",!0)])]}),default:P(()=>[I("div",Va,[I("section",qa,[I("div",Ia,[l[45]||(l[45]=I("h3",null,[I("i",{class:"bi bi-file-earmark-text"}),E(" åº”ç­”æ–‡ä»¶æ¨¡æ¿")],-1)),A(s,{type:"info",size:"small"},{default:P(()=>[...l[44]||(l[44]=[E("AI è‡ªåŠ¨æå–",-1)])]),_:1})]),ge.value?(V(),T(oe,{key:0,"file-url":ge.value.fileUrl,"file-name":ge.value.fileName,"file-size":ge.value.fileSize,"show-actions":!0,onPreview:Ya},null,8,["file-url","file-name","file-size"])):(V(),T(ye,{key:1,description:"æš‚æœªæå–åˆ°åº”ç­”æ–‡ä»¶æ¨¡æ¿","image-size":80},{extra:P(()=>[A(el,{type:"info",size:"small"},{default:P(()=>[...l[46]||(l[46]=[E(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1})]),_:1}))]),A(al),I("section",Ua,[I("div",Sa,[l[49]||(l[49]=I("h3",null,[I("i",{class:"bi bi-file-earmark-check"}),E(" å•†åŠ¡åº”ç­”å®Œæˆæ–‡ä»¶")],-1)),ke.value?(V(),T(s,{key:0,type:"success",size:"small"},{default:P(()=>[...l[47]||(l[47]=[I("i",{class:"bi bi-check-circle-fill"},null,-1),E(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(V(),T(s,{key:1,type:"info",size:"small"},{default:P(()=>[...l[48]||(l[48]=[E("æœªç”Ÿæˆ",-1)])]),_:1}))]),ke.value?(V(),T(oe,{key:0,"file-url":ke.value.fileUrl,"file-name":ke.value.fileName,"file-size":ke.value.fileSize,"show-actions":!0,type:"success",onPreview:Ya},null,8,["file-url","file-name","file-size"])):(V(),T(ye,{key:1,description:"æš‚æœªç”Ÿæˆå•†åŠ¡åº”ç­”æ–‡ä»¶","image-size":80},{extra:P(()=>[A(el,{type:"info",size:"small"},{default:P(()=>[...l[50]||(l[50]=[E(" ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ç”Ÿæˆå•†åŠ¡åº”ç­” ",-1)])]),_:1})]),_:1}))]),I("div",Ea,[A(n,{type:"primary",size:"large",disabled:!ge.value,onClick:Pe},{default:P(()=>[l[51]||(l[51]=I("i",{class:"bi bi-rocket-takeoff"},null,-1)),E(" "+S(ke.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"å•†åŠ¡åº”ç­” ",1)]),_:1},8,["disabled"]),ge.value?U("",!0):(V(),T(el,{key:0,type:"warning",size:"small"},{default:P(()=>[...l[52]||(l[52]=[I("i",{class:"bi bi-exclamation-triangle"},null,-1),E(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1}))])])]),_:1}),A(Y,{name:"technical"},{label:P(()=>{var e,a;return[I("span",Aa,[l[53]||(l[53]=I("i",{class:"bi bi-cpu"},null,-1)),l[54]||(l[54]=E(" æŠ€æœ¯éœ€æ±‚ ",-1)),(null==(e=G.value.step1_data)?void 0:e.technical_point_to_point_file)||(null==(a=G.value.step1_data)?void 0:a.technical_proposal_file)?(V(),T(Za,{key:0,"is-dot":"",type:"success"})):U("",!0)])]}),default:P(()=>[I("div",Pa,[I("section",Na,[I("div",Da,[l[56]||(l[56]=I("h3",null,[I("i",{class:"bi bi-file-earmark-text"}),E(" æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")],-1)),A(s,{type:"info",size:"small"},{default:P(()=>[...l[55]||(l[55]=[E("AI è‡ªåŠ¨æå–",-1)])]),_:1})]),ze.value?(V(),T(oe,{key:0,"file-url":ze.value.fileUrl,"file-name":ze.value.fileName,"file-size":ze.value.fileSize,"show-actions":!0,onPreview:Ya},null,8,["file-url","file-name","file-size"])):(V(),T(ye,{key:1,description:"æš‚æœªæå–åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶","image-size":80}))]),A(al),I("section",Ta,[I("div",$a,[l[59]||(l[59]=I("h3",null,[I("i",{class:"bi bi-arrow-left-right"}),E(" ç‚¹å¯¹ç‚¹åº”ç­”å®Œæˆæ–‡ä»¶")],-1)),we.value?(V(),T(s,{key:0,type:"success",size:"small"},{default:P(()=>[...l[57]||(l[57]=[I("i",{class:"bi bi-check-circle-fill"},null,-1),E(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(V(),T(s,{key:1,type:"info",size:"small"},{default:P(()=>[...l[58]||(l[58]=[E("æœªç”Ÿæˆ",-1)])]),_:1}))]),we.value?(V(),T(oe,{key:0,"file-url":we.value.fileUrl,"file-name":we.value.fileName,"file-size":we.value.fileSize,"show-actions":!0,type:"success",onPreview:Ya},null,8,["file-url","file-name","file-size"])):(V(),T(ye,{key:1,description:"æš‚æœªç”Ÿæˆç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶","image-size":80}))]),A(al),I("section",Ka,[I("div",La,[l[62]||(l[62]=I("h3",null,[I("i",{class:"bi bi-file-code"}),E(" æŠ€æœ¯æ–¹æ¡ˆå®Œæˆæ–‡ä»¶")],-1)),xe.value?(V(),T(s,{key:0,type:"success",size:"small"},{default:P(()=>[...l[60]||(l[60]=[I("i",{class:"bi bi-check-circle-fill"},null,-1),E(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(V(),T(s,{key:1,type:"info",size:"small"},{default:P(()=>[...l[61]||(l[61]=[E("æœªç”Ÿæˆ",-1)])]),_:1}))]),xe.value?(V(),T(oe,{key:0,"file-url":xe.value.fileUrl,"file-name":xe.value.fileName,"file-size":xe.value.fileSize,"show-actions":!0,type:"success",onPreview:Ya},null,8,["file-url","file-name","file-size"])):(V(),T(ye,{key:1,description:"æš‚æœªç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶","image-size":80}))]),I("div",Fa,[A(ll,{size:16},{default:P(()=>[A(n,{type:"primary",size:"large",disabled:!ze.value,onClick:Ne},{default:P(()=>[l[63]||(l[63]=I("i",{class:"bi bi-arrow-left-right"},null,-1)),E(" "+S(we.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"ç‚¹å¯¹ç‚¹åº”ç­” ",1)]),_:1},8,["disabled"]),A(n,{type:"primary",size:"large",disabled:!ze.value,onClick:De},{default:P(()=>[l[64]||(l[64]=I("i",{class:"bi bi-file-code"},null,-1)),E(" "+S(xe.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"æŠ€æœ¯æ–¹æ¡ˆç¼–å†™ ",1)]),_:1},8,["disabled"])]),_:1}),ze.value?U("",!0):(V(),T(tl,{key:0,type:"warning",closable:!1,class:"mt-3"},{title:P(()=>[...l[65]||(l[65]=[I("div",{style:{"font-size":"13px"}},[I("i",{class:"bi bi-info-circle-fill me-2"}),I("strong",null,"æ“ä½œæç¤ºï¼š"),E("éœ€è¦å…ˆä¿å­˜æŠ€æœ¯éœ€æ±‚æ–‡ä»¶ ")],-1)])]),default:P(()=>[l[66]||(l[66]=I("div",{style:{"font-size":"12px","line-height":"1.6","margin-top":"8px"}},[E(" è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š"),I("br"),E(" 1. åœ¨é¡µé¢é¡¶éƒ¨ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£å¹¶è§£æž"),I("br"),E(" 2. é€‰æ‹©æŠ€æœ¯ç›¸å…³çš„ç« èŠ‚"),I("br"),E(' 3. ç‚¹å‡»"'),I("strong",null,"å¦å­˜ä¸ºæŠ€æœ¯éœ€æ±‚"),E('"æŒ‰é’®'),I("br"),E(" 4. ä¿å­˜æˆåŠŸåŽï¼Œæœ¬æŒ‰é’®å°†è‡ªåŠ¨å¯ç”¨ ")],-1))]),_:1}))])])]),_:1}),A(Y,{name:"documents"},{label:P(()=>[I("span",Ba,[l[67]||(l[67]=I("i",{class:"bi bi-files"},null,-1)),l[68]||(l[68]=E(" æ–‡æ¡£ä¸Žç« èŠ‚ ",-1)),se.value.length>0||re.value.length>0?(V(),T(Za,{key:0,value:se.value.length,type:"success"},null,8,["value"])):U("",!0)])]),default:P(()=>[I("div",Oa,[I("section",Ra,[I("div",Wa,[l[69]||(l[69]=I("h3",null,[I("i",{class:"bi bi-file-earmark-text"}),E(" é¡¹ç›®æ–‡æ¡£")],-1)),se.value.length>0?(V(),T(s,{key:0,type:"success",size:"small"},{default:P(()=>[E(" å…± "+S(se.value.length)+" ä¸ªæ–‡ä»¶ ",1)]),_:1})):U("",!0)]),se.value.length>0?(V(),C("div",Ma,[(V(!0),C(F,null,B(se.value,e=>(V(),T(oe,{key:e.id,"file-url":e.file_url||e.file_path,"file-name":e.original_filename,"file-size":e.file_size,"upload-time":e.uploaded_at,"show-actions":!0,onPreview:Ya},null,8,["file-url","file-name","file-size","upload-time"]))),128))])):(V(),T(ye,{key:1,description:"æš‚æ— æ–‡æ¡£","image-size":80},{extra:P(()=>[A(el,{type:"info",size:"small"},{default:P(()=>[...l[70]||(l[70]=[E(" è¯·åœ¨é¡µé¢é¡¶éƒ¨ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ ",-1)])]),_:1})]),_:1}))]),I("div",Ha,[A(n,{type:"primary",size:"large",onClick:Te},{default:P(()=>[...l[71]||(l[71]=[I("i",{class:"bi bi-file-earmark-zip"},null,-1),E(" åˆæˆæœ€ç»ˆæ ‡ä¹¦ ",-1)])]),_:1})]),re.value.length>0?(V(),T(al,{key:0})):U("",!0),re.value.length>0?(V(),C("section",Ja,[I("div",Qa,[l[72]||(l[72]=I("h3",null,[I("i",{class:"bi bi-list-nested"}),E(" å·²è¯†åˆ«ç« èŠ‚")],-1)),A(s,{type:"success",size:"small"},{default:P(()=>[E(" å…± "+S(be.value)+" ä¸ªç« èŠ‚ ",1)]),_:1})]),A(ve,{chapters:re.value,"show-checkbox":!1,"show-search":!0},null,8,["chapters"])])):U("",!0)])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)):(V(),T(ye,{key:2,description:"é¡¹ç›®ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥"})),A($(O),{modelValue:de.value,"onUpdate:modelValue":l[16]||(l[16]=e=>de.value=e),"file-url":ue.value,"file-name":_e.value},null,8,["modelValue","file-url","file-name"])])}}}),[["__scopeId","data-v-2fcac458"]]);export{Xa as default};
