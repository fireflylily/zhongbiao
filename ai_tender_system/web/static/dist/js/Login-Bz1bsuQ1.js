import{M as e,N as a,O as r,P as s,Q as l,d as o,R as m,_ as t}from"./index.js";/* empty css                *//* empty css                    */import{am as d,an as i,bu as c,aX as u,au as n,ar as p,aw as g,bv as b,ax as v,as as f,bw as _,aD as w,aC as h,aV as y}from"./editor-DtHwR8yc.js";import{E as I}from"./index-DL_Xf39J.js";import{E as x}from"./index-witGV_PC.js";const S={class:"login-page"},V={class:"login-card"},j={class:"form-options"},k=t(d({__name:"Login",setup(t){const d=e(),k=a(),{success:q,error:z}=r(),A=i(),U=i(!1),C=c({username:"",password:"",remember:!1}),E={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:32,message:"密码长度在 6 到 32 个字符",trigger:"blur"}]};async function O(){if(A.value)try{await A.value.validate(),U.value=!0,await k.login({username:C.username,password:C.password}),C.remember?(localStorage.setItem("remembered_username",C.username),localStorage.setItem("remembered_password",C.password),localStorage.setItem("remember_me","true")):(localStorage.removeItem("remembered_username"),localStorage.removeItem("remembered_password"),localStorage.removeItem("remember_me")),q("登录成功"),d.push("/")}catch(e){e.message&&z("登录失败: "+e.message)}finally{U.value=!1}}return u(()=>{try{const e=localStorage.getItem("remembered_username"),a=localStorage.getItem("remembered_password");"true"===localStorage.getItem("remember_me")&&e&&a&&(C.username=e,C.password=a,C.remember=!0)}catch(e){}}),(e,a)=>{const r=l,t=s,d=I,i=x,c=o,u=m;return p(),n("div",S,[a[9]||(a[9]=g("div",{class:"background-decoration"},[g("div",{class:"circle circle-1"}),g("div",{class:"circle circle-2"}),g("div",{class:"circle circle-3"})],-1)),g("div",V,[a[7]||(a[7]=b('<div class="login-header" data-v-bcaae8ed><div class="logo" data-v-bcaae8ed><i class="bi bi-lightbulb-fill" data-v-bcaae8ed></i></div><h1 class="title" data-v-bcaae8ed>AI智能标书生成平台</h1><p class="subtitle" data-v-bcaae8ed>让投标更简单、更智能</p></div>',1)),v(u,{ref_key:"formRef",ref:A,model:C,rules:E,class:"login-form",onSubmit:y(O,["prevent"])},{default:f(()=>[v(t,{prop:"username"},{default:f(()=>[v(r,{modelValue:C.username,"onUpdate:modelValue":a[0]||(a[0]=e=>C.username=e),placeholder:"请输入用户名",size:"large",clearable:""},{prefix:f(()=>[...a[3]||(a[3]=[g("i",{class:"bi bi-person-fill"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),v(t,{prop:"password"},{default:f(()=>[v(r,{modelValue:C.password,"onUpdate:modelValue":a[1]||(a[1]=e=>C.password=e),type:"password",placeholder:"请输入密码",size:"large","show-password":"",clearable:"",onKeyup:_(O,["enter"])},{prefix:f(()=>[...a[4]||(a[4]=[g("i",{class:"bi bi-lock-fill"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),v(t,null,{default:f(()=>[g("div",j,[v(d,{modelValue:C.remember,"onUpdate:modelValue":a[2]||(a[2]=e=>C.remember=e)},{default:f(()=>[...a[5]||(a[5]=[w("记住我",-1)])]),_:1},8,["modelValue"]),v(i,{type:"primary",underline:!1},{default:f(()=>[...a[6]||(a[6]=[w("忘记密码?",-1)])]),_:1})])]),_:1}),v(t,null,{default:f(()=>[v(c,{type:"primary",size:"large",loading:U.value,class:"login-button",onClick:O},{default:f(()=>[w(h(U.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a[8]||(a[8]=g("div",{class:"login-footer"},[g("p",{class:"copyright"},"© 2025 AI智能标书生成平台. All rights reserved.")],-1))])])}}}),[["__scopeId","data-v-bcaae8ed"]]);export{k as default};
