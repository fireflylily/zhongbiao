import{k as r,c as De,d as ke,I as Pe,G as xe,f as Ue,q as He,o as Ne,i as $e,Q as Le,a as We,Z as Be,W as Je,X as qe,n as Ae,_ as Oe,$ as ze,a0 as Ge,p as Me,a1 as Qe,a2 as Xe}from"./element-plus-IkZgpaz4.js";/* empty css                                                                          */import{bT as Ye,bt as y,bu as ae,bG as Ze,bU as M,bV as d,c8 as a,b$ as v,c3 as E,c0 as l,c5 as g,c7 as se,cC as ne,bv as i,bY as f,c6 as Q}from"./vendor-CdA3MjAt.js";import{D as re}from"./DocumentUploader-BBjdsRhi.js";import{D as Ke}from"./DocumentPreview-BbjmwCia.js";import{R as et}from"./RichTextEditor-BDdJ_J7M.js";import{u as ue,H as ie,a as tt,S as ot,d as lt}from"./helpers-Btlcunlb.js";import{e as at,_ as st}from"./index.js";import{t as P}from"./tender-2TSD_jRl.js";import{c as nt}from"./company-B1QhkZBS.js";import{u as rt}from"./project-C4LB9E9r.js";import{u as ut}from"./useProjectDocuments-BId2nzjv.js";import"./onnxruntime-DkHy2lK3.js";import"./imageCompressor-D9CndpqW.js";import"./umo-editor-BmhDOXHm.js";import"./mermaid-e-fO57px.js";import"./echarts-Cqw1j_Z-.js";/* empty css                                                                        */const it={async processBusinessResponse(h){const j=new FormData;return j.append("company_id",h.company_id.toString()),j.append("project_name",h.project_name),h.tender_no&&j.append("tender_no",h.tender_no),h.date_text&&j.append("date_text",h.date_text),j.append("hitl_file_path",h.hitl_file_path),j.append("use_mcp",h.use_mcp!==!1?"true":"false"),at.post("/process-business-response",j,{headers:{"Content-Type":"multipart/form-data"}})}},ct={class:"business-response"},pt={class:"upload-item"},dt={class:"upload-item"},mt={class:"generation-controls"},ft={class:"card-header"},vt={class:"header-actions"},_t={class:"result-content"},yt={class:"file-info-section"},wt=Ye({__name:"Response",setup(h){rt();const{projects:j,selectedProject:R,loadProjects:N,handleProjectChange:ce,restoreProjectFromStore:pe}=ut(),{useHitlFile:S,hitlFileInfo:de,syncing:me,synced:fe,loadFromHITL:X,cancelHitlFile:$,syncToHitl:L}=ue({onFileLoaded:()=>{t.value.templateFiles=[]}}),{useHitlFile:x,hitlFileInfo:ve,loadFromHITL:Y,cancelHitlFile:W}=ue({onFileLoaded:()=>{t.value.tenderFiles=[]}}),t=y({projectId:null,companyId:null,projectName:"æ–°é¡¹ç›®",projectNumber:`PRJ-${Date.now()}`,tenderFiles:[],templateFiles:[]}),B=y([]);ae(()=>B.value.find(o=>o.company_id===t.value.companyId));const _e=ae(()=>t.value.projectId&&(t.value.templateFiles.length>0||S.value)),U=y(!1),V=y(0),b=y(""),n=y(null),F=y(!1),T=y(null),I=y(""),Z=y(!1),J=y(!1),q=y([]),ye=async o=>{var c;const{file:e,onSuccess:u,onError:_}=o;try{if(!t.value.projectId){if(!t.value.companyId)throw new Error("è¯·å…ˆé€‰æ‹©å…¬å¸");r.info("æ­£åœ¨åˆ›å»ºæ–°é¡¹ç›®...");const C=await P.createProject({company_id:t.value.companyId,project_name:t.value.projectName||"æ–°é¡¹ç›®",project_number:t.value.projectNumber||`PRJ-${Date.now()}`});t.value.projectId=C.project_id,await N(),r.success("æ–°é¡¹ç›®å·²åˆ›å»º"),await A()}const s=(c=R.value)==null?void 0:c.company_id;if(!s)throw new Error("é¡¹ç›®æ²¡æœ‰å…³è”å…¬å¸");const m=new FormData;m.append("file",e),m.append("company_id",s.toString()),m.append("project_id",t.value.projectId.toString());const w=await P.parseDocumentStructure(m);if(w.success)u(w.data),r.success("å•†åŠ¡åº”ç­”æ¨¡æ¿ä¸Šä¼ æˆåŠŸ");else throw new Error(w.message||"ä¸Šä¼ å¤±è´¥")}catch(s){_(s),r.error(s.message||"æ¨¡æ¿ä¸Šä¼ å¤±è´¥")}},we=async o=>{var c;const{file:e,onSuccess:u,onError:_}=o;try{if(!t.value.projectId){if(!t.value.companyId)throw new Error("è¯·å…ˆé€‰æ‹©å…¬å¸");r.info("æ­£åœ¨åˆ›å»ºæ–°é¡¹ç›®...");const C=await P.createProject({company_id:t.value.companyId,project_name:t.value.projectName||"æ–°é¡¹ç›®",project_number:t.value.projectNumber||`PRJ-${Date.now()}`});t.value.projectId=C.project_id,await N(),r.success("æ–°é¡¹ç›®å·²åˆ›å»º"),await A()}const s=(c=R.value)==null?void 0:c.company_id;if(!s)throw new Error("é¡¹ç›®æ²¡æœ‰å…³è”å…¬å¸");const m=new FormData;m.append("file",e),m.append("company_id",s.toString()),m.append("project_id",t.value.projectId.toString());const w=await P.parseDocumentStructure(m);if(w.success)u(w.data),r.success("æ‹›æ ‡æ–‡æ¡£ä¸Šä¼ æˆåŠŸ");else throw new Error(w.message||"ä¸Šä¼ å¤±è´¥")}catch(s){_(s),r.error(s.message||"æ‹›æ ‡æ–‡æ¡£ä¸Šä¼ å¤±è´¥")}},ge=async()=>{try{const o=await nt.getCompanies();B.value=o.data||[]}catch(o){console.error("åŠ è½½å…¬å¸åˆ—è¡¨å¤±è´¥:",o),r.error("åŠ è½½å…¬å¸åˆ—è¡¨å¤±è´¥")}},A=async()=>{await ce(t.value.projectId,{onClear:()=>{n.value=null,b.value="",t.value.tenderFiles=[],t.value.templateFiles=[],F.value=!1,I.value="",q.value=[],S.value&&$(),x.value&&W()},onDocumentsLoaded:o=>{o.tenderFile&&Y(o,"tenderFile"),o.templateFile&&X(o,"templateFile"),o.businessResponseFile&&(n.value=o.businessResponseFile,F.value=!1,console.log("[Response] æ£€æµ‹åˆ°å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶:",o.businessResponseFile.outputFile),r.info('æ£€æµ‹åˆ°å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶ï¼Œç‚¹å‡»"åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€"å¯ç¼–è¾‘'))}}),t.value.projectId||(t.value.projectNumber=`PRJ-${Date.now()}`)},he=()=>{r.success("æ‹›æ ‡æ–‡æ¡£ä¸Šä¼ æˆåŠŸ")},je=()=>{r.success("å•†åŠ¡åº”ç­”æ¨¡æ¿ä¸Šä¼ æˆåŠŸ")},O=async()=>{var o;if(!t.value.projectId){r.warning("è¯·å…ˆé€‰æ‹©é¡¹ç›®");return}U.value=!0,V.value=0,b.value="",n.value=null,F.value=!0,I.value='<h1>ğŸ“„ å•†åŠ¡åº”ç­”æ–‡æ¡£</h1><p style="color: #909399;">AIæ­£åœ¨ç”Ÿæˆå†…å®¹ï¼Œè¯·ç¨å€™...</p>',setTimeout(()=>{var e;(e=document.querySelector(".editor-section"))==null||e.scrollIntoView({behavior:"smooth",block:"start"})},100);try{b.value=`æ­£åœ¨åŠ è½½é¡¹ç›®ä¿¡æ¯...
`;const u=(await P.getProject(t.value.projectId)).data,_=(o=u.step1_data)==null?void 0:o.response_file_path;if(!_)throw new Error("æœªæ‰¾åˆ°å•†åŠ¡åº”ç­”æ¨¡æ¿æ–‡ä»¶è·¯å¾„ï¼Œè¯·å…ˆåœ¨æ ‡ä¹¦ç®¡ç†ä¸­ä¸Šä¼ æ¨¡æ¿");b.value+=`æ­£åœ¨å¤„ç†å•†åŠ¡åº”ç­”æ–‡æ¡£...
`,V.value=30;const c=await it.processBusinessResponse({company_id:u.company_id,project_name:u.project_name,tender_no:u.project_number||"",date_text:u.bidding_time||"",hitl_file_path:_,use_mcp:!0});V.value=80,b.value+=`å¤„ç†å®Œæˆï¼Œæ­£åœ¨ç”Ÿæˆç»“æœ...
`,console.log("å®Œæ•´å“åº”:",c),console.log("response.data:",c.data),console.log("response.success:",c.success);const s=c.data?c.data:c;if(console.log("å¤„ç†åçš„result:",s),s.success)V.value=100,b.value+=s.message+`
`,n.value={success:!0,outputFile:s.output_file,downloadUrl:s.download_url,stats:s.stats||{},message:s.message},await K(s.output_file),r.success("å•†åŠ¡åº”ç­”ç”Ÿæˆå®Œæˆï¼å¯ä»¥ç¼–è¾‘äº†"),s.output_file&&t.value.projectId&&await L(t.value.projectId,s.output_file,"business_response");else throw new Error(s.message||s.error||"å¤„ç†å¤±è´¥")}catch(e){console.error("ç”Ÿæˆå¤±è´¥:",e),b.value+=`
âŒ é”™è¯¯: ${e.message}
`,T.value&&T.value.appendContent(`<p style="color: red;">âŒ é”™è¯¯: ${e.message}</p>`),r.error(e.message||"ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{U.value=!1,V.value<100&&(V.value=0)}},K=async o=>{try{I.value='<p style="color: #409EFF;">æ­£åœ¨è½¬æ¢Wordæ–‡æ¡£ä¸ºå¯ç¼–è¾‘æ ¼å¼...</p>';const u=await(await fetch("/api/editor/convert-word-to-html",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:o})})).json();if(u.success&&u.html_content)I.value=u.html_content,T.value&&T.value.setContent(u.html_content),console.log("[Response] Wordæ–‡æ¡£å·²åŠ è½½åˆ°ç¼–è¾‘å™¨");else throw new Error(u.error||"è½¬æ¢å¤±è´¥")}catch(e){console.error("[Response] åŠ è½½æ–‡æ¡£åˆ°ç¼–è¾‘å™¨å¤±è´¥:",e),I.value=`
      <h1>ğŸ“„ å•†åŠ¡åº”ç­”æ–‡æ¡£</h1>
      <div style="padding: 20px; background: #FFF3E0; border-left: 4px solid #FF9800; margin: 16px 0;">
        <p><strong>âš ï¸ æç¤ºï¼š</strong>Wordæ–‡æ¡£è½¬æ¢å¤±è´¥</p>
        <p>åŸå› ï¼š${e.message}</p>
        <p>æ‚¨å¯ä»¥ï¼š</p>
        <ul>
          <li>ç›´æ¥åœ¨æ­¤ç¼–è¾‘å™¨ä¸­è¾“å…¥å†…å®¹</li>
          <li>æˆ–ç‚¹å‡»ä¸‹æ–¹"æŸ¥çœ‹åŸå§‹ç”Ÿæˆç»“æœ"ä¸‹è½½Wordæ–‡æ¡£æŸ¥çœ‹</li>
        </ul>
      </div>
      <p>å¼€å§‹ç¼–è¾‘æ‚¨çš„å†…å®¹...</p>
    `,r.warning("Wordè½¬æ¢HTMLå¤±è´¥ï¼Œè¯·ä½¿ç”¨ä¸‹è½½åŠŸèƒ½æˆ–æ‰‹åŠ¨è¾“å…¥")}},Fe=async o=>{var e,u;if(!t.value.projectId){r.error("é¡¹ç›®IDæ— æ•ˆ");return}Z.value=!0;try{const c=await(await fetch("/api/editor/save-html-to-word",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html_content:o,project_id:t.value.projectId,document_type:"business_response",original_file:(e=n.value)==null?void 0:e.outputFile})})).json();if(c.success)n.value={success:!0,outputFile:c.output_file,downloadUrl:c.download_url,stats:((u=n.value)==null?void 0:u.stats)||{},message:"æ–‡æ¡£å·²ä¿å­˜"},console.log("[Response] ç¼–è¾‘å†…å®¹å·²ä¿å­˜:",c.output_file),c.output_file&&await L(t.value.projectId,c.output_file,"business_response");else throw new Error(c.error||"ä¿å­˜å¤±è´¥")}catch(_){throw console.error("[Response] ä¿å­˜ç¼–è¾‘å†…å®¹å¤±è´¥:",_),_}finally{Z.value=!1}},z=()=>{if(!n.value){r.warning("æš‚æ— æ–‡æ¡£å¯é¢„è§ˆ");return}if(!n.value.downloadUrl){r.warning("æ–‡æ¡£åœ°å€æ— æ•ˆ");return}J.value=!0},G=()=>{var o;if(!n.value){r.warning("æš‚æ— æ–‡æ¡£å¯ä¸‹è½½");return}try{const e=n.value.downloadUrl,u=`å•†åŠ¡åº”ç­”-${((o=R.value)==null?void 0:o.project_name)||"æ–‡æ¡£"}-${Date.now()}.docx`;lt(e,u),r.success("Wordæ–‡æ¡£ä¸‹è½½æˆåŠŸ")}catch(e){console.error("ä¸‹è½½å¤±è´¥:",e),r.error("æ–‡æ¡£ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•")}},be=async()=>{var o;if(!((o=n.value)!=null&&o.outputFile)){r.warning("æ²¡æœ‰å¯åŒæ­¥çš„æ–‡ä»¶");return}if(!t.value.projectId){r.error("é¡¹ç›®IDæ— æ•ˆ");return}await L(t.value.projectId,n.value.outputFile,"business_response")},ee=o=>{if(!o)return"-";let e=o;try{e=decodeURIComponent(o)}catch{}const u=e.split("/");return u[u.length-1]||"-"},Ie=async()=>{var o;if(!((o=n.value)!=null&&o.outputFile)){r.error("å†å²æ–‡ä»¶ä¿¡æ¯æ— æ•ˆ");return}try{F.value=!0,await K(n.value.outputFile),r.success("å†å²æ–‡ä»¶å·²åŠ è½½åˆ°ç¼–è¾‘å™¨"),setTimeout(()=>{var e;(e=document.querySelector(".editor-section"))==null||e.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(e){console.error("[Response] æ‰“å¼€å†å²æ–‡ä»¶å¤±è´¥:",e),r.error("æ‰“å¼€å†å²æ–‡ä»¶å¤±è´¥: "+e.message)}};return Ze(async()=>{await Promise.all([N(),ge()]);const o=await pe({onClear:()=>{n.value=null,b.value="",t.value.tenderFiles=[],t.value.templateFiles=[],F.value=!1,I.value="",S.value&&$(),x.value&&W()},onDocumentsLoaded:e=>{e.tenderFile&&Y(e,"tenderFile"),e.templateFile&&X(e,"templateFile"),e.businessResponseFile&&(n.value=e.businessResponseFile,F.value=!1,console.log("[Response] ä»Storeæ¢å¤å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶:",e.businessResponseFile.outputFile),r.info('æ£€æµ‹åˆ°å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶ï¼Œç‚¹å‡»"åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€"å¯ç¼–è¾‘'))}});o&&(t.value.projectId=o,console.log("âœ… å·²ä»Storeæ¢å¤é¡¹ç›®:",o))}),(o,e)=>{var oe,le;const u=De,_=Ne,c=He,s=Ue,m=xe,w=$e,C=Pe,Ee=ke,H=Le,D=We,Ce=Me,te=qe,Ve=Ae,Re=Je,Se=Be,Te=Xe;return d(),M("div",ct,[a(H,{class:"project-section",shadow:"never"},{header:l(()=>[...e[9]||(e[9]=[f("div",{class:"card-header"},[f("span",null,"Step 1: é€‰æ‹©é¡¹ç›®")],-1)])]),default:l(()=>[a(u,{type:"info",closable:!1,style:{"margin-bottom":"16px"}},{default:l(()=>[...e[10]||(e[10]=[g(" ğŸ’¡ æç¤ºï¼šå¯é€‰æ‹©ç°æœ‰é¡¹ç›®ï¼Œæˆ–é€‰æ‹©å…¬å¸åæ–°å»ºé¡¹ç›®å¹¶ä¸Šä¼ æ–‡æ¡£ ",-1)])]),_:1}),a(Ee,{model:t.value,"label-width":"100px"},{default:l(()=>[a(C,{gutter:20},{default:l(()=>[a(m,{span:12},{default:l(()=>[a(s,{label:"é¡¹ç›®"},{default:l(()=>[a(c,{modelValue:t.value.projectId,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value.projectId=p),placeholder:"è¯·é€‰æ‹©é¡¹ç›®æˆ–ç›´æ¥æ–°å»º",filterable:"",clearable:"",onChange:A,style:{width:"100%"}},{default:l(()=>[(d(!0),M(se,null,ne(i(j),p=>(d(),v(_,{key:p.id,label:`${p.project_name} (${p.project_number||"-"})`,value:p.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(m,{span:12},{default:l(()=>[a(s,{label:"å…¬å¸"},{default:l(()=>{var p;return[t.value.projectId?(d(),v(w,{key:0,value:((p=i(R))==null?void 0:p.company_name)||"-",disabled:""},null,8,["value"])):(d(),v(c,{key:1,modelValue:t.value.companyId,"onUpdate:modelValue":e[1]||(e[1]=k=>t.value.companyId=k),placeholder:"è¯·é€‰æ‹©å…¬å¸ï¼ˆå¿…å¡«ï¼‰",filterable:"",style:{width:"100%"}},{default:l(()=>[(d(!0),M(se,null,ne(B.value,k=>(d(),v(_,{key:k.company_id,label:k.company_name,value:k.company_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))]}),_:1})]),_:1})]),_:1}),t.value.projectId?E("",!0):(d(),v(C,{key:0,gutter:20},{default:l(()=>[a(m,{span:12},{default:l(()=>[a(s,{label:"é¡¹ç›®åç§°"},{default:l(()=>[a(w,{modelValue:t.value.projectName,"onUpdate:modelValue":e[2]||(e[2]=p=>t.value.projectName=p),placeholder:"æ–°é¡¹ç›®"},null,8,["modelValue"])]),_:1})]),_:1}),a(m,{span:12},{default:l(()=>[a(s,{label:"é¡¹ç›®ç¼–å·"},{default:l(()=>[a(w,{modelValue:t.value.projectNumber,"onUpdate:modelValue":e[3]||(e[3]=p=>t.value.projectNumber=p),placeholder:"PRJ-..."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}))]),_:1},8,["model"])]),_:1}),a(H,{class:"upload-section",shadow:"never"},{header:l(()=>[...e[11]||(e[11]=[f("div",{class:"card-header"},[f("span",null,"Step 2: ä¸Šä¼ ç›¸å…³æ–‡æ¡£")],-1)])]),default:l(()=>[a(C,{gutter:20},{default:l(()=>[a(m,{span:12},{default:l(()=>[f("div",pt,[e[12]||(e[12]=f("h4",null,[g("å•†åŠ¡åº”ç­”æ¨¡æ¿ "),f("span",{class:"required"},"*")],-1)),i(S)?(d(),v(i(ie),{key:0,"file-info":i(de),label:"å•†åŠ¡åº”ç­”æ¨¡æ¿:",onCancel:i($)},null,8,["file-info","onCancel"])):E("",!0),i(S)?E("",!0):(d(),v(i(re),{key:1,modelValue:t.value.templateFiles,"onUpdate:modelValue":e[4]||(e[4]=p=>t.value.templateFiles=p),"http-request":ye,accept:".doc,.docx",limit:1,"max-size":20,drag:"","tip-text":"å¿…é¡»ä¸Šä¼ å•†åŠ¡åº”ç­”æ¨¡æ¿ï¼Œç”¨äºç”Ÿæˆåº”ç­”æ–‡æ¡£",onSuccess:je},null,8,["modelValue"]))])]),_:1}),a(m,{span:12},{default:l(()=>[f("div",dt,[e[13]||(e[13]=f("h4",null,"æ‹›æ ‡æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰",-1)),i(x)?(d(),v(i(ie),{key:0,"file-info":i(ve),label:"æ‹›æ ‡æ–‡æ¡£:",onCancel:i(W)},null,8,["file-info","onCancel"])):E("",!0),i(x)?E("",!0):(d(),v(i(re),{key:1,modelValue:t.value.tenderFiles,"onUpdate:modelValue":e[5]||(e[5]=p=>t.value.tenderFiles=p),"http-request":we,accept:".pdf,.doc,.docx",limit:5,"max-size":50,drag:"","tip-text":"å¯é€‰ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ä½œä¸ºå‚è€ƒï¼Œæ”¯æŒPDFã€Wordæ ¼å¼ï¼Œæœ€å¤§50MB",onSuccess:he},null,8,["modelValue"]))])]),_:1})]),_:1}),f("div",mt,[a(D,{type:"primary",size:"large",disabled:!_e.value,loading:U.value,onClick:O},{default:l(()=>[...e[14]||(e[14]=[g(" å¼€å§‹ç”Ÿæˆå•†åŠ¡åº”ç­” ",-1)])]),_:1},8,["disabled","loading"])])]),_:1}),n.value&&!F.value?(d(),v(i(tt),{key:0,title:"ğŸ“„ è¯¥é¡¹ç›®å·²æœ‰å•†åŠ¡åº”ç­”æ–‡ä»¶","current-file":n.value,"history-files":[],"show-editor-open":!0,"show-stats":!0,"current-file-message":"æ£€æµ‹åˆ°è¯¥é¡¹ç›®çš„å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶",onOpenInEditor:Ie,onPreview:z,onDownload:G,onRegenerate:O},null,8,["current-file"])):E("",!0),F.value?(d(),v(H,{key:1,class:"editor-section",shadow:"never"},{default:l(()=>[a(i(et),{ref_key:"editorRef",ref:T,modelValue:I.value,"onUpdate:modelValue":e[6]||(e[6]=p=>I.value=p),title:"å•†åŠ¡åº”ç­”æ–‡æ¡£",streaming:U.value,height:1e3,onSave:Fe,onPreview:z,onExport:G},null,8,["modelValue","streaming"])]),_:1})):E("",!0),F.value&&n.value?(d(),v(Te,{key:2,modelValue:q.value,"onUpdate:modelValue":e[7]||(e[7]=p=>q.value=p),class:"result-collapse"},{default:l(()=>[a(Se,{name:"result",title:"ğŸ“„ æŸ¥çœ‹åŸå§‹ç”Ÿæˆç»“æœ"},{default:l(()=>[a(H,{class:"result-section",shadow:"never"},{header:l(()=>[f("div",ft,[f("span",null,Q(n.value.isHistory?"ğŸ“„ å†å²åº”ç­”æ–‡ä»¶":"âœ… ç”Ÿæˆç»“æœ"),1),f("div",vt,[a(D,{type:"primary",icon:i(Oe),onClick:z},{default:l(()=>[...e[15]||(e[15]=[g(" é¢„è§ˆæ–‡æ¡£ ",-1)])]),_:1},8,["icon"]),a(D,{type:"success",icon:i(ze),onClick:G},{default:l(()=>[...e[16]||(e[16]=[g(" ä¸‹è½½Wordæ–‡æ¡£ ",-1)])]),_:1},8,["icon"]),i(fe)?(d(),v(Ce,{key:1,type:"success",size:"large"},{default:l(()=>[...e[18]||(e[18]=[g(" å·²åŒæ­¥åˆ°æŠ•æ ‡é¡¹ç›® ",-1)])]),_:1})):(d(),v(D,{key:0,type:"info",icon:i(Ge),loading:i(me),onClick:be},{default:l(()=>[...e[17]||(e[17]=[g(" åŒæ­¥åˆ°æŠ•æ ‡é¡¹ç›® ",-1)])]),_:1},8,["icon","loading"])),a(D,{type:"primary",icon:i(Qe),onClick:O},{default:l(()=>[...e[19]||(e[19]=[g(" é‡æ–°ç”Ÿæˆ ",-1)])]),_:1},8,["icon"])])])]),default:l(()=>[f("div",_t,[a(u,{type:n.value.isHistory?"info":"success",title:n.value.message,closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},null,8,["type","title"]),a(i(ot),{title:"å¤„ç†ç»Ÿè®¡",stats:n.value.stats},null,8,["stats"]),f("div",yt,[e[20]||(e[20]=f("h4",null,"ç”Ÿæˆæ–‡ä»¶",-1)),a(Re,{column:2,border:""},{default:l(()=>[a(te,{label:"æ–‡ä»¶å"},{default:l(()=>[g(Q(ee(n.value.outputFile)),1)]),_:1}),a(te,{label:"ä¸‹è½½åœ°å€"},{default:l(()=>[a(Ve,{href:n.value.downloadUrl,type:"primary"},{default:l(()=>[g(Q(ee(n.value.downloadUrl)),1)]),_:1},8,["href"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),a(i(Ke),{modelValue:J.value,"onUpdate:modelValue":e[8]||(e[8]=p=>J.value=p),"file-url":(oe=n.value)==null?void 0:oe.downloadUrl,"file-name":`å•†åŠ¡åº”ç­”-${((le=i(R))==null?void 0:le.project_name)||"æ–‡æ¡£"}.docx`},null,8,["modelValue","file-url","file-name"])])}}}),Nt=st(wt,[["__scopeId","data-v-c0e1044f"]]);export{Nt as default};
