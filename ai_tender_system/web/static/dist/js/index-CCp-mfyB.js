import{a9 as e,V as a,aG as s,aE as t,a8 as l,a_ as i,b0 as o,u as n,Z as c,aR as d,p as r,b1 as u,W as p,b2 as m,g as v,b3 as b,w as f}from"./index.js";import{bE as C,bA as h,am as y,aI as x,an as K,bU as g,bV as A,aq as I,aw as N,as as $,aN as k,aA as w,ay as E,bT as _,av as S,au as V,aS as F,aR as T,at as B,ar as H,ax as j,bw as P,aT as W,aJ as R,aU as U}from"./editor-B2OO2pov.js";import{E as q}from"./index-Bf5f8z6I.js";const D=a=>e(a)||C(a)||h(a),G=a({accordion:Boolean,modelValue:{type:l([Array,String,Number]),default:()=>i([])},expandIconPosition:{type:l([String]),default:"right"},beforeCollapse:{type:l(Function)}}),J={[t]:D,[s]:D},O=Symbol("collapseContextKey"),Z=I({name:"ElCollapse"});var z=r(I({...Z,props:G,emits:J,setup(e,{expose:a,emit:l}){const i=e,{activeNames:r,setActiveNames:u}=((e,a)=>{const l=y(o(e.modelValue)),i=i=>{l.value=i;const o=e.accordion?l.value[0]:l.value;a(t,o),a(s,o)},n=a=>{if(e.accordion)i([l.value[0]===a?"":a]);else{const e=[...l.value],s=e.indexOf(a);s>-1?e.splice(s,1):e.push(a),i(e)}};return x(()=>e.modelValue,()=>l.value=o(e.modelValue),{deep:!0}),g(O,{activeNames:l,handleItemClick:async a=>{const{beforeCollapse:s}=e;if(!s)return void n(a);const t=s(a);[A(t),c(t)].includes(!0)||d("ElCollapse","beforeCollapse must return type `Promise<boolean>` or `boolean`"),A(t)?t.then(e=>{!1!==e&&n(a)}).catch(e=>{}):t&&n(a)}}),{activeNames:l,setActiveNames:i}})(i,l),{rootKls:p}=(e=>{const a=n("collapse");return{rootKls:K(()=>[a.b(),a.b(`icon-position-${e.expandIconPosition}`)])}})(i);return a({activeNames:r,setActiveNames:u}),(e,a)=>($(),N("div",{class:w(E(p))},[k(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const L=a({title:{type:String,default:""},name:{type:l([String,Number]),default:void 0},icon:{type:p,default:u},disabled:Boolean}),M=I({name:"ElCollapseItem"});var Q=r(I({...M,props:L,setup(e,{expose:a}){const s=e,{focusing:t,id:l,isActive:i,handleFocus:o,handleHeaderClick:c,handleEnterClick:d}=(e=>{const a=_(O),{namespace:s}=n("collapse"),t=y(!1),l=y(!1),i=m(),o=K(()=>i.current++),c=K(()=>{var a;return null!=(a=e.name)?a:`${s.value}-id-${i.prefix}-${E(o)}`}),d=K(()=>null==a?void 0:a.activeNames.value.includes(E(c)));return{focusing:t,id:o,isActive:d,handleFocus:()=>{setTimeout(()=>{l.value?l.value=!1:t.value=!0},50)},handleHeaderClick:s=>{if(e.disabled)return;const i=s.target;(null==i?void 0:i.closest("input, textarea, select"))||(null==a||a.handleItemClick(E(c)),t.value=!1,l.value=!0)},handleEnterClick:e=>{const s=e.target;(null==s?void 0:s.closest("input, textarea, select"))||(e.preventDefault(),null==a||a.handleItemClick(E(c)))}}})(s),{arrowKls:r,headKls:u,rootKls:p,itemTitleKls:b,itemWrapperKls:f,itemContentKls:C,scopedContentId:h,scopedHeadId:x}=((e,{focusing:a,isActive:s,id:t})=>{const l=n("collapse"),i=K(()=>[l.b("item"),l.is("active",E(s)),l.is("disabled",e.disabled)]),o=K(()=>[l.be("item","header"),l.is("active",E(s)),{focusing:E(a)&&!e.disabled}]),c=K(()=>[l.be("item","arrow"),l.is("active",E(s))]);return{itemTitleKls:K(()=>[l.be("item","title")]),arrowKls:c,headKls:o,rootKls:i,itemWrapperKls:K(()=>l.be("item","wrap")),itemContentKls:K(()=>l.be("item","content")),scopedContentId:K(()=>l.b(`content-${E(t)}`)),scopedHeadId:K(()=>l.b(`head-${E(t)}`))}})(s,{focusing:t,isActive:i,id:l});return a({isActive:i}),(e,a)=>($(),N("div",{class:w(E(p))},[S("div",{id:E(x),class:w(E(u)),"aria-expanded":E(i),"aria-controls":E(h),"aria-describedby":E(h),tabindex:e.disabled?-1:0,role:"button",onClick:E(c),onKeydown:P(W(E(d),["stop"]),["space","enter"]),onFocus:E(o),onBlur:e=>t.value=!1},[S("span",{class:w(E(b))},[k(e.$slots,"title",{isActive:E(i)},()=>[F(T(e.title),1)])],2),k(e.$slots,"icon",{isActive:E(i)},()=>[V(E(v),{class:w(E(r))},{default:B(()=>[($(),H(j(e.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),V(E(q),null,{default:B(()=>[R(S("div",{id:E(h),role:"region",class:w(E(f)),"aria-hidden":!E(i),"aria-labelledby":E(x)},[S("div",{class:w(E(C))},[k(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[U,E(i)]])]),_:3})],2))}}),[["__file","collapse-item.vue"]]);const X=f(z,{CollapseItem:Q}),Y=b(Q);export{Y as E,X as a};
