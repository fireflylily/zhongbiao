import{G,Q as P,D as S,I as U,J as A,K as N,p as Q,a4 as W,a as j,aa as F,W as M,X as J,q as K,o as O,aL as X,aM as Y,aN as $,F as H}from"./element-plus-IkZgpaz4.js";import{bT as Z,bt as c,bu as ee,bU as B,bV as g,c8 as e,c0 as l,c7 as le,cC as te,b$ as T,bY as n,c2 as ae,c4 as se,c6 as o,c5 as s,bv as ne}from"./vendor-CdA3MjAt.js";import{_ as oe}from"./index.js";import"./onnxruntime-DkHy2lK3.js";import"./umo-editor-BmhDOXHm.js";import"./mermaid-e-fO57px.js";import"./echarts-Cqw1j_Z-.js";const ie={class:"system-status"},ue={class:"overview-content"},re={class:"overview-info"},de={class:"overview-label"},pe={class:"overview-value"},ce={style:{display:"flex","justify-content":"space-between","align-items":"center"}},me={style:{padding:"20px"}},_e={style:{"font-size":"14px"}},ve={style:{"margin-top":"20px","text-align":"center"}},fe={style:{display:"flex","justify-content":"space-between","align-items":"center"}},ge=Z({__name:"Status",setup(be){const I=c([{label:"系统运行时长",value:"15天 8小时",icon:X,iconClass:"icon-primary"},{label:"CPU使用率",value:"45%",icon:Y,iconClass:"icon-success"},{label:"内存使用",value:"8.2 GB / 16 GB",icon:$,iconClass:"icon-warning"},{label:"今日处理文档",value:"1,234",icon:H,iconClass:"icon-info"}]),k=c([{name:"Web服务",status:"running",uptime:"15天 8小时",cpu:35,memory:52,requests:1234,avgResponseTime:"45ms"},{name:"AI服务",status:"running",uptime:"15天 8小时",cpu:78,memory:68,requests:567,avgResponseTime:"1.2s"},{name:"文档处理服务",status:"running",uptime:"15天 8小时",cpu:42,memory:45,requests:234,avgResponseTime:"380ms"},{name:"知识库服务",status:"running",uptime:"15天 8小时",cpu:28,memory:38,requests:890,avgResponseTime:"120ms"}]),r=c({type:"PostgreSQL",version:"14.5",connected:!0,activeConnections:12,idleConnections:8,maxConnections:100,size:"2.5 GB",tables:45,slowQueries:3}),m=c({percentage:68,used:"340 GB",total:"500 GB"}),_=c("all"),C=c([{time:"2025-01-15 10:23:45",level:"info",module:"Web服务",message:"用户登录成功: admin"},{time:"2025-01-15 10:22:30",level:"info",module:"AI服务",message:"文档处理任务完成: task_12345"},{time:"2025-01-15 10:21:15",level:"warning",module:"数据库",message:"慢查询检测: 查询耗时3.2秒"},{time:"2025-01-15 10:20:00",level:"error",module:"AI服务",message:"API调用失败: 超时"},{time:"2025-01-15 10:18:45",level:"info",module:"知识库",message:"文档索引更新完成"}]),z=ee(()=>_.value==="all"?C.value:C.value.filter(d=>d.level===_.value)),L=()=>{console.log("刷新状态")},b=d=>d>=80?"#f56c6c":d>=60?"#e6a23c":"#67c23a",R=d=>({error:"danger",warning:"warning",info:"info"})[d]||"info";return(d,t)=>{const V=S,p=P,y=G,x=U,q=j,u=N,v=Q,w=W,h=A,i=J,E=M,f=O,D=K;return g(),B("div",ie,[e(x,{gutter:20},{default:l(()=>[(g(!0),B(le,null,te(I.value,a=>(g(),T(y,{span:6,key:a.label},{default:l(()=>[e(p,{shadow:"hover",class:"overview-card"},{default:l(()=>[n("div",ue,[e(V,{class:ae(["overview-icon",a.iconClass])},{default:l(()=>[(g(),T(se(a.icon)))]),_:2},1032,["class"]),n("div",re,[n("div",de,o(a.label),1),n("div",pe,o(a.value),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(p,{shadow:"never",style:{"margin-top":"20px"}},{header:l(()=>[n("div",ce,[t[2]||(t[2]=n("span",null,"服务状态",-1)),e(q,{size:"small",icon:ne(F),onClick:L},{default:l(()=>[...t[1]||(t[1]=[s("刷新",-1)])]),_:1},8,["icon"])])]),default:l(()=>[e(h,{data:k.value,border:""},{default:l(()=>[e(u,{prop:"name",label:"服务名称","min-width":"150"}),e(u,{prop:"status",label:"状态",width:"100"},{default:l(({row:a})=>[e(v,{type:a.status==="running"?"success":"danger"},{default:l(()=>[s(o(a.status==="running"?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),e(u,{prop:"uptime",label:"运行时长",width:"150"}),e(u,{prop:"cpu",label:"CPU使用率",width:"120"},{default:l(({row:a})=>[e(w,{percentage:a.cpu,color:b(a.cpu)},null,8,["percentage","color"])]),_:1}),e(u,{prop:"memory",label:"内存使用率",width:"120"},{default:l(({row:a})=>[e(w,{percentage:a.memory,color:b(a.memory)},null,8,["percentage","color"])]),_:1}),e(u,{prop:"requests",label:"请求数/分钟",width:"130"}),e(u,{prop:"avgResponseTime",label:"平均响应时间",width:"130"})]),_:1},8,["data"])]),_:1}),e(p,{shadow:"never",style:{"margin-top":"20px"}},{header:l(()=>[...t[3]||(t[3]=[n("span",null,"数据库状态",-1)])]),default:l(()=>[e(E,{column:3,border:""},{default:l(()=>[e(i,{label:"数据库类型"},{default:l(()=>[s(o(r.value.type),1)]),_:1}),e(i,{label:"版本"},{default:l(()=>[s(o(r.value.version),1)]),_:1}),e(i,{label:"连接状态"},{default:l(()=>[e(v,{type:r.value.connected?"success":"danger"},{default:l(()=>[s(o(r.value.connected?"已连接":"未连接"),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"活动连接数"},{default:l(()=>[s(o(r.value.activeConnections),1)]),_:1}),e(i,{label:"空闲连接数"},{default:l(()=>[s(o(r.value.idleConnections),1)]),_:1}),e(i,{label:"最大连接数"},{default:l(()=>[s(o(r.value.maxConnections),1)]),_:1}),e(i,{label:"数据库大小"},{default:l(()=>[s(o(r.value.size),1)]),_:1}),e(i,{label:"表数量"},{default:l(()=>[s(o(r.value.tables),1)]),_:1}),e(i,{label:"慢查询数"},{default:l(()=>[s(o(r.value.slowQueries),1)]),_:1})]),_:1})]),_:1}),e(x,{gutter:20,style:{"margin-top":"20px"}},{default:l(()=>[e(y,{span:12},{default:l(()=>[e(p,{shadow:"never"},{header:l(()=>[...t[4]||(t[4]=[n("span",null,"磁盘使用情况",-1)])]),default:l(()=>[n("div",me,[e(w,{type:"circle",percentage:m.value.percentage,width:150,color:b(m.value.percentage)},{default:l(()=>[n("span",_e,o(m.value.percentage)+"%",1)]),_:1},8,["percentage","color"]),n("div",ve,[n("div",null,"已使用: "+o(m.value.used),1),n("div",null,"总容量: "+o(m.value.total),1)])])]),_:1})]),_:1}),e(y,{span:12},{default:l(()=>[e(p,{shadow:"never"},{header:l(()=>[...t[5]||(t[5]=[n("span",null,"缓存状态",-1)])]),default:l(()=>[e(E,{column:1,border:""},{default:l(()=>[e(i,{label:"缓存类型"},{default:l(()=>[...t[6]||(t[6]=[s("Redis",-1)])]),_:1}),e(i,{label:"连接状态"},{default:l(()=>[e(v,{type:"success"},{default:l(()=>[...t[7]||(t[7]=[s("已连接",-1)])]),_:1})]),_:1}),e(i,{label:"使用内存"},{default:l(()=>[...t[8]||(t[8]=[s("256 MB",-1)])]),_:1}),e(i,{label:"键数量"},{default:l(()=>[...t[9]||(t[9]=[s("1,234",-1)])]),_:1}),e(i,{label:"命中率"},{default:l(()=>[...t[10]||(t[10]=[s("98.5%",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(p,{shadow:"never",style:{"margin-top":"20px"}},{header:l(()=>[n("div",fe,[t[11]||(t[11]=n("span",null,"最近日志",-1)),e(D,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=a=>_.value=a),size:"small",style:{width:"120px"}},{default:l(()=>[e(f,{label:"全部",value:"all"}),e(f,{label:"错误",value:"error"}),e(f,{label:"警告",value:"warning"}),e(f,{label:"信息",value:"info"})]),_:1},8,["modelValue"])])]),default:l(()=>[e(h,{data:z.value,"max-height":"400"},{default:l(()=>[e(u,{prop:"time",label:"时间",width:"180"}),e(u,{prop:"level",label:"级别",width:"100"},{default:l(({row:a})=>[e(v,{type:R(a.level),size:"small"},{default:l(()=>[s(o(a.level),1)]),_:2},1032,["type"])]),_:1}),e(u,{prop:"module",label:"模块",width:"150"}),e(u,{prop:"message",label:"消息","min-width":"300"})]),_:1},8,["data"])]),_:1})])}}}),Te=oe(ge,[["__scopeId","data-v-8a0a5965"]]);export{Te as default};
