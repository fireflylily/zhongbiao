import{_ as e}from"./_plugin-vue_export-helper-BZqs1yfm.js";import{a as t,E as a}from"./el-table-column-BD7A42cI.js";import"./el-checkbox-BGKkTKtQ.js";/* empty css                   */import"./el-scrollbar-CIZTQeWR.js";import{E as l}from"./el-tag-Bqv51Q1S.js";import{L as s}from"./Loading-CAB1YVrd.js";import{E as i}from"./Empty-zwxEoS1s.js";import{P as r}from"./PageHeader-BjzQIq6-.js";import{C as o}from"./Card-DZyKkX6c.js";/* empty css                */import"./DocumentUploader.vue_vue_type_style_index_0_scoped_1530a3ce_lang-kpO4p46J.js";import{d as c,r as n,a as p,L as d,c as m,g as u,w as _,F as f,o as y,l as b,k as h,B as w,e as k}from"./index.js";import{t as j}from"./tender-Z_tK6YyL.js";import"./_baseClone-DjpDAVKO.js";import"./omit-CrzxF80D.js";import"./castArray-Bpm97oyT.js";import"./raf-C3W2Tojd.js";import"./index-C9x2piTf.js";import"./index-2qkNUAPG.js";const g={class:"tender-management"},v=e(c({__name:"Management",setup(e){const c=n(!1),v=n([]),{success:x,error:z}=p();return d(()=>{(async()=>{var e;c.value=!0;try{const t=await j.getProjects({page:1,page_size:100}),a=(null==(e=t.data)?void 0:e.items)||t.data||[];v.value=a.map(e=>({id:e.project_id,name:e.project_name,number:e.project_number,company_name:e.company_name,status:e.status,created_at:e.created_at,...e}))}catch(t){z("加载失败",t instanceof Error?t.message:"未知错误")}finally{c.value=!1}})()}),(e,n)=>{const p=b,d=t,j=l,z=a;return y(),m("div",g,[u(f(r),{title:"投标管理",description:"HITL人机协同系统"},{actions:_(()=>[u(p,{type:"primary",icon:"Plus"},{default:_(()=>[...n[0]||(n[0]=[h("新建项目",-1)])]),_:1})]),_:1}),u(f(o),{title:"项目列表"},{default:_(()=>[c.value?(y(),w(f(s),{key:0,text:"加载中..."})):v.value.length?(y(),w(z,{key:2,data:v.value,stripe:"",style:{width:"100%"}},{default:_(()=>[u(d,{prop:"id",label:"ID",width:"70",fixed:""}),u(d,{prop:"name",label:"项目名称","min-width":"200",fixed:"","show-overflow-tooltip":""}),u(d,{prop:"company_name",label:"公司名称","min-width":"180","show-overflow-tooltip":""}),u(d,{prop:"authorized_person_name",label:"被授权人",width:"100"}),u(d,{label:"商务应答",width:"100",align:"center"},{default:_(({row:e})=>{return[(t=e,t.business_response_file||"completed"===t.business_response_status?(y(),w(j,{key:0,type:"success",size:"small"},{default:_(()=>[...n[1]||(n[1]=[k("i",{class:"bi bi-check-circle-fill"},null,-1),h(" 已生成 ",-1)])]),_:1})):(y(),w(j,{key:1,type:"info",size:"small"},{default:_(()=>[...n[2]||(n[2]=[k("i",{class:"bi bi-dash-circle"},null,-1),h(" 未生成 ",-1)])]),_:1})))];var t}),_:1}),u(d,{label:"技术点对点",width:"110",align:"center"},{default:_(({row:e})=>{return[(t=e,t.point_to_point_file||"completed"===t.point_to_point_status?(y(),w(j,{key:0,type:"success",size:"small"},{default:_(()=>[...n[3]||(n[3]=[k("i",{class:"bi bi-check-circle-fill"},null,-1),h(" 已生成 ",-1)])]),_:1})):(y(),w(j,{key:1,type:"info",size:"small"},{default:_(()=>[...n[4]||(n[4]=[k("i",{class:"bi bi-dash-circle"},null,-1),h(" 未生成 ",-1)])]),_:1})))];var t}),_:1}),u(d,{label:"技术方案",width:"100",align:"center"},{default:_(({row:e})=>{return[(t=e,t.tech_proposal_file||"completed"===t.tech_proposal_status||t.technical_data?(y(),w(j,{key:0,type:"success",size:"small"},{default:_(()=>[...n[5]||(n[5]=[k("i",{class:"bi bi-check-circle-fill"},null,-1),h(" 已生成 ",-1)])]),_:1})):(y(),w(j,{key:1,type:"info",size:"small"},{default:_(()=>[...n[6]||(n[6]=[k("i",{class:"bi bi-dash-circle"},null,-1),h(" 未生成 ",-1)])]),_:1})))];var t}),_:1}),u(d,{label:"最后融合",width:"100",align:"center"},{default:_(({row:e})=>{return[(t=e,t.final_merge_file||"completed"===t.merge_status?(y(),w(j,{key:0,type:"success",size:"small"},{default:_(()=>[...n[7]||(n[7]=[k("i",{class:"bi bi-check-circle-fill"},null,-1),h(" 已融合 ",-1)])]),_:1})):(y(),w(j,{key:1,type:"info",size:"small"},{default:_(()=>[...n[8]||(n[8]=[k("i",{class:"bi bi-dash-circle"},null,-1),h(" 未融合 ",-1)])]),_:1})))];var t}),_:1}),u(d,{prop:"status",label:"项目状态",width:"100",align:"center"},{default:_(({row:e})=>["active"===e.status?(y(),w(j,{key:0,type:"success"},{default:_(()=>[...n[9]||(n[9]=[h("进行中",-1)])]),_:1})):"completed"===e.status?(y(),w(j,{key:1,type:"primary"},{default:_(()=>[...n[10]||(n[10]=[h("已完成",-1)])]),_:1})):(y(),w(j,{key:2,type:"info"},{default:_(()=>[...n[11]||(n[11]=[h("草稿",-1)])]),_:1}))]),_:1}),u(d,{prop:"created_at",label:"创建时间",width:"160","show-overflow-tooltip":""}),u(d,{label:"操作",width:"180",fixed:"right"},{default:_(({row:e})=>[u(p,{text:"",type:"primary",size:"small",onClick:e=>{x("查看功能","待实现")}},{default:_(()=>[...n[12]||(n[12]=[h(" 查看 ",-1)])]),_:1},8,["onClick"]),u(p,{text:"",type:"warning",size:"small",onClick:e=>{x("编辑功能","待实现")}},{default:_(()=>[...n[13]||(n[13]=[h(" 编辑 ",-1)])]),_:1},8,["onClick"]),u(p,{text:"",type:"danger",size:"small",onClick:e=>{x("删除功能","待实现")}},{default:_(()=>[...n[14]||(n[14]=[h(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])):(y(),w(f(i),{key:1,type:"no-data",description:"暂无项目"}))]),_:1})])}}}),[["__scopeId","data-v-6deba779"]]);export{v as default};
