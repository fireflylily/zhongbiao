import{q as e,y as a,am as s,m as t,aI as l,ba as i,n as o,at as n,r as c,A as r,v as d,x as u,M as p,bb as m,aS as v,ae as b,_ as f,d as C,c as h,o as y,C as x,I as K,F as g,af as A,p as I,N,bc as k,e as $,g as w,k as E,t as _,w as F,B as S,G as j,H as B,j as H,h as P,ai as V,aj as T,J as D,P as W}from"./index.js";import{c as q}from"./castArray-pal66jBx.js";import{E as G}from"./index-Dc6VZPfZ.js";const J=t=>e(t)||a(t)||s(t),M=t({accordion:Boolean,modelValue:{type:o([Array,String,Number]),default:()=>n([])},expandIconPosition:{type:o([String]),default:"right"},beforeCollapse:{type:o(Function)}}),O={[i]:J,[l]:J},z=Symbol("collapseContextKey"),L=C({name:"ElCollapse"});var Q=f(C({...L,props:M,emits:O,setup(e,{expose:a,emit:s}){const t=e,{activeNames:o,setActiveNames:n}=((e,a)=>{const s=c(q(e.modelValue)),t=t=>{s.value=t;const o=e.accordion?s.value[0]:s.value;a(i,o),a(l,o)},o=a=>{if(e.accordion)t([s.value[0]===a?"":a]);else{const e=[...s.value],l=e.indexOf(a);l>-1?e.splice(l,1):e.push(a),t(e)}};return r(()=>e.modelValue,()=>s.value=q(e.modelValue),{deep:!0}),p(z,{activeNames:s,handleItemClick:async a=>{const{beforeCollapse:s}=e;if(!s)return void o(a);const t=s(a);[m(t),v(t)].includes(!0)||b("ElCollapse","beforeCollapse must return type `Promise<boolean>` or `boolean`"),m(t)?t.then(e=>{!1!==e&&o(a)}).catch(e=>{}):t&&o(a)}}),{activeNames:s,setActiveNames:t}})(t,s),{rootKls:f}=(e=>{const a=d("collapse");return{rootKls:u(()=>[a.b(),a.b(`icon-position-${e.expandIconPosition}`)])}})(t);return a({activeNames:o,setActiveNames:n}),(e,a)=>(y(),h("div",{class:K(g(f))},[x(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const R=t({title:{type:String,default:""},name:{type:o([String,Number]),default:void 0},icon:{type:I,default:A},disabled:Boolean}),U=C({name:"ElCollapseItem"});var X=f(C({...U,props:R,setup(e,{expose:a}){const s=e,{focusing:t,id:l,isActive:i,handleFocus:o,handleHeaderClick:n,handleEnterClick:r}=(e=>{const a=N(z),{namespace:s}=d("collapse"),t=c(!1),l=c(!1),i=k(),o=u(()=>i.current++),n=u(()=>{var a;return null!=(a=e.name)?a:`${s.value}-id-${i.prefix}-${g(o)}`}),r=u(()=>null==a?void 0:a.activeNames.value.includes(g(n)));return{focusing:t,id:o,isActive:r,handleFocus:()=>{setTimeout(()=>{l.value?l.value=!1:t.value=!0},50)},handleHeaderClick:s=>{if(e.disabled)return;const i=s.target;(null==i?void 0:i.closest("input, textarea, select"))||(null==a||a.handleItemClick(g(n)),t.value=!1,l.value=!0)},handleEnterClick:e=>{const s=e.target;(null==s?void 0:s.closest("input, textarea, select"))||(e.preventDefault(),null==a||a.handleItemClick(g(n)))}}})(s),{arrowKls:p,headKls:m,rootKls:v,itemTitleKls:b,itemWrapperKls:f,itemContentKls:C,scopedContentId:A,scopedHeadId:I}=((e,{focusing:a,isActive:s,id:t})=>{const l=d("collapse"),i=u(()=>[l.b("item"),l.is("active",g(s)),l.is("disabled",e.disabled)]),o=u(()=>[l.be("item","header"),l.is("active",g(s)),{focusing:g(a)&&!e.disabled}]),n=u(()=>[l.be("item","arrow"),l.is("active",g(s))]);return{itemTitleKls:u(()=>[l.be("item","title")]),arrowKls:n,headKls:o,rootKls:i,itemWrapperKls:u(()=>l.be("item","wrap")),itemContentKls:u(()=>l.be("item","content")),scopedContentId:u(()=>l.b(`content-${g(t)}`)),scopedHeadId:u(()=>l.b(`head-${g(t)}`))}})(s,{focusing:t,isActive:i,id:l});return a({isActive:i}),(e,a)=>(y(),h("div",{class:K(g(v))},[$("div",{id:g(I),class:K(g(m)),"aria-expanded":g(i),"aria-controls":g(A),"aria-describedby":g(A),tabindex:e.disabled?-1:0,role:"button",onClick:g(n),onKeydown:H(P(g(r),["stop"]),["space","enter"]),onFocus:g(o),onBlur:e=>t.value=!1},[$("span",{class:K(g(b))},[x(e.$slots,"title",{isActive:g(i)},()=>[E(_(e.title),1)])],2),x(e.$slots,"icon",{isActive:g(i)},()=>[w(g(B),{class:K(g(p))},{default:F(()=>[(y(),S(j(e.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),w(g(G),null,{default:F(()=>[V($("div",{id:g(A),role:"region",class:K(g(f)),"aria-hidden":!g(i),"aria-labelledby":g(I)},[$("div",{class:K(g(C))},[x(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[T,g(i)]])]),_:3})],2))}}),[["__file","collapse-item.vue"]]);const Y=D(Q,{CollapseItem:X}),Z=W(X);export{Y as E,Z as a};
