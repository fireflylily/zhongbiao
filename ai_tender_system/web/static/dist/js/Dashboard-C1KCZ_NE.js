import{_ as e}from"./_plugin-vue_export-helper-BZqs1yfm.js";/* empty css               */import{a,E as t}from"./el-select-zgwPLghA.js";import{E as l}from"./el-scrollbar-COliMHv4.js";/* empty css                   *//* empty css                 */import{E as i,a as n}from"./el-table-column-UElVgcNc.js";import"./el-checkbox-Chhrgelv.js";import{E as s}from"./el-link-BuPnVljO.js";import{E as o,a as r}from"./el-col-DR3qk7qZ.js";import{E as u}from"./el-statistic-DCfNmxCT.js";import{m as p,p as c,_ as d,d as g,K as m,x as v,c as b,o as f,B as y,t as h,w as _,G as k,F as C,H as x,N as z,s as P,n as S,at as j,v as w,r as T,A as N,g as B,a6 as E,aB as M,I,aH as D,am as $,e as q,E as O,aI as L,a0 as A,aJ as U,aK as F,aL as K,j as H,q as J,O as Y,aM as G,aN as Q,M as R,aw as V,ah as W,aO as X,af as Z,aP as ee,J as ae,C as te,D as le,P as ie,ay as ne,aQ as se,a as oe,L as re,l as ue,k as pe,i as ce}from"./index.js";import{u as de}from"./project-ngnLYivh.js";import{L as ge}from"./Loading-D6byd8bp.js";import{E as me}from"./Empty-BSG66wFQ.js";import"./DocumentPreview.vue_vue_type_style_index_0_scoped_e3ac2352_lang-aAcHzWd0.js";import{C as ve}from"./Card-C_skTdco.js";/* empty css                *//* empty css                 */import"./el-alert-CXP7XODY.js";import{d as be}from"./dayjs.min-62TF2vD4.js";import{E as fe}from"./index-_IbxD8AI.js";import{t as ye}from"./tender-CTTmwiee.js";import"./strings-DTuDRpJG.js";import"./castArray-pal66jBx.js";import"./_baseClone-DZAH0W8r.js";import"./omit-Czoq2i9Z.js";import"./raf-CXOaDqGI.js";import"./index-DzZX4pf4.js";const he=Symbol("elPaginationKey"),_e=p({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:c}}),ke={click:e=>e instanceof MouseEvent},Ce=g({name:"ElPaginationPrev"});var xe=d(g({...Ce,props:_e,emits:ke,setup(e){const a=e,{t:t}=m(),l=v(()=>a.disabled||a.currentPage<=1);return(e,a)=>(f(),b("button",{type:"button",class:"btn-prev",disabled:C(l),"aria-label":e.prevText||C(t)("el.pagination.prev"),"aria-disabled":C(l),onClick:a=>e.$emit("click",a)},[e.prevText?(f(),b("span",{key:0},h(e.prevText),1)):(f(),y(C(x),{key:1},{default:_(()=>[(f(),y(k(e.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}}),[["__file","prev.vue"]]);const ze=p({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:c}}),Pe=g({name:"ElPaginationNext"});var Se=d(g({...Pe,props:ze,emits:["click"],setup(e){const a=e,{t:t}=m(),l=v(()=>a.disabled||a.currentPage===a.pageCount||0===a.pageCount);return(e,a)=>(f(),b("button",{type:"button",class:"btn-next",disabled:C(l),"aria-label":e.nextText||C(t)("el.pagination.next"),"aria-disabled":C(l),onClick:a=>e.$emit("click",a)},[e.nextText?(f(),b("span",{key:0},h(e.nextText),1)):(f(),y(C(x),{key:1},{default:_(()=>[(f(),y(k(e.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}}),[["__file","next.vue"]]);const je=()=>z(he,{}),we=p({pageSize:{type:Number,required:!0},pageSizes:{type:S(Array),default:()=>j([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:S([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:P},appendSizeTo:String}),Te=g({name:"ElPaginationSizes"});var Ne=d(g({...Te,props:we,emits:["page-size-change"],setup(e,{emit:l}){const i=e,{t:n}=m(),s=w("pagination"),o=je(),r=T(i.pageSize);N(()=>i.pageSizes,(e,a)=>{if(!D(e,a)&&$(e)){const a=e.includes(i.pageSize)?i.pageSize:i.pageSizes[0];l("page-size-change",a)}}),N(()=>i.pageSize,e=>{r.value=e});const u=v(()=>i.pageSizes);function p(e){var a;e!==r.value&&(r.value=e,null==(a=o.handleSizeChange)||a.call(o,Number(e)))}return(e,l)=>(f(),b("span",{class:I(C(s).e("sizes"))},[B(C(t),{"model-value":r.value,disabled:e.disabled,"popper-class":e.popperClass,"popper-style":e.popperStyle,size:e.size,teleported:e.teleported,"validate-event":!1,"append-to":e.appendSizeTo,onChange:p},{default:_(()=>[(f(!0),b(E,null,M(C(u),e=>(f(),y(C(a),{key:e,value:e,label:e+C(n)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","popper-style","size","teleported","append-to"])],2))}}),[["__file","sizes.vue"]]);const Be=p({size:{type:String,values:P}}),Ee=g({name:"ElPaginationJumper"});var Me=d(g({...Ee,props:Be,setup(e){const{t:a}=m(),t=w("pagination"),{pageCount:l,disabled:i,currentPage:n,changeEvent:s}=je(),o=T(),r=v(()=>{var e;return null!=(e=o.value)?e:null==n?void 0:n.value});function u(e){o.value=e?+e:""}function p(e){e=Math.trunc(+e),null==s||s(e),o.value=void 0}return(e,n)=>(f(),b("span",{class:I(C(t).e("jump")),disabled:C(i)},[q("span",{class:I([C(t).e("goto")])},h(C(a)("el.pagination.goto")),3),B(C(O),{size:e.size,class:I([C(t).e("editor"),C(t).is("in-pagination")]),min:1,max:C(l),disabled:C(i),"model-value":C(r),"validate-event":!1,"aria-label":C(a)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:p},null,8,["size","class","max","disabled","model-value","aria-label"]),q("span",{class:I([C(t).e("classifier")])},h(C(a)("el.pagination.pageClassifier")),3)],10,["disabled"]))}}),[["__file","jumper.vue"]]);const Ie=p({total:{type:Number,default:1e3}}),De=g({name:"ElPaginationTotal"});var $e=d(g({...De,props:Ie,setup(e){const{t:a}=m(),t=w("pagination"),{disabled:l}=je();return(e,i)=>(f(),b("span",{class:I(C(t).e("total")),disabled:C(l)},h(C(a)("el.pagination.total",{total:e.total})),11,["disabled"]))}}),[["__file","total.vue"]]);const qe=p({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Oe=g({name:"ElPaginationPager"});var Le=d(g({...Oe,props:qe,emits:[L],setup(e,{emit:a}){const t=e,l=w("pager"),i=w("icon"),{t:n}=m(),s=T(!1),o=T(!1),r=T(!1),u=T(!1),p=T(!1),c=T(!1),d=v(()=>{const e=t.pagerCount,a=(e-1)/2,l=Number(t.currentPage),i=Number(t.pageCount);let n=!1,s=!1;i>e&&(l>e-a&&(n=!0),l<i-a&&(s=!0));const o=[];if(n&&!s){for(let a=i-(e-2);a<i;a++)o.push(a)}else if(!n&&s)for(let t=2;t<e;t++)o.push(t);else if(n&&s){const a=Math.floor(e/2)-1;for(let e=l-a;e<=l+a;e++)o.push(e)}else for(let t=2;t<i;t++)o.push(t);return o}),g=v(()=>["more","btn-quickprev",i.b(),l.is("disabled",t.disabled)]),_=v(()=>["more","btn-quicknext",i.b(),l.is("disabled",t.disabled)]),k=v(()=>t.disabled?-1:0);function x(e=!1){t.disabled||(e?r.value=!0:u.value=!0)}function z(e=!1){e?p.value=!0:c.value=!0}function P(e){const l=e.target;if("li"===l.tagName.toLowerCase()&&Array.from(l.classList).includes("number")){const e=Number(l.textContent);e!==t.currentPage&&a(L,e)}else"li"===l.tagName.toLowerCase()&&Array.from(l.classList).includes("more")&&S(e)}function S(e){const l=e.target;if("ul"===l.tagName.toLowerCase()||t.disabled)return;let i=Number(l.textContent);const n=t.pageCount,s=t.currentPage,o=t.pagerCount-2;l.className.includes("more")&&(l.className.includes("quickprev")?i=s-o:l.className.includes("quicknext")&&(i=s+o)),Number.isNaN(+i)||(i<1&&(i=1),i>n&&(i=n)),i!==s&&a(L,i)}return N(()=>[t.pageCount,t.pagerCount,t.currentPage],([e,a,t])=>{const l=(a-1)/2;let i=!1,n=!1;e>a&&(i=t>a-l,n=t<e-l),r.value&&(r.value=i),u.value&&(u.value=n),s.value=i,o.value=n},{immediate:!0}),(e,a)=>(f(),b("ul",{class:I(C(l).b()),onClick:S,onKeyup:H(P,["enter"])},[e.pageCount>0?(f(),b("li",{key:0,class:I([[C(l).is("active",1===e.currentPage),C(l).is("disabled",e.disabled)],"number"]),"aria-current":1===e.currentPage,"aria-label":C(n)("el.pagination.currentPage",{pager:1}),tabindex:C(k)}," 1 ",10,["aria-current","aria-label","tabindex"])):A("v-if",!0),s.value?(f(),b("li",{key:1,class:I(C(g)),tabindex:C(k),"aria-label":C(n)("el.pagination.prevPages",{pager:e.pagerCount-2}),onMouseenter:e=>x(!0),onMouseleave:e=>r.value=!1,onFocus:e=>z(!0),onBlur:e=>p.value=!1},[!r.value&&!p.value||e.disabled?(f(),y(C(F),{key:1})):(f(),y(C(U),{key:0}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):A("v-if",!0),(f(!0),b(E,null,M(C(d),a=>(f(),b("li",{key:a,class:I([[C(l).is("active",e.currentPage===a),C(l).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===a,"aria-label":C(n)("el.pagination.currentPage",{pager:a}),tabindex:C(k)},h(a),11,["aria-current","aria-label","tabindex"]))),128)),o.value?(f(),b("li",{key:2,class:I(C(_)),tabindex:C(k),"aria-label":C(n)("el.pagination.nextPages",{pager:e.pagerCount-2}),onMouseenter:e=>x(),onMouseleave:e=>u.value=!1,onFocus:e=>z(),onBlur:e=>c.value=!1},[!u.value&&!c.value||e.disabled?(f(),y(C(F),{key:1})):(f(),y(C(K),{key:0}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):A("v-if",!0),e.pageCount>1?(f(),b("li",{key:3,class:I([[C(l).is("active",e.currentPage===e.pageCount),C(l).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===e.pageCount,"aria-label":C(n)("el.pagination.currentPage",{pager:e.pageCount}),tabindex:C(k)},h(e.pageCount),11,["aria-current","aria-label","tabindex"])):A("v-if",!0)],42,["onKeyup"]))}}),[["__file","pager.vue"]]);const Ae=e=>"number"!=typeof e,Ue=p({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>J(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2==1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:S(Array),default:()=>j([10,20,30,40,50,100])},popperClass:{type:String,default:""},popperStyle:{type:S([String,Object])},prevText:{type:String,default:""},prevIcon:{type:c,default:()=>ee},nextText:{type:String,default:""},nextIcon:{type:c,default:()=>Z},teleported:{type:Boolean,default:!0},small:Boolean,size:X,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),Fe="ElPagination";const Ke=ae(g({name:Fe,props:Ue,emits:{"update:current-page":e=>J(e),"update:page-size":e=>J(e),"size-change":e=>J(e),change:(e,a)=>J(e)&&J(a),"current-change":e=>J(e),"prev-click":e=>J(e),"next-click":e=>J(e)},setup(e,{emit:a,slots:t}){const{t:l}=m(),i=w("pagination"),n=Y().vnode.props||{},s=G(),o=v(()=>{var a;return e.small?"small":null!=(a=e.size)?a:s.value});Q({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},v(()=>!!e.small));const r="onUpdate:currentPage"in n||"onUpdate:current-page"in n||"onCurrentChange"in n,u="onUpdate:pageSize"in n||"onUpdate:page-size"in n||"onSizeChange"in n,p=v(()=>{if(Ae(e.total)&&Ae(e.pageCount))return!1;if(!Ae(e.currentPage)&&!r)return!1;if(e.layout.includes("sizes"))if(Ae(e.pageCount)){if(!Ae(e.total)&&!Ae(e.pageSize)&&!u)return!1}else if(!u)return!1;return!0}),c=T(Ae(e.defaultPageSize)?10:e.defaultPageSize),d=T(Ae(e.defaultCurrentPage)?1:e.defaultCurrentPage),g=v({get:()=>Ae(e.pageSize)?c.value:e.pageSize,set(t){Ae(e.pageSize)&&(c.value=t),u&&(a("update:page-size",t),a("size-change",t))}}),b=v(()=>{let a=0;return Ae(e.pageCount)?Ae(e.total)||(a=Math.max(1,Math.ceil(e.total/g.value))):a=e.pageCount,a}),f=v({get:()=>Ae(e.currentPage)?d.value:e.currentPage,set(t){let l=t;t<1?l=1:t>b.value&&(l=b.value),Ae(e.currentPage)&&(d.value=l),r&&(a("update:current-page",l),a("current-change",l))}});function y(e){f.value=e}function h(){e.disabled||(f.value-=1,a("prev-click",f.value))}function _(){e.disabled||(f.value+=1,a("next-click",f.value))}function k(e,a){e&&(e.props||(e.props={}),e.props.class=[e.props.class,a].join(" "))}return N(b,e=>{f.value>e&&(f.value=e)}),N([f,g],e=>{a(L,...e)},{flush:"post"}),R(he,{pageCount:b,disabled:v(()=>e.disabled),currentPage:f,changeEvent:y,handleSizeChange:function(e){g.value=e;const a=b.value;f.value>a&&(f.value=a)}}),()=>{var a,n;if(!p.value)return V(Fe,l("el.pagination.deprecationWarning")),null;if(!e.layout)return null;if(e.hideOnSinglePage&&b.value<=1)return null;const s=[],r=[],u=W("div",{class:i.e("rightwrapper")},r),c={prev:W(xe,{disabled:e.disabled,currentPage:f.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:h}),jumper:W(Me,{size:o.value}),pager:W(Le,{currentPage:f.value,pageCount:b.value,pagerCount:e.pagerCount,onChange:y,disabled:e.disabled}),next:W(Se,{disabled:e.disabled,currentPage:f.value,pageCount:b.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:_}),sizes:W(Ne,{pageSize:g.value,pageSizes:e.pageSizes,popperClass:e.popperClass,popperStyle:e.popperStyle,disabled:e.disabled,teleported:e.teleported,size:o.value,appendSizeTo:e.appendSizeTo}),slot:null!=(n=null==(a=null==t?void 0:t.default)?void 0:a.call(t))?n:null,total:W($e,{total:Ae(e.total)?0:e.total})},d=e.layout.split(",").map(e=>e.trim());let m=!1;return d.forEach(e=>{"->"!==e?m?r.push(c[e]):s.push(c[e]):m=!0}),k(s[0],i.is("first")),k(s[s.length-1],i.is("last")),m&&r.length>0&&(k(r[0],i.is("first")),k(r[r.length-1],i.is("last")),s.push(u)),W("div",{class:[i.b(),i.is("background",e.background),i.m(o.value)]},s)}}})),He=g({name:"ElTimeline",setup(e,{slots:a}){const t=w("timeline");return R("timeline",a),()=>W("ul",{class:[t.b()]},[te(a,"default")])}}),Je=p({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:c},hollow:Boolean}),Ye=g({name:"ElTimelineItem"});var Ge=d(g({...Ye,props:Je,setup(e){const a=e,t=w("timeline-item"),l=v(()=>[t.e("node"),t.em("node",a.size||""),t.em("node",a.type||""),t.is("hollow",a.hollow)]);return(e,a)=>(f(),b("li",{class:I([C(t).b(),{[C(t).e("center")]:e.center}])},[q("div",{class:I(C(t).e("tail"))},null,2),e.$slots.dot?A("v-if",!0):(f(),b("div",{key:0,class:I(C(l)),style:le({backgroundColor:e.color})},[e.icon?(f(),y(C(x),{key:0,class:I(C(t).e("icon"))},{default:_(()=>[(f(),y(k(e.icon)))]),_:1},8,["class"])):A("v-if",!0)],6)),e.$slots.dot?(f(),b("div",{key:1,class:I(C(t).e("dot"))},[te(e.$slots,"dot")],2)):A("v-if",!0),q("div",{class:I(C(t).e("wrapper"))},[e.hideTimestamp||"top"!==e.placement?A("v-if",!0):(f(),b("div",{key:0,class:I([C(t).e("timestamp"),C(t).is("top")])},h(e.timestamp),3)),q("div",{class:I(C(t).e("content"))},[te(e.$slots,"default")],2),e.hideTimestamp||"bottom"!==e.placement?A("v-if",!0):(f(),b("div",{key:1,class:I([C(t).e("timestamp"),C(t).is("bottom")])},h(e.timestamp),3))],2)],2))}}),[["__file","timeline-item.vue"]]);const Qe=ae(He,{TimelineItem:Ge}),Re=ie(Ge),Ve=["disabled"],We=e(g({__name:"IconButton",props:{icon:{default:"bi-question-circle"},tooltip:{default:""},tooltipPlacement:{default:"top"},type:{default:"default"},size:{default:"default"},circle:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},badge:{default:""},badgeMax:{default:99},badgeType:{default:"danger"}},emits:["click"],setup(e,{emit:a}){const t=e,i=a,n=v(()=>({[`icon-button--${t.type}`]:!0,[`icon-button--${t.size}`]:!0,"icon-button--circle":t.circle,"is-disabled":t.disabled,"is-loading":t.loading})),s=v(()=>({large:20,default:18,small:16}[t.size])),o=v(()=>({fontSize:`${s.value}px`}));function r(e){t.disabled||t.loading||i("click",e)}return(a,t)=>{const i=x,u=ne,p=l;return f(),y(p,{content:e.tooltip,placement:e.tooltipPlacement,disabled:!e.tooltip},{default:_(()=>[B(u,{value:e.badge,hidden:!e.badge,max:e.badgeMax,type:e.badgeType},{default:_(()=>[q("button",{class:I(["icon-button",n.value]),disabled:e.disabled||e.loading,onClick:r},[e.loading?(f(),y(i,{key:0,class:"is-loading",size:s.value},{default:_(()=>[(f(),y(k(C(se))))]),_:1},8,["size"])):(f(),b("i",{key:1,class:I([e.icon,"icon-button-icon"]),style:le(o.value)},null,6))],10,Ve)]),_:1},8,["value","hidden","max","type"])]),_:1},8,["content","placement","disabled"])}}}),[["__scopeId","data-v-628ec5f8"]]),Xe={class:"dashboard-page"},Ze={class:"quick-actions"},ea=["onClick"],aa={class:"action-label"},ta={class:"pagination-wrapper"},la={class:"activity-content"},ia=e(g({__name:"Dashboard",setup(e){const a=ce(),t=de(),{success:l,error:p,confirm:c}=oe(),d=T(!1),g=T(!1),m=T(!1),v=T({totalProjects:0,inProgressProjects:0,wonThisMonth:0,pendingTasks:0}),k=T([]),x=T(1),z=T(10),P=T(0),S=T([]),j=[{name:"start-tender",label:"开始投标",icon:"bi bi-play-circle-fill",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",route:"/tender-management"},{name:"business-response",label:"商务应答",icon:"bi bi-briefcase-fill",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",route:"/business-response"},{name:"point-to-point",label:"点对点应答",icon:"bi bi-arrow-left-right",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",route:"/point-to-point"},{name:"tech-proposal",label:"技术方案",icon:"bi bi-file-code-fill",color:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",route:"/tech-proposal"},{name:"tender-scoring",label:"标书评分",icon:"bi bi-star-fill",color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",route:"/tender-scoring"},{name:"knowledge",label:"知识中心",icon:"bi bi-book-fill",color:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",route:"/knowledge/company-library"}];async function w(){g.value=!0;try{const e=await ye.getProjects({page:x.value,page_size:z.value});e.success&&e.data&&(Array.isArray(e.data)?(k.value=e.data,P.value=e.data.length):e.data.items&&(k.value=e.data.items,P.value=e.data.total||0))}catch(e){p("加载项目列表失败: "+e.message)}finally{g.value=!1}}async function N(){await w(),l("刷新成功")}function D(){a.push("/tender-management")}function $(e){t.setCurrentProject(e),a.push(`/tender-processing/${e.id}`)}function O(e){z.value=e,x.value=1,w()}function L(e){x.value=e,w()}function A(e){return{pending:"待处理",in_progress:"进行中",completed:"已完成",won:"已中标",lost:"未中标",archived:"已归档"}[e]||e}function U(e){return{document_upload:"bi bi-file-earmark-arrow-up",business_response:"bi bi-briefcase-fill",tech_proposal:"bi bi-file-code-fill",project_won:"bi bi-trophy-fill",project_lost:"bi bi-x-circle-fill"}[e]||"bi bi-circle-fill"}function F(e){return e?be(e).format("YYYY-MM-DD HH:mm"):"-"}return re(()=>{!async function(){d.value=!0;try{setTimeout(()=>{v.value={totalProjects:156,inProgressProjects:23,wonThisMonth:8,pendingTasks:12},d.value=!1},500)}catch(e){p("加载统计数据失败: "+e.message),d.value=!1}}(),w(),async function(){m.value=!0;try{setTimeout(()=>{S.value=[{id:1,type:"document_upload",description:"上传了招标文档《某市政府采购项目招标文件.pdf》",created_at:new Date(Date.now()-72e5).toISOString()},{id:2,type:"business_response",description:"商务应答文档生成完成",created_at:new Date(Date.now()-18e6).toISOString()},{id:3,type:"tech_proposal",description:"技术方案已提交审核",created_at:new Date(Date.now()-864e5).toISOString()},{id:4,type:"project_won",description:'项目"智慧城市建设项目"中标',created_at:new Date(Date.now()-1728e5).toISOString()}],m.value=!1},300)}catch(e){p("加载活动记录失败: "+e.message),m.value=!1}}()}),(e,T)=>{const K=u,H=r,J=o,Y=ue,G=s,Q=n,R=fe,V=i,W=Ke,X=Re,Z=Qe;return f(),b("div",Xe,[B(J,{gutter:16,class:"kpi-cards"},{default:_(()=>[B(H,{xs:12,sm:12,md:6,lg:6},{default:_(()=>[B(C(ve),{shadow:"hover",loading:d.value},{default:_(()=>[B(K,{title:"总项目数",value:v.value.totalProjects},{prefix:_(()=>[...T[2]||(T[2]=[q("i",{class:"bi bi-folder-fill statistic-icon",style:{color:"#409eff"}},null,-1)])]),_:1},8,["value"])]),_:1},8,["loading"])]),_:1}),B(H,{xs:12,sm:12,md:6,lg:6},{default:_(()=>[B(C(ve),{shadow:"hover",loading:d.value},{default:_(()=>[B(K,{title:"进行中项目",value:v.value.inProgressProjects},{prefix:_(()=>[...T[3]||(T[3]=[q("i",{class:"bi bi-clock-fill statistic-icon",style:{color:"#e6a23c"}},null,-1)])]),_:1},8,["value"])]),_:1},8,["loading"])]),_:1}),B(H,{xs:12,sm:12,md:6,lg:6},{default:_(()=>[B(C(ve),{shadow:"hover",loading:d.value},{default:_(()=>[B(K,{title:"本月中标",value:v.value.wonThisMonth},{prefix:_(()=>[...T[4]||(T[4]=[q("i",{class:"bi bi-trophy-fill statistic-icon",style:{color:"#67c23a"}},null,-1)])]),_:1},8,["value"])]),_:1},8,["loading"])]),_:1}),B(H,{xs:12,sm:12,md:6,lg:6},{default:_(()=>[B(C(ve),{shadow:"hover",loading:d.value},{default:_(()=>[B(K,{title:"待处理任务",value:v.value.pendingTasks},{prefix:_(()=>[...T[5]||(T[5]=[q("i",{class:"bi bi-list-task statistic-icon",style:{color:"#f56c6c"}},null,-1)])]),_:1},8,["value"])]),_:1},8,["loading"])]),_:1})]),_:1}),B(C(ve),{title:"快捷入口",class:"quick-actions-card"},{default:_(()=>[q("div",Ze,[(f(),b(E,null,M(j,e=>q("div",{key:e.name,class:"action-item",onClick:t=>function(e){a.push(e.route)}(e)},[q("div",{class:"action-icon",style:le({background:e.color})},[q("i",{class:I(e.icon)},null,2)],4),q("div",aa,h(e.label),1)],8,ea)),64))])]),_:1}),B(C(ve),{title:"进行中的项目",class:"projects-card"},{actions:_(()=>[B(C(We),{icon:"bi-arrow-clockwise",tooltip:"刷新",onClick:N})]),default:_(()=>[g.value?(f(),y(C(ge),{key:0,visible:!0,fullscreen:!1,text:"加载项目列表..."})):0===k.value.length?(f(),y(C(me),{key:1,type:"no-data",description:"暂无进行中的项目"},{action:_(()=>[B(Y,{type:"primary",onClick:D},{default:_(()=>[...T[6]||(T[6]=[pe("创建第一个项目",-1)])]),_:1})]),_:1})):(f(),b(E,{key:2},[B(V,{data:k.value,stripe:"",style:{width:"100%"}},{default:_(()=>[B(Q,{prop:"project_name",label:"项目名称","min-width":"200"},{default:_(({row:e})=>[B(G,{type:"primary",onClick:a=>$(e)},{default:_(()=>[pe(h(e.project_name),1)]),_:2},1032,["onClick"])]),_:1}),B(Q,{prop:"project_number",label:"项目编号",width:"150"}),B(Q,{prop:"status",label:"状态",width:"120"},{default:_(({row:e})=>{return[B(R,{type:(a=e.status,{pending:"info",in_progress:"warning",completed:"success",won:"success",lost:"danger",archived:"info"}[a]||"info")},{default:_(()=>[pe(h(A(e.status)),1)]),_:2},1032,["type"])];var a}),_:1}),B(Q,{prop:"company_name",label:"关联企业",width:"200"}),B(Q,{prop:"created_at",label:"创建时间",width:"180"},{default:_(({row:e})=>[pe(h(F(e.created_at)),1)]),_:1}),B(Q,{label:"操作",width:"200",fixed:"right"},{default:_(({row:e})=>[B(C(We),{icon:"bi-eye",type:"primary",tooltip:"查看详情",onClick:a=>$(e)},null,8,["onClick"]),B(C(We),{icon:"bi-play-circle",type:"success",tooltip:"继续处理",onClick:l=>{return i=e,t.setCurrentProject(i),void a.push(`/tender-processing/${i.id}`);var i}},null,8,["onClick"]),B(C(We),{icon:"bi-archive",type:"warning",tooltip:"归档",onClick:a=>async function(e){if(await c(`确定要归档项目"${e.project_name}"吗?`,"归档项目","归档后项目将不再显示在进行中列表"))try{await t.updateProject(e.id,{status:"archived"}),l("项目已归档"),await w()}catch(a){p("归档失败: "+a.message)}}(e)},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),q("div",ta,[B(W,{"current-page":x.value,"onUpdate:currentPage":T[0]||(T[0]=e=>x.value=e),"page-size":z.value,"onUpdate:pageSize":T[1]||(T[1]=e=>z.value=e),total:P.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:O,onCurrentChange:L},null,8,["current-page","page-size","total"])])],64))]),_:1}),B(C(ve),{title:"最近活动",class:"activities-card"},{default:_(()=>[m.value?(f(),y(C(ge),{key:0,visible:!0,fullscreen:!1,text:"加载活动记录..."})):0===S.value.length?(f(),y(C(me),{key:1,type:"no-data",description:"暂无活动记录"})):(f(),y(Z,{key:2},{default:_(()=>[(f(!0),b(E,null,M(S.value,e=>{return f(),y(X,{key:e.id,timestamp:F(e.created_at),type:(a=e.type,{document_upload:"primary",business_response:"success",tech_proposal:"warning",project_won:"success",project_lost:"danger"}[a]||"primary"),placement:"top"},{default:_(()=>[q("div",la,[q("i",{class:I([U(e.type),"activity-icon"])},null,2),q("span",null,h(e.description),1)])]),_:2},1032,["timestamp","type"]);var a}),128))]),_:1}))]),_:1})])}}}),[["__scopeId","data-v-0bcc4fa3"]]);export{ia as default};
