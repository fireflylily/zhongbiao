import{ax as e,aL as a,av as l,aw as t,bf as o,b7 as s,aM as r,aO as n,aZ as i,aS as u,aN as d,aT as c,c8 as p,b0 as m,bO as v,bL as f,bl as _,bm as j,aV as y,bM as h,aR as w,b1 as b,aY as g,bi as F,bj as I,bc as x,bv as V,a_ as k}from"./index.js";/* empty css                                                                          *//* empty css                             *//* empty css                *//* empty css               *//* empty css                */import{E,a as S}from"./el-select-2EPexRGo.js";/* empty css                     */import"./DocumentPreview.vue_vue_type_style_index_0_scoped_056f7814_lang-CJRCEOay.js";import{D as P}from"./DocumentUploader-Cjg8Ve8A.js";import{D}from"./DocumentPreview-BVX8lDJX.js";import{R as C}from"./RichTextEditor-B0nj93pG.js";/* empty css                */import{u as R,a as U,H as N,b as H,S as T}from"./HistoryFilesPanel-DVut1LNY.js";import{t as $}from"./tender-B2_G1CPt.js";import{c as L}from"./company-CDLBTJzM.js";import{u as J}from"./project-D1NKtbTH.js";import{d as O}from"./helpers-BsogEk_7.js";import{a as W,E as q}from"./index-B-vavaW6.js";import{E as M}from"./index-D2m2pKqu.js";import{E as z,a as B}from"./index-BHUH9FgH.js";import{E as Y,a as Z}from"./index-CZDBeWNi.js";import{E as A}from"./index-CKL8-Dtp.js";import{E as K}from"./index-5dFIUF4u.js";import"./strings-CAibmfqB.js";import"./toNumber-D1BjzJ77.js";import"./_baseIteratee-C8Rg9s0Y.js";import"./imageCompressor-CTkRt5bg.js";import"./index-GkPVVSWW.js";import"./index-Czx3rhy5.js";import"./cloneDeep-BA-8E20e.js";import"./index-DG0KKHwq.js";/* empty css                    */import"./index-CSVRQ7Lr.js";import"./index-l-UpVxRy.js";import"./flatMap-B4N5JHLf.js";import"./map-BZ8YNrGe.js";import"./_baseEach-CWxoirs-.js";import"./index-CDJvaTFC.js";import"./raf-CSK_qRxG.js";const Q={async processBusinessResponse(a){const l=new FormData;return l.append("company_id",a.company_id.toString()),l.append("project_name",a.project_name),a.tender_no&&l.append("tender_no",a.tender_no),a.date_text&&l.append("date_text",a.date_text),l.append("hitl_file_path",a.hitl_file_path),l.append("use_mcp",!1!==a.use_mcp?"true":"false"),e.post("/process-business-response",l,{headers:{"Content-Type":"multipart/form-data"}})}},G={class:"business-response"},X={class:"upload-item"},ee={class:"upload-item"},ae={class:"generation-controls"},le={class:"card-header"},te={class:"header-actions"},oe={class:"result-content"},se={class:"file-info-section"},re=k(a({__name:"Response",setup(e){J();const{projects:a,selectedProject:k,loadProjects:re,handleProjectChange:ne,restoreProjectFromStore:ie}=R(),{useHitlFile:ue,hitlFileInfo:de,syncing:ce,synced:pe,loadFromHITL:me,cancelHitlFile:ve,syncToHitl:fe}=U({onFileLoaded:()=>{we.value.templateFiles=[]}}),{useHitlFile:_e,hitlFileInfo:je,loadFromHITL:ye,cancelHitlFile:he}=U({onFileLoaded:()=>{we.value.tenderFiles=[]}}),we=l({projectId:null,companyId:null,projectName:"æ–°é¡¹ç›®",projectNumber:`PRJ-${Date.now()}`,tenderFiles:[],templateFiles:[]}),be=l([]);t(()=>be.value.find(e=>e.company_id===we.value.companyId));const ge=t(()=>we.value.projectId&&(we.value.templateFiles.length>0||ue.value)),Fe=l(!1),Ie=l(0),xe=l(""),Ve=l(null),ke=l(!1),Ee=l(null),Se=l(""),Pe=l(!1),De=l(!1),Ce=l([]),Re=async e=>{var a;const{file:l,onSuccess:t,onError:o}=e;try{if(!we.value.projectId){if(!we.value.companyId)throw new Error("è¯·å…ˆé€‰æ‹©å…¬å¸");s.info("æ­£åœ¨åˆ›å»ºæ–°é¡¹ç›®...");const e=await $.createProject({company_id:we.value.companyId,project_name:we.value.projectName||"æ–°é¡¹ç›®",project_number:we.value.projectNumber||`PRJ-${Date.now()}`});we.value.projectId=e.project_id,await re(),s.success("æ–°é¡¹ç›®å·²åˆ›å»º"),await He()}const e=null==(a=k.value)?void 0:a.company_id;if(!e)throw new Error("é¡¹ç›®æ²¡æœ‰å…³è”å…¬å¸");const o=new FormData;o.append("file",l),o.append("company_id",e.toString()),o.append("project_id",we.value.projectId.toString());const r=await $.parseDocumentStructure(o);if(!r.success)throw new Error(r.message||"ä¸Šä¼ å¤±è´¥");t(r.data),s.success("å•†åŠ¡åº”ç­”æ¨¡æ¿ä¸Šä¼ æˆåŠŸ")}catch(r){o(r),s.error(r.message||"æ¨¡æ¿ä¸Šä¼ å¤±è´¥")}},Ue=async e=>{var a;const{file:l,onSuccess:t,onError:o}=e;try{if(!we.value.projectId){if(!we.value.companyId)throw new Error("è¯·å…ˆé€‰æ‹©å…¬å¸");s.info("æ­£åœ¨åˆ›å»ºæ–°é¡¹ç›®...");const e=await $.createProject({company_id:we.value.companyId,project_name:we.value.projectName||"æ–°é¡¹ç›®",project_number:we.value.projectNumber||`PRJ-${Date.now()}`});we.value.projectId=e.project_id,await re(),s.success("æ–°é¡¹ç›®å·²åˆ›å»º"),await He()}const e=null==(a=k.value)?void 0:a.company_id;if(!e)throw new Error("é¡¹ç›®æ²¡æœ‰å…³è”å…¬å¸");const o=new FormData;o.append("file",l),o.append("company_id",e.toString()),o.append("project_id",we.value.projectId.toString());const r=await $.parseDocumentStructure(o);if(!r.success)throw new Error(r.message||"ä¸Šä¼ å¤±è´¥");t(r.data),s.success("æ‹›æ ‡æ–‡æ¡£ä¸Šä¼ æˆåŠŸ")}catch(r){o(r),s.error(r.message||"æ‹›æ ‡æ–‡æ¡£ä¸Šä¼ å¤±è´¥")}},Ne=async()=>{try{const e=await L.getCompanies();be.value=e.data||[]}catch(e){s.error("åŠ è½½å…¬å¸åˆ—è¡¨å¤±è´¥")}},He=async()=>{await ne(we.value.projectId,{onClear:()=>{Ve.value=null,xe.value="",we.value.tenderFiles=[],we.value.templateFiles=[],ke.value=!1,Se.value="",Ce.value=[],ue.value&&ve(),_e.value&&he()},onDocumentsLoaded:e=>{e.tenderFile&&ye(e,"tenderFile"),e.templateFile&&me(e,"templateFile"),e.businessResponseFile&&(Ve.value=e.businessResponseFile,ke.value=!1,s.info('æ£€æµ‹åˆ°å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶ï¼Œç‚¹å‡»"åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€"å¯ç¼–è¾‘'))}}),we.value.projectId||(we.value.projectNumber=`PRJ-${Date.now()}`)},Te=()=>{s.success("æ‹›æ ‡æ–‡æ¡£ä¸Šä¼ æˆåŠŸ")},$e=()=>{s.success("å•†åŠ¡åº”ç­”æ¨¡æ¿ä¸Šä¼ æˆåŠŸ")},Le=async()=>{var e;if(we.value.projectId){Fe.value=!0,Ie.value=0,xe.value="",Ve.value=null,ke.value=!0,Se.value='<h1>ğŸ“„ å•†åŠ¡åº”ç­”æ–‡æ¡£</h1><p style="color: #909399;">AIæ­£åœ¨ç”Ÿæˆå†…å®¹ï¼Œè¯·ç¨å€™...</p>',setTimeout(()=>{var e;null==(e=document.querySelector(".editor-section"))||e.scrollIntoView({behavior:"smooth",block:"start"})},100);try{xe.value="æ­£åœ¨åŠ è½½é¡¹ç›®ä¿¡æ¯...\n";const a=(await $.getProject(we.value.projectId)).data,l=null==(e=a.step1_data)?void 0:e.response_file_path;if(!l)throw new Error("æœªæ‰¾åˆ°å•†åŠ¡åº”ç­”æ¨¡æ¿æ–‡ä»¶è·¯å¾„ï¼Œè¯·å…ˆåœ¨æ ‡ä¹¦ç®¡ç†ä¸­ä¸Šä¼ æ¨¡æ¿");xe.value+="æ­£åœ¨å¤„ç†å•†åŠ¡åº”ç­”æ–‡æ¡£...\n",Ie.value=30;const t=await Q.processBusinessResponse({company_id:a.company_id,project_name:a.project_name,tender_no:a.project_number||"",date_text:a.bidding_time||"",hitl_file_path:l,use_mcp:!0});Ie.value=80,xe.value+="å¤„ç†å®Œæˆï¼Œæ­£åœ¨ç”Ÿæˆç»“æœ...\n";const o=t.data?t.data:t;if(!o.success)throw new Error(o.message||o.error||"å¤„ç†å¤±è´¥");Ie.value=100,xe.value+=o.message+"\n",Ve.value={success:!0,outputFile:o.output_file,downloadUrl:o.download_url,stats:o.stats||{},message:o.message},await Je(o.output_file),s.success("å•†åŠ¡åº”ç­”ç”Ÿæˆå®Œæˆï¼å¯ä»¥ç¼–è¾‘äº†"),o.output_file&&we.value.projectId&&await fe(we.value.projectId,o.output_file,"business_response")}catch(a){xe.value+=`\nâŒ é”™è¯¯: ${a.message}\n`,Ee.value&&Ee.value.appendContent(`<p style="color: red;">âŒ é”™è¯¯: ${a.message}</p>`),s.error(a.message||"ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{Fe.value=!1,Ie.value<100&&(Ie.value=0)}}else s.warning("è¯·å…ˆé€‰æ‹©é¡¹ç›®")},Je=async e=>{try{Se.value='<p style="color: #409EFF;">æ­£åœ¨è½¬æ¢Wordæ–‡æ¡£ä¸ºå¯ç¼–è¾‘æ ¼å¼...</p>';const a=await fetch("/api/editor/convert-word-to-html",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:e})}),l=await a.json();if(!l.success||!l.html_content)throw new Error(l.error||"è½¬æ¢å¤±è´¥");Se.value=l.html_content,Ee.value&&Ee.value.setContent(l.html_content)}catch(a){Se.value=`\n      <h1>ğŸ“„ å•†åŠ¡åº”ç­”æ–‡æ¡£</h1>\n      <div style="padding: 20px; background: #FFF3E0; border-left: 4px solid #FF9800; margin: 16px 0;">\n        <p><strong>âš ï¸ æç¤ºï¼š</strong>Wordæ–‡æ¡£è½¬æ¢å¤±è´¥</p>\n        <p>åŸå› ï¼š${a.message}</p>\n        <p>æ‚¨å¯ä»¥ï¼š</p>\n        <ul>\n          <li>ç›´æ¥åœ¨æ­¤ç¼–è¾‘å™¨ä¸­è¾“å…¥å†…å®¹</li>\n          <li>æˆ–ç‚¹å‡»ä¸‹æ–¹"æŸ¥çœ‹åŸå§‹ç”Ÿæˆç»“æœ"ä¸‹è½½Wordæ–‡æ¡£æŸ¥çœ‹</li>\n        </ul>\n      </div>\n      <p>å¼€å§‹ç¼–è¾‘æ‚¨çš„å†…å®¹...</p>\n    `,s.warning("Wordè½¬æ¢HTMLå¤±è´¥ï¼Œè¯·ä½¿ç”¨ä¸‹è½½åŠŸèƒ½æˆ–æ‰‹åŠ¨è¾“å…¥")}},Oe=async e=>{var a,l;if(we.value.projectId){Pe.value=!0;try{const t=await fetch("/api/editor/save-html-to-word",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html_content:e,project_id:we.value.projectId,document_type:"business_response",original_file:null==(a=Ve.value)?void 0:a.outputFile})}),o=await t.json();if(!o.success)throw new Error(o.error||"ä¿å­˜å¤±è´¥");Ve.value={success:!0,outputFile:o.output_file,downloadUrl:o.download_url,stats:(null==(l=Ve.value)?void 0:l.stats)||{},message:"æ–‡æ¡£å·²ä¿å­˜"},o.output_file&&await fe(we.value.projectId,o.output_file,"business_response")}catch(t){throw t}finally{Pe.value=!1}}else s.error("é¡¹ç›®IDæ— æ•ˆ")},We=()=>{Ve.value?Ve.value.downloadUrl?De.value=!0:s.warning("æ–‡æ¡£åœ°å€æ— æ•ˆ"):s.warning("æš‚æ— æ–‡æ¡£å¯é¢„è§ˆ")},qe=()=>{var e;if(Ve.value)try{const a=Ve.value.downloadUrl,l=`å•†åŠ¡åº”ç­”-${(null==(e=k.value)?void 0:e.project_name)||"æ–‡æ¡£"}-${Date.now()}.docx`;O(a,l),s.success("Wordæ–‡æ¡£ä¸‹è½½æˆåŠŸ")}catch(a){s.error("æ–‡æ¡£ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•")}else s.warning("æš‚æ— æ–‡æ¡£å¯ä¸‹è½½")},Me=async()=>{var e;(null==(e=Ve.value)?void 0:e.outputFile)?we.value.projectId?await fe(we.value.projectId,Ve.value.outputFile,"business_response"):s.error("é¡¹ç›®IDæ— æ•ˆ"):s.warning("æ²¡æœ‰å¯åŒæ­¥çš„æ–‡ä»¶")},ze=e=>{if(!e)return"-";let a=e;try{a=decodeURIComponent(e)}catch{}const l=a.split("/");return l[l.length-1]||"-"},Be=async()=>{var e;if(null==(e=Ve.value)?void 0:e.outputFile)try{ke.value=!0,await Je(Ve.value.outputFile),s.success("å†å²æ–‡ä»¶å·²åŠ è½½åˆ°ç¼–è¾‘å™¨"),setTimeout(()=>{var e;null==(e=document.querySelector(".editor-section"))||e.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(a){s.error("æ‰“å¼€å†å²æ–‡ä»¶å¤±è´¥: "+a.message)}else s.error("å†å²æ–‡ä»¶ä¿¡æ¯æ— æ•ˆ")};return o(async()=>{await Promise.all([re(),Ne()]);const e=await ie({onClear:()=>{Ve.value=null,xe.value="",we.value.tenderFiles=[],we.value.templateFiles=[],ke.value=!1,Se.value="",ue.value&&ve(),_e.value&&he()},onDocumentsLoaded:e=>{e.tenderFile&&ye(e,"tenderFile"),e.templateFile&&me(e,"templateFile"),e.businessResponseFile&&(Ve.value=e.businessResponseFile,ke.value=!1,s.info('æ£€æµ‹åˆ°å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶ï¼Œç‚¹å‡»"åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€"å¯ç¼–è¾‘'))}});e&&(we.value.projectId=e)}),(e,l)=>{var t,o;const s=p,R=S,U=E,$=f,L=q,J=h,O=W,Q=v,re=M,ne=b,ie=K,me=Z,fe=A,ye=Y,Ie=z,xe=B;return n(),r("div",G,[i(re,{class:"project-section",shadow:"never"},{header:c(()=>[...l[9]||(l[9]=[w("div",{class:"card-header"},[w("span",null,"Step 1: é€‰æ‹©é¡¹ç›®")],-1)])]),default:c(()=>[i(s,{type:"info",closable:!1,style:{"margin-bottom":"16px"}},{default:c(()=>[...l[10]||(l[10]=[m(" ğŸ’¡ æç¤ºï¼šå¯é€‰æ‹©ç°æœ‰é¡¹ç›®ï¼Œæˆ–é€‰æ‹©å…¬å¸åæ–°å»ºé¡¹ç›®å¹¶ä¸Šä¼ æ–‡æ¡£ ",-1)])]),_:1}),i(Q,{model:we.value,"label-width":"100px"},{default:c(()=>[i(O,{gutter:20},{default:c(()=>[i(L,{span:12},{default:c(()=>[i($,{label:"é¡¹ç›®"},{default:c(()=>[i(U,{modelValue:we.value.projectId,"onUpdate:modelValue":l[0]||(l[0]=e=>we.value.projectId=e),placeholder:"è¯·é€‰æ‹©é¡¹ç›®æˆ–ç›´æ¥æ–°å»º",filterable:"",clearable:"",onChange:He,style:{width:"100%"}},{default:c(()=>[(n(!0),r(_,null,j(y(a),e=>(n(),u(R,{key:e.id,label:`${e.project_name} (${e.project_number||"-"})`,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),i(L,{span:12},{default:c(()=>[i($,{label:"å…¬å¸"},{default:c(()=>{var e;return[we.value.projectId?(n(),u(J,{key:0,value:(null==(e=y(k))?void 0:e.company_name)||"-",disabled:""},null,8,["value"])):(n(),u(U,{key:1,modelValue:we.value.companyId,"onUpdate:modelValue":l[1]||(l[1]=e=>we.value.companyId=e),placeholder:"è¯·é€‰æ‹©å…¬å¸ï¼ˆå¿…å¡«ï¼‰",filterable:"",style:{width:"100%"}},{default:c(()=>[(n(!0),r(_,null,j(be.value,e=>(n(),u(R,{key:e.company_id,label:e.company_name,value:e.company_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))]}),_:1})]),_:1})]),_:1}),we.value.projectId?d("",!0):(n(),u(O,{key:0,gutter:20},{default:c(()=>[i(L,{span:12},{default:c(()=>[i($,{label:"é¡¹ç›®åç§°"},{default:c(()=>[i(J,{modelValue:we.value.projectName,"onUpdate:modelValue":l[2]||(l[2]=e=>we.value.projectName=e),placeholder:"æ–°é¡¹ç›®"},null,8,["modelValue"])]),_:1})]),_:1}),i(L,{span:12},{default:c(()=>[i($,{label:"é¡¹ç›®ç¼–å·"},{default:c(()=>[i(J,{modelValue:we.value.projectNumber,"onUpdate:modelValue":l[3]||(l[3]=e=>we.value.projectNumber=e),placeholder:"PRJ-..."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}))]),_:1},8,["model"])]),_:1}),i(re,{class:"upload-section",shadow:"never"},{header:c(()=>[...l[11]||(l[11]=[w("div",{class:"card-header"},[w("span",null,"Step 2: ä¸Šä¼ ç›¸å…³æ–‡æ¡£")],-1)])]),default:c(()=>[i(O,{gutter:20},{default:c(()=>[i(L,{span:12},{default:c(()=>[w("div",X,[l[12]||(l[12]=w("h4",null,[m("å•†åŠ¡åº”ç­”æ¨¡æ¿ "),w("span",{class:"required"},"*")],-1)),y(ue)?(n(),u(y(N),{key:0,"file-info":y(de),label:"å•†åŠ¡åº”ç­”æ¨¡æ¿:",onCancel:y(ve)},null,8,["file-info","onCancel"])):d("",!0),y(ue)?d("",!0):(n(),u(y(P),{key:1,modelValue:we.value.templateFiles,"onUpdate:modelValue":l[4]||(l[4]=e=>we.value.templateFiles=e),"http-request":Re,accept:".doc,.docx",limit:1,"max-size":20,drag:"","tip-text":"å¿…é¡»ä¸Šä¼ å•†åŠ¡åº”ç­”æ¨¡æ¿ï¼Œç”¨äºç”Ÿæˆåº”ç­”æ–‡æ¡£",onSuccess:$e},null,8,["modelValue"]))])]),_:1}),i(L,{span:12},{default:c(()=>[w("div",ee,[l[13]||(l[13]=w("h4",null,"æ‹›æ ‡æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰",-1)),y(_e)?(n(),u(y(N),{key:0,"file-info":y(je),label:"æ‹›æ ‡æ–‡æ¡£:",onCancel:y(he)},null,8,["file-info","onCancel"])):d("",!0),y(_e)?d("",!0):(n(),u(y(P),{key:1,modelValue:we.value.tenderFiles,"onUpdate:modelValue":l[5]||(l[5]=e=>we.value.tenderFiles=e),"http-request":Ue,accept:".pdf,.doc,.docx",limit:5,"max-size":50,drag:"","tip-text":"å¯é€‰ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ä½œä¸ºå‚è€ƒï¼Œæ”¯æŒPDFã€Wordæ ¼å¼ï¼Œæœ€å¤§50MB",onSuccess:Te},null,8,["modelValue"]))])]),_:1})]),_:1}),w("div",ae,[i(ne,{type:"primary",size:"large",disabled:!ge.value,loading:Fe.value,onClick:Le},{default:c(()=>[...l[14]||(l[14]=[m(" å¼€å§‹ç”Ÿæˆå•†åŠ¡åº”ç­” ",-1)])]),_:1},8,["disabled","loading"])])]),_:1}),Ve.value&&!ke.value?(n(),u(y(H),{key:0,title:"ğŸ“„ è¯¥é¡¹ç›®å·²æœ‰å•†åŠ¡åº”ç­”æ–‡ä»¶","current-file":Ve.value,"history-files":[],"show-editor-open":!0,"show-stats":!0,"current-file-message":"æ£€æµ‹åˆ°è¯¥é¡¹ç›®çš„å†å²å•†åŠ¡åº”ç­”æ–‡ä»¶",onOpenInEditor:Be,onPreview:We,onDownload:qe,onRegenerate:Le},null,8,["current-file"])):d("",!0),ke.value?(n(),u(re,{key:1,class:"editor-section",shadow:"never"},{default:c(()=>[i(y(C),{ref_key:"editorRef",ref:Ee,modelValue:Se.value,"onUpdate:modelValue":l[6]||(l[6]=e=>Se.value=e),title:"å•†åŠ¡åº”ç­”æ–‡æ¡£",streaming:Fe.value,height:1e3,onSave:Oe,onPreview:We,onExport:qe},null,8,["modelValue","streaming"])]),_:1})):d("",!0),ke.value&&Ve.value?(n(),u(xe,{key:2,modelValue:Ce.value,"onUpdate:modelValue":l[7]||(l[7]=e=>Ce.value=e),class:"result-collapse"},{default:c(()=>[i(Ie,{name:"result",title:"ğŸ“„ æŸ¥çœ‹åŸå§‹ç”Ÿæˆç»“æœ"},{default:c(()=>[i(re,{class:"result-section",shadow:"never"},{header:c(()=>[w("div",le,[w("span",null,g(Ve.value.isHistory?"ğŸ“„ å†å²åº”ç­”æ–‡ä»¶":"âœ… ç”Ÿæˆç»“æœ"),1),w("div",te,[i(ne,{type:"primary",icon:y(F),onClick:We},{default:c(()=>[...l[15]||(l[15]=[m(" é¢„è§ˆæ–‡æ¡£ ",-1)])]),_:1},8,["icon"]),i(ne,{type:"success",icon:y(I),onClick:qe},{default:c(()=>[...l[16]||(l[16]=[m(" ä¸‹è½½Wordæ–‡æ¡£ ",-1)])]),_:1},8,["icon"]),y(pe)?(n(),u(ie,{key:1,type:"success",size:"large"},{default:c(()=>[...l[18]||(l[18]=[m(" å·²åŒæ­¥åˆ°æŠ•æ ‡é¡¹ç›® ",-1)])]),_:1})):(n(),u(ne,{key:0,type:"info",icon:y(x),loading:y(ce),onClick:Me},{default:c(()=>[...l[17]||(l[17]=[m(" åŒæ­¥åˆ°æŠ•æ ‡é¡¹ç›® ",-1)])]),_:1},8,["icon","loading"])),i(ne,{type:"primary",icon:y(V),onClick:Le},{default:c(()=>[...l[19]||(l[19]=[m(" é‡æ–°ç”Ÿæˆ ",-1)])]),_:1},8,["icon"])])])]),default:c(()=>[w("div",oe,[i(s,{type:Ve.value.isHistory?"info":"success",title:Ve.value.message,closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},null,8,["type","title"]),i(y(T),{title:"å¤„ç†ç»Ÿè®¡",stats:Ve.value.stats},null,8,["stats"]),w("div",se,[l[20]||(l[20]=w("h4",null,"ç”Ÿæˆæ–‡ä»¶",-1)),i(ye,{column:2,border:""},{default:c(()=>[i(me,{label:"æ–‡ä»¶å"},{default:c(()=>[m(g(ze(Ve.value.outputFile)),1)]),_:1}),i(me,{label:"ä¸‹è½½åœ°å€"},{default:c(()=>[i(fe,{href:Ve.value.downloadUrl,type:"primary"},{default:c(()=>[m(g(ze(Ve.value.downloadUrl)),1)]),_:1},8,["href"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])):d("",!0),i(y(D),{modelValue:De.value,"onUpdate:modelValue":l[8]||(l[8]=e=>De.value=e),"file-url":null==(t=Ve.value)?void 0:t.downloadUrl,"file-name":`å•†åŠ¡åº”ç­”-${(null==(o=y(k))?void 0:o.project_name)||"æ–‡æ¡£"}.docx`},null,8,["modelValue","file-url","file-name"])])}}}),[["__scopeId","data-v-c0e1044f"]]);export{re as default};
