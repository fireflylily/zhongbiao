import{d as e,r as a,D as l,e as t,o as u,f as r,as as d,w as s,q as o,ak as n,ai as i,s as c,y as m,v as p,x as _,p as v,b9 as f,Y as b,W as y,g as h,n as g,aA as V,S as w,k,h as U,F as x,V as D,ad as I,aF as R,j,at as C,aR as E,ah as F,X as Y,t as q,l as z,aE as A,bc as M,bb as P,bn as T,bi as L,bh as N,bo as W,ae as B,u as G,M as J,ax as O,bf as X,bp as H,bq as K,b3 as S,aw as $}from"./vendor-CDDpMtwV.js";import{L as Q}from"./Loading-BuO92tsF.js";/* empty css                                                                          *//* empty css                                                                        */import{a as Z,_ as ee}from"./index.js";import{k as ae,a as le,f as te}from"./formatters-D-henrcx.js";import{b as ue,v as re,a as de}from"./validators-BHjNrE0Y.js";import{E as se}from"./Empty-B0AR3JW0.js";import{s as oe}from"./imageCompressor-CTkRt5bg.js";const ne={class:"resume-basic-info-tab"},ie=ee(e({__name:"ResumeBasicInfoTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:V}){const w=e,k=V,{success:U,error:x}=Z(),D=a(),I=a(!1),R=a({name:"",gender:"",birth_date:"",nationality:"",native_place:"",political_status:"",id_number:"",phone:"",email:"",address:"",introduction:""}),j={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:de,trigger:"blur"}],email:[{validator:re,trigger:"blur"}],id_number:[{validator:ue,trigger:"blur"}]};l(()=>w.resumeData,e=>{e&&(R.value={name:e.name||"",gender:e.gender||"",birth_date:e.birth_date||"",nationality:e.nationality||"",native_place:e.native_place||"",political_status:e.political_status||"",id_number:e.id_number||"",phone:e.phone||"",email:e.email||"",address:e.address||"",introduction:e.introduction||""})},{immediate:!0,deep:!0});const C=async()=>{D.value&&await D.value.validate(async e=>{if(e){I.value=!0;try{const e=await ae.updateResume(w.resumeId,R.value);e.success?(U("保存成功","基本信息已更新"),k("update")):x("保存失败",e.error||"未知错误")}catch(a){x("保存失败",a instanceof Error?a.message:"未知错误")}finally{I.value=!1}}})},E=()=>{var e;null==(e=D.value)||e.resetFields()};return(e,a)=>{const l=m,V=c,w=i,k=_,U=p,x=f,F=n,Y=y,q=b,z=h,A=o,M=d;return u(),t("div",ne,[r(M,null,{header:s(()=>[...a[11]||(a[11]=[g("span",null,"基本信息",-1)])]),default:s(()=>[r(A,{ref_key:"formRef",ref:D,model:R.value,rules:j,"label-width":"120px"},{default:s(()=>[r(F,{gutter:20},{default:s(()=>[r(w,{span:8},{default:s(()=>[r(V,{label:"姓名",prop:"name"},{default:s(()=>[r(l,{modelValue:R.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>R.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),r(w,{span:8},{default:s(()=>[r(V,{label:"性别",prop:"gender"},{default:s(()=>[r(U,{modelValue:R.value.gender,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value.gender=e)},{default:s(()=>[r(k,{label:"男"},{default:s(()=>[...a[12]||(a[12]=[v("男",-1)])]),_:1}),r(k,{label:"女"},{default:s(()=>[...a[13]||(a[13]=[v("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),r(w,{span:8},{default:s(()=>[r(V,{label:"出生日期",prop:"birth_date"},{default:s(()=>[r(x,{modelValue:R.value.birth_date,"onUpdate:modelValue":a[2]||(a[2]=e=>R.value.birth_date=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(F,{gutter:20},{default:s(()=>[r(w,{span:8},{default:s(()=>[r(V,{label:"民族",prop:"nationality"},{default:s(()=>[r(l,{modelValue:R.value.nationality,"onUpdate:modelValue":a[3]||(a[3]=e=>R.value.nationality=e),placeholder:"如：汉族"},null,8,["modelValue"])]),_:1})]),_:1}),r(w,{span:8},{default:s(()=>[r(V,{label:"籍贯",prop:"native_place"},{default:s(()=>[r(l,{modelValue:R.value.native_place,"onUpdate:modelValue":a[4]||(a[4]=e=>R.value.native_place=e),placeholder:"如：北京市"},null,8,["modelValue"])]),_:1})]),_:1}),r(w,{span:8},{default:s(()=>[r(V,{label:"政治面貌",prop:"political_status"},{default:s(()=>[r(q,{modelValue:R.value.political_status,"onUpdate:modelValue":a[5]||(a[5]=e=>R.value.political_status=e),placeholder:"请选择",style:{width:"100%"}},{default:s(()=>[r(Y,{label:"中共党员",value:"中共党员"}),r(Y,{label:"共青团员",value:"共青团员"}),r(Y,{label:"民主党派",value:"民主党派"}),r(Y,{label:"群众",value:"群众"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(F,{gutter:20},{default:s(()=>[r(w,{span:12},{default:s(()=>[r(V,{label:"身份证号",prop:"id_number"},{default:s(()=>[r(l,{modelValue:R.value.id_number,"onUpdate:modelValue":a[6]||(a[6]=e=>R.value.id_number=e),placeholder:"18位身份证号",maxlength:"18"},null,8,["modelValue"])]),_:1})]),_:1}),r(w,{span:12},{default:s(()=>[r(V,{label:"联系电话",prop:"phone"},{default:s(()=>[r(l,{modelValue:R.value.phone,"onUpdate:modelValue":a[7]||(a[7]=e=>R.value.phone=e),placeholder:"手机号码",maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(F,{gutter:20},{default:s(()=>[r(w,{span:12},{default:s(()=>[r(V,{label:"电子邮箱",prop:"email"},{default:s(()=>[r(l,{modelValue:R.value.email,"onUpdate:modelValue":a[8]||(a[8]=e=>R.value.email=e),placeholder:"邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1}),r(w,{span:12},{default:s(()=>[r(V,{label:"联系地址",prop:"address"},{default:s(()=>[r(l,{modelValue:R.value.address,"onUpdate:modelValue":a[9]||(a[9]=e=>R.value.address=e),placeholder:"详细地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(V,{label:"个人简介",prop:"introduction"},{default:s(()=>[r(l,{modelValue:R.value.introduction,"onUpdate:modelValue":a[10]||(a[10]=e=>R.value.introduction=e),type:"textarea",rows:4,placeholder:"请简要介绍个人经历、专长、优势等"},null,8,["modelValue"])]),_:1}),r(V,null,{default:s(()=>[r(z,{type:"primary",loading:I.value,onClick:C},{default:s(()=>[...a[14]||(a[14]=[v(" 保存 ",-1)])]),_:1},8,["loading"]),r(z,{onClick:E},{default:s(()=>[...a[15]||(a[15]=[v("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-9eb5d3ea"]]),ce={class:"resume-education-tab"},me=ee(e({__name:"ResumeEducationTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:p}){const _=e,V=p,{success:w,error:k}=Z(),U=a(),x=a(!1),D=a({education_level:"",degree:"",university:"",major:"",graduation_date:""});l(()=>_.resumeData,e=>{e&&(D.value={education_level:e.education_level||"",degree:e.degree||"",university:e.university||"",major:e.major||"",graduation_date:e.graduation_date||""})},{immediate:!0,deep:!0});const I=async()=>{if(U.value){x.value=!0;try{const e=await ae.updateResume(_.resumeId,D.value);e.success?(w("保存成功","教育信息已更新"),V("update")):k("保存失败",e.error||"未知错误")}catch(e){k("保存失败",e instanceof Error?e.message:"未知错误")}finally{x.value=!1}}},R=()=>{var e;null==(e=U.value)||e.resetFields()};return(e,a)=>{const l=y,p=b,_=c,V=i,w=n,k=m,j=f,C=h,E=o,F=d;return u(),t("div",ce,[r(F,null,{header:s(()=>[...a[5]||(a[5]=[g("span",null,"教育信息",-1)])]),default:s(()=>[r(E,{ref_key:"formRef",ref:U,model:D.value,"label-width":"120px"},{default:s(()=>[r(w,{gutter:20},{default:s(()=>[r(V,{span:12},{default:s(()=>[r(_,{label:"学历",prop:"education_level"},{default:s(()=>[r(p,{modelValue:D.value.education_level,"onUpdate:modelValue":a[0]||(a[0]=e=>D.value.education_level=e),placeholder:"请选择学历",style:{width:"100%"}},{default:s(()=>[r(l,{label:"博士",value:"博士"}),r(l,{label:"硕士",value:"硕士"}),r(l,{label:"本科",value:"本科"}),r(l,{label:"大专",value:"大专"}),r(l,{label:"高中",value:"高中"}),r(l,{label:"中专",value:"中专"}),r(l,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),r(V,{span:12},{default:s(()=>[r(_,{label:"学位",prop:"degree"},{default:s(()=>[r(p,{modelValue:D.value.degree,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value.degree=e),placeholder:"请选择学位",style:{width:"100%"}},{default:s(()=>[r(l,{label:"博士学位",value:"博士"}),r(l,{label:"硕士学位",value:"硕士"}),r(l,{label:"学士学位",value:"学士"}),r(l,{label:"无学位",value:"无"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(w,{gutter:20},{default:s(()=>[r(V,{span:12},{default:s(()=>[r(_,{label:"毕业院校",prop:"university"},{default:s(()=>[r(k,{modelValue:D.value.university,"onUpdate:modelValue":a[2]||(a[2]=e=>D.value.university=e),placeholder:"请输入毕业院校"},null,8,["modelValue"])]),_:1})]),_:1}),r(V,{span:12},{default:s(()=>[r(_,{label:"专业",prop:"major"},{default:s(()=>[r(k,{modelValue:D.value.major,"onUpdate:modelValue":a[3]||(a[3]=e=>D.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(w,{gutter:20},{default:s(()=>[r(V,{span:12},{default:s(()=>[r(_,{label:"毕业时间",prop:"graduation_date"},{default:s(()=>[r(j,{modelValue:D.value.graduation_date,"onUpdate:modelValue":a[4]||(a[4]=e=>D.value.graduation_date=e),type:"date",placeholder:"选择毕业日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(_,null,{default:s(()=>[r(C,{type:"primary",loading:x.value,onClick:I},{default:s(()=>[...a[6]||(a[6]=[v(" 保存 ",-1)])]),_:1},8,["loading"]),r(C,{onClick:R},{default:s(()=>[...a[7]||(a[7]=[v("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-15f0e911"]]),pe={class:"resume-work-tab"},_e=ee(e({__name:"ResumeWorkTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:p}){const _=e,f=p,{success:b,error:y}=Z(),w=a(),k=a(!1),U=a({current_position:"",professional_title:"",work_years:void 0,current_company:"",department:"",work_location:"",skills:"",certificates:"",awards:""});l(()=>_.resumeData,e=>{e&&(U.value={current_position:e.current_position||"",professional_title:e.professional_title||"",work_years:e.work_years,current_company:e.current_company||"",department:e.department||"",work_location:e.work_location||"",skills:e.skills||"",certificates:e.certificates||"",awards:e.awards||""})},{immediate:!0,deep:!0});const x=async()=>{if(w.value){k.value=!0;try{const e=await ae.updateResume(_.resumeId,U.value);e.success?(b("保存成功","工作信息已更新"),f("update")):y("保存失败",e.error||"未知错误")}catch(e){y("保存失败",e instanceof Error?e.message:"未知错误")}finally{k.value=!1}}},D=()=>{var e;null==(e=w.value)||e.resetFields()};return(e,a)=>{const l=m,p=c,_=i,f=n,b=V,y=h,I=o,R=d;return u(),t("div",pe,[r(R,null,{header:s(()=>[...a[9]||(a[9]=[g("span",null,"工作信息",-1)])]),default:s(()=>[r(I,{ref_key:"formRef",ref:w,model:U.value,"label-width":"120px"},{default:s(()=>[r(f,{gutter:20},{default:s(()=>[r(_,{span:12},{default:s(()=>[r(p,{label:"当前职位",prop:"current_position"},{default:s(()=>[r(l,{modelValue:U.value.current_position,"onUpdate:modelValue":a[0]||(a[0]=e=>U.value.current_position=e),placeholder:"如：项目经理"},null,8,["modelValue"])]),_:1})]),_:1}),r(_,{span:12},{default:s(()=>[r(p,{label:"职称",prop:"professional_title"},{default:s(()=>[r(l,{modelValue:U.value.professional_title,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value.professional_title=e),placeholder:"如：高级工程师"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(f,{gutter:20},{default:s(()=>[r(_,{span:12},{default:s(()=>[r(p,{label:"工作年限",prop:"work_years"},{default:s(()=>[r(b,{modelValue:U.value.work_years,"onUpdate:modelValue":a[2]||(a[2]=e=>U.value.work_years=e),min:0,max:50,placeholder:"年",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),r(_,{span:12},{default:s(()=>[r(p,{label:"当前单位",prop:"current_company"},{default:s(()=>[r(l,{modelValue:U.value.current_company,"onUpdate:modelValue":a[3]||(a[3]=e=>U.value.current_company=e),placeholder:"当前工作单位"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(f,{gutter:20},{default:s(()=>[r(_,{span:12},{default:s(()=>[r(p,{label:"所在部门",prop:"department"},{default:s(()=>[r(l,{modelValue:U.value.department,"onUpdate:modelValue":a[4]||(a[4]=e=>U.value.department=e),placeholder:"部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),r(_,{span:12},{default:s(()=>[r(p,{label:"工作地点",prop:"work_location"},{default:s(()=>[r(l,{modelValue:U.value.work_location,"onUpdate:modelValue":a[5]||(a[5]=e=>U.value.work_location=e),placeholder:"工作城市"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(p,{label:"技能特长",prop:"skills"},{default:s(()=>[r(l,{modelValue:U.value.skills,"onUpdate:modelValue":a[6]||(a[6]=e=>U.value.skills=e),type:"textarea",rows:3,placeholder:"请输入技能特长，多个技能用逗号分隔，如：项目管理,需求分析,Java开发"},null,8,["modelValue"])]),_:1}),r(p,{label:"证书列表",prop:"certificates"},{default:s(()=>[r(l,{modelValue:U.value.certificates,"onUpdate:modelValue":a[7]||(a[7]=e=>U.value.certificates=e),type:"textarea",rows:2,placeholder:"请输入证书名称，多个证书用逗号分隔，如：PMP,软考高级"},null,8,["modelValue"])]),_:1}),r(p,{label:"获奖情况",prop:"awards"},{default:s(()=>[r(l,{modelValue:U.value.awards,"onUpdate:modelValue":a[8]||(a[8]=e=>U.value.awards=e),type:"textarea",rows:2,placeholder:"请输入获奖情况"},null,8,["modelValue"])]),_:1}),r(p,null,{default:s(()=>[r(y,{type:"primary",loading:k.value,onClick:x},{default:s(()=>[...a[10]||(a[10]=[v(" 保存 ",-1)])]),_:1},8,["loading"]),r(y,{onClick:D},{default:s(()=>[...a[11]||(a[11]=[v("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-00b6bb2c"]]),ve={class:"resume-attachments-tab"},fe={class:"card-header"},be={key:2,class:"attachments-grid"},ye={class:"attachment-header"},he={class:"attachment-body"},ge=["title"],Ve={class:"file-info"},we={class:"file-size"},ke={class:"file-date"},Ue={key:0,class:"file-desc"},xe={class:"attachment-actions"},De=ee(e({__name:"ResumeAttachmentsTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(e,{emit:l}){const n=e,i=l,{success:p,error:_}=Z(),f=a(!1),V=a([]),G=a(!1),J=a(!1),O=a(),X=a(),H=a({attachment_category:"resume",description:"",file:null}),K={attachment_category:[{required:!0,message:"请选择附件类型",trigger:"change"}]},S=e=>{switch(e){case"resume":return B;case"id_card":return W;case"education":case"degree":return N;case"qualification":return L;case"award":return T;default:return P}},$=e=>{switch(e){case"resume":return"#409eff";case"id_card":return"#f56c6c";case"education":return"#67c23a";case"degree":return"#e6a23c";case"qualification":default:return"#909399";case"award":return"#ff9800"}},ee=e=>{switch(e){case"resume":return"primary";case"id_card":return"danger";case"education":return"success";case"degree":case"award":return"warning";default:return"info"}},ue=e=>{switch(e){case"resume":return"简历文件";case"id_card":return"身份证";case"education":return"学历证书";case"degree":return"学位证书";case"qualification":return"资质证书";case"award":return"获奖证书";default:return"其他材料"}},re=async()=>{f.value=!0;try{const e=await ae.getResumeAttachments(n.resumeId);e.success&&e.data&&(V.value=e.data)}catch(e){_("加载失败",e instanceof Error?e.message:"未知错误")}finally{f.value=!1}},de=e=>{e.raw&&(H.value.file=e.raw)},ne=()=>{G.value=!0},ie=async()=>{O.value&&await O.value.validate(async e=>{var a;if(e)if(H.value.file){J.value=!0;try{let e=H.value.file;if(e.type.startsWith("image/")){const a="id_card"===H.value.attachment_category?"id_card":"photo";e=await oe(e,a)}const l=await ae.uploadResumeAttachment(n.resumeId,e,H.value.attachment_category,H.value.description||void 0);l.success?(p("上传成功","附件已上传"),G.value=!1,null==(a=X.value)||a.clearFiles(),H.value={attachment_category:"resume",description:"",file:null},await re(),i("update")):_("上传失败",l.error||"未知错误")}catch(l){_("上传失败",l instanceof Error?l.message:"未知错误")}finally{J.value=!1}}else _("请选择文件","请先选择要上传的文件")})};return w(()=>{re()}),(e,a)=>{const l=I,n=h,w=Y,P=d,T=y,L=b,N=c,W=m,B=C,Z=o,oe=j;return u(),t("div",ve,[r(P,null,{header:s(()=>[g("div",fe,[a[5]||(a[5]=g("span",null,"简历附件",-1)),r(n,{type:"primary",size:"small",onClick:ne},{default:s(()=>[r(l,null,{default:s(()=>[r(U(R))]),_:1}),a[4]||(a[4]=v(" 上传附件 ",-1))]),_:1})])]),default:s(()=>[f.value?(u(),k(U(Q),{key:0,text:"加载附件中..."})):V.value.length?(u(),t("div",be,[(u(!0),t(x,null,D(V.value,e=>(u(),t("div",{key:e.attachment_id,class:"attachment-card"},[g("div",ye,[r(l,{size:32,color:$(e.attachment_category)},{default:s(()=>[(u(),k(F(S(e.attachment_category))))]),_:2},1032,["color"]),r(w,{type:ee(e.attachment_category),size:"small"},{default:s(()=>[v(q(ue(e.attachment_category)),1)]),_:2},1032,["type"])]),g("div",he,[g("div",{class:"file-name",title:e.original_filename},q(e.original_filename),9,ge),g("div",Ve,[g("span",we,q(U(le)(e.file_size)),1),g("span",ke,q(U(te)(e.uploaded_at,"date")),1)]),e.attachment_description?(u(),t("div",Ue,q(e.attachment_description),1)):z("",!0)]),g("div",xe,[r(n,{size:"small",onClick:a=>(e=>{const a=ae.downloadResumeAttachment(e.attachment_id);window.open(a,"_blank")})(e)},{default:s(()=>[r(l,null,{default:s(()=>[r(U(A))]),_:1}),a[6]||(a[6]=v(" 下载 ",-1))]),_:1},8,["onClick"]),r(n,{size:"small",type:"danger",onClick:a=>(async e=>{try{if(!confirm(`确定要删除附件 "${e.original_filename}" 吗？`))return;const a=await ae.deleteResumeAttachment(e.attachment_id);a.success?(p("删除成功","附件已删除"),await re(),i("update")):_("删除失败",a.error||"未知错误")}catch(a){_("删除失败",a instanceof Error?a.message:"未知错误")}})(e)},{default:s(()=>[r(l,null,{default:s(()=>[r(U(M))]),_:1}),a[7]||(a[7]=v(" 删除 ",-1))]),_:1},8,["onClick"])])]))),128))])):(u(),k(U(se),{key:1,type:"no-data",description:"暂无附件"}))]),_:1}),r(oe,{modelValue:G.value,"onUpdate:modelValue":a[3]||(a[3]=e=>G.value=e),title:"上传简历附件",width:"500px"},{footer:s(()=>[r(n,{onClick:a[2]||(a[2]=e=>G.value=!1)},{default:s(()=>[...a[10]||(a[10]=[v("取消",-1)])]),_:1}),r(n,{type:"primary",loading:J.value,onClick:ie},{default:s(()=>[...a[11]||(a[11]=[v(" 确定上传 ",-1)])]),_:1},8,["loading"])]),default:s(()=>[r(Z,{ref_key:"uploadFormRef",ref:O,model:H.value,rules:K,"label-width":"120px"},{default:s(()=>[r(N,{label:"附件类型",prop:"attachment_category"},{default:s(()=>[r(L,{modelValue:H.value.attachment_category,"onUpdate:modelValue":a[0]||(a[0]=e=>H.value.attachment_category=e),placeholder:"请选择附件类型",style:{width:"100%"}},{default:s(()=>[r(T,{label:"简历文件",value:"resume"}),r(T,{label:"身份证",value:"id_card"}),r(T,{label:"学历证书",value:"education"}),r(T,{label:"学位证书",value:"degree"}),r(T,{label:"资质证书",value:"qualification"}),r(T,{label:"获奖证书",value:"award"}),r(T,{label:"其他材料",value:"other"})]),_:1},8,["modelValue"])]),_:1}),r(N,{label:"附件说明",prop:"description"},{default:s(()=>[r(W,{modelValue:H.value.description,"onUpdate:modelValue":a[1]||(a[1]=e=>H.value.description=e),type:"textarea",rows:2,placeholder:"请简要说明附件内容（可选）"},null,8,["modelValue"])]),_:1}),r(N,{label:"选择文件",prop:"file"},{default:s(()=>[r(B,{ref_key:"uploadRef",ref:X,"auto-upload":!1,limit:1,"on-change":de,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",drag:""},{tip:s(()=>[...a[8]||(a[8]=[g("div",{class:"el-upload__tip"}," 支持PDF、DOC、DOCX、JPG、PNG格式，文件大小不超过20MB ",-1)])]),default:s(()=>[r(l,{class:"el-icon--upload"},{default:s(()=>[r(U(E))]),_:1}),a[9]||(a[9]=g("div",{class:"el-upload__text"},[v(" 拖拽文件到这里 或 "),g("em",null,"点击上传")],-1))]),_:1},512)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-686973bc"]]),Ie={class:"resume-detail"},Re={class:"detail-header"},je={class:"header-title"},Ce={key:1,class:"detail-content"},Ee={class:"tab-label"},Fe={class:"tab-label"},Ye={class:"tab-label"},qe={class:"tab-label"},ze=ee(e({__name:"ResumeDetail",setup(e){const l=G(),d=J(),{error:o}=Z(),n=a(!1),i=a("basic"),c=a(0),m=a({}),p=e=>{switch(e){case"active":return"success";case"inactive":return"warning";default:return"info"}},_=e=>{switch(e){case"active":return"活跃";case"inactive":return"离职";case"archived":return"已归档";default:return e}},f=async()=>{n.value=!0;try{const e=await ae.getResume(c.value);e.success&&e.data?m.value=e.data:(o("加载失败","无法获取简历信息"),V())}catch(e){o("加载失败",e instanceof Error?e.message:"未知错误"),V()}finally{n.value=!1}},b=e=>{},y=async()=>{await f()},V=()=>{d.push("/knowledge/resume-library")};return w(()=>{const e=l.params.id;if(e){if(c.value=parseInt(e,10),isNaN(c.value))return o("参数错误","无效的简历ID"),void V();f()}else o("参数错误","缺少简历ID"),V()}),(e,a)=>{const l=h,d=Y,o=I,f=O,w=$;return u(),t("div",Ie,[g("div",Re,[r(l,{onClick:V,icon:"ArrowLeft"},{default:s(()=>[...a[1]||(a[1]=[v("返回列表",-1)])]),_:1}),g("div",je,[g("h2",null,q(m.value.name||"简历详情"),1),m.value.education_level?(u(),k(d,{key:0,type:(x=m.value.education_level,"博士"===x?"danger":"硕士"===x?"warning":"本科"===x?"success":"info")},{default:s(()=>[v(q(m.value.education_level),1)]),_:1},8,["type"])):z("",!0),m.value.current_position?(u(),k(d,{key:1,type:"info"},{default:s(()=>[v(q(m.value.current_position),1)]),_:1})):z("",!0),m.value.status?(u(),k(d,{key:2,type:p(m.value.status)},{default:s(()=>[v(q(_(m.value.status)),1)]),_:1},8,["type"])):z("",!0)])]),n.value?(u(),k(U(Q),{key:0,text:"加载简历信息中..."})):(u(),t("div",Ce,[r(w,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),class:"resume-tabs",onTabChange:b},{default:s(()=>[r(f,{name:"basic"},{label:s(()=>[g("span",Ee,[r(o,null,{default:s(()=>[r(U(X))]),_:1}),a[2]||(a[2]=v(" 基本信息 ",-1))])]),default:s(()=>[r(ie,{"resume-id":c.value,"resume-data":m.value,onUpdate:y},null,8,["resume-id","resume-data"])]),_:1}),r(f,{name:"education"},{label:s(()=>[g("span",Fe,[r(o,null,{default:s(()=>[r(U(H))]),_:1}),a[3]||(a[3]=v(" 教育信息 ",-1))])]),default:s(()=>[r(me,{"resume-id":c.value,"resume-data":m.value,onUpdate:y},null,8,["resume-id","resume-data"])]),_:1}),r(f,{name:"work"},{label:s(()=>[g("span",Ye,[r(o,null,{default:s(()=>[r(U(K))]),_:1}),a[4]||(a[4]=v(" 工作信息 ",-1))])]),default:s(()=>[r(_e,{"resume-id":c.value,"resume-data":m.value,onUpdate:y},null,8,["resume-id","resume-data"])]),_:1}),r(f,{name:"attachments"},{label:s(()=>[g("span",qe,[r(o,null,{default:s(()=>[r(U(S))]),_:1}),a[5]||(a[5]=v(" 附件管理 ",-1))])]),default:s(()=>[r(De,{"resume-id":c.value,"resume-data":m.value,onUpdate:y},null,8,["resume-id","resume-data"])]),_:1})]),_:1},8,["modelValue"])]))]);var x}}}),[["__scopeId","data-v-2d29e80e"]]);export{ze as default};
