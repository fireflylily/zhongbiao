import{C as e,a,c as l,o as t,M as s,L as r,p as u,n as c,j as o,h as d,N as n,S as i,T as v,H as p,I as m,i as _}from"./vendor-element-plus-CEQaQHNc.js";import{c$ as h,c_ as y,eV as f,es as b}from"./vendor-other-CxXkF0Pk.js";/* empty css                                                                          */import{C as g}from"./Card-CKMHDauo.js";import"./vendor-editor-CGvuleas.js";/* empty css                                                                        */import"./vendor-dayjs-CeOjnJlt.js";import{e as k,_ as w}from"./index.js";import{d as x,a as z,aM as C,P as F,M as V,O as T,Q as R,W as $,R as j,L as I,N as A,c as L,I as U,F as W,V as H,Z as P,r as D,H as G,b as M}from"./vendor-vue-DnBj6vzG.js";import"./vendor-echarts-C00rBISf.js";import"./vendor-axios-BG7aBJwU.js";const B={uploadDocument:function(e){const a=new FormData;return a.append("file",e),k.post("/parser-debug/upload",a,{headers:{"Content-Type":"multipart/form-data"}})},getTestResult:function(e){return k.get(`/parser-debug/${e}`)},saveGroundTruth:function(e,a,l="user"){return k.post(`/parser-debug/${e}/ground-truth`,{chapters:a,annotator:l})},getHistory:function(e){return k.get("/parser-debug/history",{params:e})},deleteTest:function(e){return k.delete(`/parser-debug/${e}/delete`)},exportReport:function(e){return k.get(`/parser-debug/export/${e}`,{responseType:"blob"})}},E={class:"chapter-title"},S={class:"chapter-info"},N={class:"word-count"},O={key:0,class:"children"},Q=w(x({__name:"ChapterTreeItem",props:{chapter:{},groundTruth:{},level:{}},setup(a){const l=a,t=z(()=>{if(!l.groundTruth)return"unknown";const e=a=>{const l=[];for(const t of a)l.push(t),t.children&&t.children.length>0&&l.push(...e(t.children));return l},a=e(l.groundTruth),t=e=>e.replace(/^\d+\.\s*/,"").replace(/^\d+\.\d+\s*/,"").replace(/^ç¬¬[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å\d]+[ç« èŠ‚éƒ¨åˆ†]\s*/,"").replace(/\s+/g,"").toLowerCase(),s=t(l.chapter.title);return a.some(e=>t(e.title)===s)?"matched":"false_positive"}),s=z(()=>({"status-matched":"matched"===t.value,"status-false-positive":"false_positive"===t.value,"status-unknown":"unknown"===t.value}));return(l,r)=>{const u=e,c=C("ChapterTreeItem",!0);return V(),F("div",{class:"chapter-tree-item",style:P({paddingLeft:20*a.level+"px"})},[T("div",{class:$(["chapter-row",s.value])},[T("span",{class:$(["level-badge",`level-${a.chapter.level}`])}," L"+j(a.chapter.level),3),T("span",E,j(a.chapter.title),1),T("span",S,[T("span",N,j(a.chapter.word_count)+"å­—",1),"matched"===t.value?(V(),I(u,{key:0,class:"match-icon success"},{default:A(()=>[L(U(h))]),_:1})):"missed"===t.value?(V(),I(u,{key:1,class:"match-icon error"},{default:A(()=>[L(U(y))]),_:1})):"false_positive"===t.value?(V(),I(u,{key:2,class:"match-icon warning"},{default:A(()=>[L(U(f))]),_:1})):R("",!0)])],2),a.chapter.children&&a.chapter.children.length>0?(V(),F("div",O,[(V(!0),F(W,null,H(a.chapter.children,e=>(V(),I(c,{key:e.id,chapter:e,"ground-truth":a.groundTruth,level:a.level+1},null,8,["chapter","ground-truth","level"]))),128))])):R("",!0)],4)}}}),[["__scopeId","data-v-3e35c8e3"]]),Z={class:"card-header"},q={class:"card-body"},J={class:"statistics"},K={class:"stat-item"},X={class:"value"},Y={class:"stat-item"},ee={class:"value"},ae={class:"stat-item"},le={class:"value"},te={key:0,class:"stat-item"},se={class:"chapter-list"},re={class:"chapter-list-header"},ue={key:0,class:"error-message"},ce=w(x({__name:"MethodCard",props:{title:{},result:{},groundTruth:{},accuracy:{},color:{default:"#409EFF"}},setup(e){const r=e,u=D(!1),c=z(()=>r.result.success?r.accuracy?r.accuracy.f1_score>=.9?"success":r.accuracy.f1_score>=.7?"":r.accuracy.f1_score>=.5?"warning":"danger":"info":"danger"),o=z(()=>r.result.success?r.accuracy?`F1: ${(100*r.accuracy.f1_score).toFixed(1)}%`:"æˆåŠŸ":"å¤±è´¥"),d=()=>{u.value=!u.value};return(r,n)=>{const i=t,v=a,p=l,m=s;return V(),I(m,{class:"method-card","body-style":{padding:"0"}},{header:A(()=>[T("div",Z,[T("span",{class:"method-title",style:P({color:e.color})},j(e.title),5),L(i,{type:c.value,size:"small"},{default:A(()=>[G(j(o.value),1)]),_:1},8,["type"])])]),default:A(()=>{var a,l,t,s,r;return[T("div",q,[T("div",J,[T("div",K,[n[0]||(n[0]=T("span",{class:"label"},"è¯†åˆ«ç« èŠ‚:",-1)),T("span",X,j((null==(a=e.result.chapters)?void 0:a.length)||0),1)]),T("div",Y,[n[1]||(n[1]=T("span",{class:"label"},"æ€»å­—æ•°:",-1)),T("span",ee,j((r=(null==(l=e.result.statistics)?void 0:l.total_words)||0,r>=1e4?`${(r/1e4).toFixed(1)}ä¸‡`:r.toString())),1)]),T("div",ae,[n[2]||(n[2]=T("span",{class:"label"},"è€—æ—¶:",-1)),T("span",le,j((null==(t=e.result.performance)?void 0:t.elapsed_formatted)||"-"),1)]),e.accuracy?(V(),F("div",te,[n[3]||(n[3]=T("span",{class:"label"},"F1åˆ†æ•°:",-1)),T("span",{class:$(["value f1-score",(s=e.accuracy.f1_score,s>=.9?"excellent":s>=.7?"good":s>=.5?"fair":"poor")])},j((100*e.accuracy.f1_score).toFixed(1))+"% ",3)])):R("",!0)]),T("div",se,[T("div",re,[n[4]||(n[4]=T("span",null,"ç« èŠ‚åˆ—è¡¨",-1)),L(v,{size:"small",text:"",onClick:d},{default:A(()=>[G(j(u.value?"æ”¶èµ·":"å±•å¼€å…¨éƒ¨"),1)]),_:1})]),e.result.success?(V(),F("div",{key:1,class:$(["chapters-container",{collapsed:!u.value}])},[(V(!0),F(W,null,H(e.result.chapters,a=>(V(),I(Q,{key:a.id,chapter:a,"ground-truth":e.groundTruth,level:0},null,8,["chapter","ground-truth"]))),128))],2)):(V(),F("div",ue,[L(p,{title:e.result.error||"è§£æå¤±è´¥",type:"error",closable:!1},null,8,["title"])]))])])]}),_:1})}}}),[["__scopeId","data-v-04b838bf"]]),oe={class:"card-header"},de={key:1,class:"action-buttons"},ne={class:"card-body"},ie={key:0,class:"empty-state"},ve={key:1,class:"editing-area"},pe={class:"template-selector mb-3"},me={class:"editable-list"},_e={key:2,class:"display-area"},he={class:"chapter-count"},ye={class:"chapters-container"},fe=w(x({__name:"GroundTruthCard",props:{modelValue:{},documentId:{},availableResults:{}},emits:["update:modelValue","save"],setup(e,{emit:t}){const n=e,i=t,v=D(!1),p=D([]),m=D(""),_=()=>{v.value=!0,n.modelValue?p.value=g(n.modelValue):p.value=[]},h=()=>{v.value=!1,p.value=[],m.value=""},y=()=>{if(0===p.value.length)return void o.warning("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªç« èŠ‚");const e=p.value.map((e,a)=>({id:`gt_${a}`,level:e.level,title:e.title,para_start_idx:0,para_end_idx:0,word_count:0,preview_text:"",auto_selected:!1,skip_recommended:!1,children:[]}));i("update:modelValue",e),i("save",e),v.value=!1},f=e=>{if("manual"===e)return void(p.value=[]);if(!n.availableResults||!n.availableResults[e])return void o.warning("è¯¥æ–¹æ³•çš„ç»“æœä¸å¯ç”¨");const a=n.availableResults[e];a.success&&a.chapters?(p.value=g(a.chapters),o.success(`å·²åŠ è½½${a.method_name}çš„ç»“æœ`)):o.error("è¯¥æ–¹æ³•è§£æå¤±è´¥")},b=()=>{p.value.push({title:"",level:1})},g=e=>{const a=[],l=e=>{for(const t of e)a.push({title:t.title,level:t.level}),t.children&&t.children.length>0&&l(t.children)};return l(e),a},k=e=>{if(!e)return 0;let a=0;const l=e=>{for(const t of e)a++,t.children&&t.children.length>0&&l(t.children)};return l(e),a};return(t,o)=>{const n=a,i=r,g=l,w=c,x=u,z=d,C=s;return V(),I(C,{class:"ground-truth-card"},{header:A(()=>[T("div",oe,[o[3]||(o[3]=T("span",{class:"title"},"âœ… æ­£ç¡®ç­”æ¡ˆï¼ˆäººå·¥æ ‡æ³¨ï¼‰",-1)),v.value?(V(),F("div",de,[L(n,{size:"small",onClick:h},{default:A(()=>[...o[1]||(o[1]=[G("å–æ¶ˆ",-1)])]),_:1}),L(n,{size:"small",type:"success",onClick:y},{default:A(()=>[...o[2]||(o[2]=[G("ä¿å­˜",-1)])]),_:1})])):(V(),I(n,{key:0,size:"small",type:"primary",onClick:_},{default:A(()=>[G(j(e.modelValue?"ç¼–è¾‘æ ‡æ³¨":"å¼€å§‹æ ‡æ³¨"),1)]),_:1}))])]),default:A(()=>[T("div",ne,[e.modelValue||v.value?v.value?(V(),F("div",ve,[L(g,{title:"æ ‡æ³¨è¯´æ˜",type:"info",closable:!1,class:"mb-3"},{default:A(()=>[...o[5]||(o[5]=[T("p",null,"è¯·ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ–¹æ³•çš„ç»“æœä½œä¸ºåŸºç¡€ï¼Œç„¶åè°ƒæ•´ç« èŠ‚åˆ—è¡¨ã€‚",-1),T("p",null,"æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹ç« èŠ‚ã€‚",-1)])]),_:1}),T("div",pe,[o[6]||(o[6]=T("span",null,"åŸºäºæ–¹æ³•ç»“æœ:",-1)),L(x,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value=e),placeholder:"é€‰æ‹©æ–¹æ³•",onChange:f},{default:A(()=>{var a,l;return[L(w,{label:"è¯­ä¹‰é”šç‚¹è§£æ",value:"semantic"}),L(w,{label:"æ—§ç›®å½•å®šä½",value:"old_toc"}),L(w,{label:"æ ·å¼è¯†åˆ«",value:"style"}),L(w,{label:"å¤§çº²çº§åˆ«è¯†åˆ«",value:"outline"}),(null==(l=null==(a=e.availableResults)?void 0:a.azure)?void 0:l.success)?(V(),I(w,{key:0,label:"Azure Form Recognizer",value:"azure"})):R("",!0),L(w,{label:"æ‰‹åŠ¨åˆ›å»º",value:"manual"})]}),_:1},8,["modelValue"])]),T("div",me,[L(n,{size:"small",onClick:b,class:"mb-2"},{default:A(()=>[...o[7]||(o[7]=[G(" + æ·»åŠ ç« èŠ‚ ",-1)])]),_:1}),(V(!0),F(W,null,H(p.value,(e,a)=>(V(),F("div",{key:a,class:"editable-chapter"},[L(z,{modelValue:e.title,"onUpdate:modelValue":a=>e.title=a,placeholder:"ç« èŠ‚æ ‡é¢˜",size:"small"},{prepend:A(()=>[L(x,{modelValue:e.level,"onUpdate:modelValue":a=>e.level=a,style:{width:"80px"},size:"small"},{default:A(()=>[L(w,{label:"L1",value:1}),L(w,{label:"L2",value:2}),L(w,{label:"L3",value:3})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),L(n,{size:"small",type:"danger",text:"",onClick:e=>(e=>{p.value.splice(e,1)})(a)},{default:A(()=>[...o[8]||(o[8]=[G(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])]))),128))])])):(V(),F("div",_e,[T("div",he," å…± "+j(k(e.modelValue))+" ä¸ªç« èŠ‚ ",1),T("div",ye,[(V(!0),F(W,null,H(e.modelValue,e=>(V(),I(Q,{key:e.id,chapter:e,level:0},null,8,["chapter"]))),128))])])):(V(),F("div",ie,[L(i,{description:"å°šæœªæ ‡æ³¨æ­£ç¡®ç­”æ¡ˆ"},{default:A(()=>[L(n,{type:"primary",onClick:_},{default:A(()=>[...o[4]||(o[4]=[G("å¼€å§‹æ ‡æ³¨",-1)])]),_:1})]),_:1})]))])]),_:1})}}}),[["__scopeId","data-v-d2bcdc40"]]),be={class:"parser-comparison"},ge={class:"upload-section"},ke={key:0,class:"selected-file"},we={key:0,class:"doc-info"},xe={key:1,class:"comparison-grid"},ze={key:2,class:"accuracy-section"},Ce={class:"best-method-summary"},Fe={class:"history-section"},Ve={class:"section-header"},Te={key:1,class:"text-muted"},Re={key:1,class:"text-muted"},$e={key:1,class:"text-muted"},je={key:1,class:"text-muted"},Ie={key:1,class:"text-muted"},Ae={key:0},Le={style:{"font-size":"12px","margin-top":"4px",color:"#606266"}},Ue={key:1,class:"text-muted"},We={key:0,class:"empty-state"},He=w(x({__name:"ParserComparison",setup(e){const s=D(),u=D(null),c=D(!1),d=D(""),h=D(null),y=D(null),f=D(null),k=D(null),w=D(!1),x=D([]),C=e=>{u.value=e.raw},W=async()=>{var e,a;if(u.value){c.value=!0;try{const e=await B.uploadDocument(u.value),a=e.data||e;a&&a.success?(d.value=a.document_id,h.value=a.document_info,y.value=a.results,f.value=a.ground_truth||null,k.value=a.accuracy||null,o.success("è§£æå®Œæˆï¼")):o.error((null==a?void 0:a.error)||"è§£æå¤±è´¥")}catch(l){o.error((null==(a=null==(e=l.response)?void 0:e.data)?void 0:a.error)||l.message||"è§£æå¤±è´¥")}finally{c.value=!1}}else o.warning("è¯·å…ˆé€‰æ‹©æ–‡ä»¶")},H=async e=>{if(d.value)try{const a=await B.saveGroundTruth(d.value,e,"user");a.data.success&&(k.value=a.data.accuracy,o.success("æ ‡æ³¨å·²ä¿å­˜ï¼Œå‡†ç¡®ç‡å·²è®¡ç®—"))}catch(a){o.error("ä¿å­˜å¤±è´¥")}else o.error("æ²¡æœ‰å½“å‰æ–‡æ¡£")},P=async()=>{try{const e=await B.getHistory({limit:50});x.value=e.data.tests}catch(e){o.error("åŠ è½½å†å²è®°å½•å¤±è´¥")}},E=async()=>{await P(),w.value=!0},S=z(()=>{if(!k.value||!y.value)return[];return[{key:"semantic",name:"è¯­ä¹‰é”šç‚¹è§£æ"},{key:"style",name:"æ ·å¼è¯†åˆ«(å¢å¼º)"},{key:"hybrid",name:"æ··åˆå¯å‘å¼è¯†åˆ«"},{key:"azure",name:"Azure Form Recognizer"},{key:"docx_native",name:"Wordå¤§çº²çº§åˆ«è¯†åˆ«"}].filter(({key:e})=>y.value[e]).map(({key:e,name:a})=>{var l,t,s,r,u,c,o;return{method:a,precision:(null==(l=k.value[e])?void 0:l.precision)||0,recall:(null==(t=k.value[e])?void 0:t.recall)||0,f1:(null==(s=k.value[e])?void 0:s.f1_score)||0,detected:(null==(u=null==(r=y.value[e])?void 0:r.chapters)?void 0:u.length)||0,elapsed:(null==(o=null==(c=y.value[e])?void 0:c.performance)?void 0:o.elapsed_formatted)||"-",is_best:k.value.best_method===e}})}),N=e=>e>=.9?"score-excellent":e>=.7?"score-good":e>=.5?"score-fair":"score-poor",O=()=>{var e;return{semantic:"è¯­ä¹‰é”šç‚¹è§£æ",style:"æ ·å¼è¯†åˆ«(å¢å¼º)",hybrid:"æ··åˆå¯å‘å¼è¯†åˆ«",azure:"Azure Form Recognizer",docx_native:"Wordå¤§çº²çº§åˆ«è¯†åˆ«"}[null==(e=k.value)?void 0:e.best_method]||"æœªçŸ¥"};return M(async()=>{await P()}),(e,z)=>{const D=a,M=n,Q=v,Z=t,q=i,J=m,K=p,X=l,Y=r;return V(),F("div",be,[L(U(g),{title:"ğŸ“Š ç›®å½•è§£ææ–¹æ³•å¯¹æ¯”å·¥å…·"},{extra:A(()=>[L(D,{onClick:E,type:"text"},{default:A(()=>[...z[1]||(z[1]=[G("å†å²è®°å½•",-1)])]),_:1})]),default:A(()=>{var e,a,l,t,r;return[T("div",ge,[L(M,{ref_key:"uploadRef",ref:s,"auto-upload":!1,"on-change":C,"show-file-list":!1,accept:".docx"},{default:A(()=>[L(D,{type:"primary",icon:U(b)},{default:A(()=>[...z[2]||(z[2]=[G("é€‰æ‹©æ ‡ä¹¦æ–‡æ¡£ (.docx)",-1)])]),_:1},8,["icon"])]),_:1},512),u.value?(V(),F("span",ke," å·²é€‰æ‹©: "+j(u.value.name),1)):R("",!0),L(D,{onClick:W,loading:c.value,disabled:!u.value,type:"success"},{default:A(()=>[...z[3]||(z[3]=[G(" å¼€å§‹è§£æå¯¹æ¯” ",-1)])]),_:1},8,["loading","disabled"])]),h.value?(V(),F("div",we,[L(q,{column:4,border:""},{default:A(()=>[L(Q,{label:"æ–‡ä»¶å"},{default:A(()=>[G(j(h.value.filename),1)]),_:1}),L(Q,{label:"æ€»æ®µè½æ•°"},{default:A(()=>[G(j(h.value.total_paragraphs),1)]),_:1}),L(Q,{label:"ç›®å½•æ£€æµ‹"},{default:A(()=>[L(Z,{type:h.value.has_toc?"success":"warning"},{default:A(()=>[G(j(h.value.has_toc?`âœ“ æ£€æµ‹åˆ° (${h.value.toc_items_count}é¡¹)`:"âœ— æœªæ£€æµ‹åˆ°"),1)]),_:1},8,["type"])]),_:1}),L(Q,{label:"ä¸Šä¼ æ—¶é—´"},{default:A(()=>[G(j(h.value.upload_time||"-"),1)]),_:1})]),_:1})])):R("",!0),y.value?(V(),F("div",xe,[L(ce,{title:"æ–¹æ³•1: è¯­ä¹‰é”šç‚¹è§£æ",result:y.value.semantic,"ground-truth":f.value,accuracy:null==(e=k.value)?void 0:e.semantic,color:"#67C23A"},null,8,["result","ground-truth","accuracy"]),L(ce,{title:"æ–¹æ³•2: æ ·å¼è¯†åˆ«(å¢å¼º)",result:y.value.style,"ground-truth":f.value,accuracy:null==(a=k.value)?void 0:a.style,color:"#409EFF"},null,8,["result","ground-truth","accuracy"]),L(ce,{title:"æ–¹æ³•3: æ··åˆå¯å‘å¼è¯†åˆ«",result:y.value.hybrid,"ground-truth":f.value,accuracy:null==(l=k.value)?void 0:l.hybrid,color:"#E6A23C"},null,8,["result","ground-truth","accuracy"]),y.value.azure?(V(),I(ce,{key:0,title:"æ–¹æ³•4: Azure Form Recognizer",result:y.value.azure,"ground-truth":f.value,accuracy:null==(t=k.value)?void 0:t.azure,color:"#00B7C3"},null,8,["result","ground-truth","accuracy"])):R("",!0),y.value.docx_native?(V(),I(ce,{key:1,title:"æ–¹æ³•5: Wordå¤§çº²çº§åˆ«è¯†åˆ«",result:y.value.docx_native,"ground-truth":f.value,accuracy:null==(r=k.value)?void 0:r.docx_native,color:"#9C27B0"},null,8,["result","ground-truth","accuracy"])):R("",!0),L(fe,{modelValue:f.value,"onUpdate:modelValue":z[0]||(z[0]=e=>f.value=e),"document-id":d.value,"available-results":y.value,onSave:H},null,8,["modelValue","document-id","available-results"])])):R("",!0),k.value?(V(),F("div",ze,[z[5]||(z[5]=T("h3",null,"å‡†ç¡®ç‡å¯¹æ¯”",-1)),L(K,{data:S.value,border:"",stripe:""},{default:A(()=>[L(J,{prop:"method",label:"è§£ææ–¹æ³•",width:"180"}),L(J,{prop:"precision",label:"ç²¾ç¡®ç‡ (P)",width:"120"},{default:A(({row:e})=>[T("span",{class:$(N(e.precision))},j((100*e.precision).toFixed(1))+"% ",3)]),_:1}),L(J,{prop:"recall",label:"å¬å›ç‡ (R)",width:"120"},{default:A(({row:e})=>[T("span",{class:$(N(e.recall))},j((100*e.recall).toFixed(1))+"% ",3)]),_:1}),L(J,{prop:"f1",label:"F1åˆ†æ•°",width:"120"},{default:A(({row:e})=>{return[L(Z,{type:(a=e.f1,a>=.9?"success":a>=.7?"":a>=.5?"warning":"danger"),effect:"dark"},{default:A(()=>[G(j((100*e.f1).toFixed(1))+"% ",1)]),_:2},1032,["type"])];var a}),_:1}),L(J,{prop:"detected",label:"è¯†åˆ«æ•°é‡",width:"100"}),L(J,{prop:"elapsed",label:"è€—æ—¶",width:"100"}),L(J,{label:"çŠ¶æ€",width:"100"},{default:A(({row:e})=>[e.is_best?(V(),I(Z,{key:0,type:"success"},{default:A(()=>[...z[4]||(z[4]=[G("æœ€ä½³",-1)])]),_:1})):R("",!0)]),_:1})]),_:1},8,["data"]),T("div",Ce,[L(X,{title:`æœ€ä½³æ–¹æ³•: ${O()} (F1åˆ†æ•°: ${(100*k.value.best_f1_score).toFixed(1)}%)`,type:"success",closable:!1},null,8,["title"])])])):R("",!0),T("div",Fe,[T("div",Ve,[z[7]||(z[7]=T("h3",null,"ğŸ“‹ å†å²è§£æè®°å½•",-1)),L(D,{onClick:P,icon:U(b),size:"small"},{default:A(()=>[...z[6]||(z[6]=[G(" åˆ·æ–°åˆ—è¡¨ ",-1)])]),_:1},8,["icon"])]),L(K,{data:x.value,border:"",stripe:""},{default:A(()=>[L(J,{prop:"filename",label:"æ–‡ä»¶å","min-width":"200"}),L(J,{prop:"upload_time",label:"è§£ææ—¶é—´",width:"180"}),L(J,{label:"ç›®å½•æ£€æµ‹",width:"100",align:"center"},{default:A(({row:e})=>[L(Z,{type:e.has_toc?"success":"info",size:"small"},{default:A(()=>[G(j(e.has_toc?`âœ“ (${e.toc_items_count})`:"âœ—"),1)]),_:2},1032,["type"])]),_:1}),L(J,{label:"è¯­ä¹‰é”šç‚¹",width:"100",align:"center"},{default:A(({row:e})=>[e.semantic_f1?(V(),F("span",{key:0,class:$(N(e.semantic_f1))},j((100*e.semantic_f1).toFixed(1))+"% ",3)):(V(),F("span",Te,"-"))]),_:1}),L(J,{label:"æ ·å¼è¯†åˆ«",width:"100",align:"center"},{default:A(({row:e})=>[e.style_f1?(V(),F("span",{key:0,class:$(N(e.style_f1))},j((100*e.style_f1).toFixed(1))+"% ",3)):(V(),F("span",Re,"-"))]),_:1}),L(J,{label:"æ··åˆå¯å‘å¼",width:"100",align:"center"},{default:A(({row:e})=>[e.hybrid_f1?(V(),F("span",{key:0,class:$(N(e.hybrid_f1))},j((100*e.hybrid_f1).toFixed(1))+"% ",3)):(V(),F("span",$e,"-"))]),_:1}),L(J,{label:"Azure",width:"100",align:"center"},{default:A(({row:e})=>[e.azure_f1?(V(),F("span",{key:0,class:$(N(e.azure_f1))},j((100*e.azure_f1).toFixed(1))+"% ",3)):(V(),F("span",je,"-"))]),_:1}),L(J,{label:"Wordå¤§çº²",width:"110",align:"center"},{default:A(({row:e})=>[e.docx_native_f1?(V(),F("span",{key:0,class:$(N(e.docx_native_f1))},j((100*e.docx_native_f1).toFixed(1))+"% ",3)):(V(),F("span",Ie,"-"))]),_:1}),L(J,{label:"æœ€ä½³æ–¹æ³•",width:"150",align:"center"},{default:A(({row:e})=>[e.best_method?(V(),F("div",Ae,[L(Z,{type:e.best_f1_score>=.9?"success":"primary",effect:"dark"},{default:A(()=>{return[G(j((a=e.best_method,{semantic:"è¯­ä¹‰é”šç‚¹",style:"æ ·å¼",hybrid:"æ··åˆå¯å‘å¼",azure:"Azure",docx_native:"Wordå¤§çº²"}[a]||a)),1)];var a}),_:2},1032,["type"]),T("div",Le," F1: "+j((100*e.best_f1_score).toFixed(1))+"% ",1)])):(V(),F("span",Ue,"æœªæ ‡æ³¨"))]),_:1}),L(J,{label:"æ“ä½œ",width:"150",fixed:"right",align:"center"},{default:A(({row:e})=>[L(D,{size:"small",type:"primary",onClick:a=>(async e=>{try{const a=await B.getTestResult(e);a.data.success&&(d.value=a.data.document_id,h.value=a.data.document_info,y.value=a.data.results,f.value=a.data.ground_truth||null,k.value=a.data.accuracy||null,w.value=!1,o.success("æµ‹è¯•ç»“æœå·²åŠ è½½"))}catch(a){o.error("åŠ è½½å¤±è´¥")}})(e.document_id)},{default:A(()=>[...z[8]||(z[8]=[G(" æŸ¥çœ‹ ",-1)])]),_:1},8,["onClick"]),L(D,{size:"small",type:"danger",onClick:a=>(async e=>{try{await _.confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡æµ‹è¯•è®°å½•å—ï¼Ÿ","ç¡®è®¤åˆ é™¤",{type:"warning"}),await B.deleteTest(e),o.success("å·²åˆ é™¤"),E()}catch(a){}})(e.document_id)},{default:A(()=>[...z[9]||(z[9]=[G(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),0===x.value.length?(V(),F("div",We,[L(Y,{description:"æš‚æ— å†å²è§£æè®°å½•"})])):R("",!0)])]}),_:1})])}}}),[["__scopeId","data-v-96d06aab"]]);export{He as default};
