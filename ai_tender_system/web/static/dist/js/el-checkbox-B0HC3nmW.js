import{y as e,q as l,bA as a,b8 as u,aQ as t,b6 as o,N as n,x as s,ah as i,bJ as d,aZ as r,O as c,A as v,Z as b,aK as m,ax as h,r as p,an as f,aw as k,ao as x,aX as g,aJ as C,a6 as y,a_ as L,aP as V,_ as B,d as S,bK as I,v as E,B as F,o as z,w as N,e as w,c as O,a3 as _,I as D,F as G,aj as U,Q as j,bC as $,h as A,bL as R,C as J,a8 as K,k as M,t as P,G as q,D as Q,m as Z,n as X,M as Y,bM as H,aY as T,aC as W,J as ee,P as le}from"./index.js";import{o as ae}from"./omit-CeOIu7oa.js";const ue={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:t,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...u(["ariaControls"])},te={[o]:u=>e(u)||l(u)||a(u),change:u=>e(u)||l(u)||a(u)},oe=Symbol("checkboxGroupContextKey"),ne=(e,{model:l,isLimitExceeded:a,hasOwnLabel:u,isDisabled:t,isLabeledByFormItem:o})=>{const i=n(oe,void 0),{formItem:d}=r(),{emit:p}=c();function f(l){var a,u,t,o;return[!0,e.trueValue,e.trueLabel].includes(l)?null==(u=null!=(a=e.trueValue)?a:e.trueLabel)||u:null!=(o=null!=(t=e.falseValue)?t:e.falseLabel)&&o}const k=s(()=>(null==i?void 0:i.validateEvent)||e.validateEvent);return v(()=>e.modelValue,()=>{k.value&&(null==d||d.validate("change").catch(e=>h()))}),{handleChange:function(e){if(a.value)return;const l=e.target;p(m,f(l.checked),e)},onClickRoot:async function(n){if(!a.value&&!u.value&&!t.value&&o.value){n.composedPath().some(e=>"LABEL"===e.tagName)||(l.value=f([!1,e.falseValue,e.falseLabel].includes(l.value)),await b(),function(e,l){p(m,f(e),l)}(l.value,n))}}}},se=(e,l)=>{const{formItem:u}=r(),{model:t,isGroup:v,isLimitExceeded:b}=(e=>{const l=p(!1),{emit:a}=c(),u=n(oe,void 0),t=s(()=>!1===i(u)),d=p(!1),r=s({get(){var a,o;return t.value?null==(a=null==u?void 0:u.modelValue)?void 0:a.value:null!=(o=e.modelValue)?o:l.value},set(e){var n,s;t.value&&f(e)?(d.value=void 0!==(null==(n=null==u?void 0:u.max)?void 0:n.value)&&e.length>(null==u?void 0:u.max.value)&&e.length>r.value.length,!1===d.value&&(null==(s=null==u?void 0:u.changeEvent)||s.call(u,e))):(a(o,e),l.value=e)}});return{model:r,isGroup:t,isLimitExceeded:d}})(e),{isFocused:m,isChecked:h,checkboxButtonSize:B,checkboxSize:S,hasOwnLabel:I,actualValue:E}=((e,l,{model:u})=>{const t=n(oe,void 0),o=p(!1),i=s(()=>k(e.value)?e.label:e.value),d=s(()=>{const l=u.value;return a(l)?l:f(l)?x(i.value)?l.map(g).some(e=>C(e,i.value)):l.map(g).includes(i.value):null!=l?l===e.trueValue||l===e.trueLabel:!!l});return{checkboxButtonSize:y(s(()=>{var e;return null==(e=null==t?void 0:t.size)?void 0:e.value}),{prop:!0}),isChecked:d,isFocused:o,checkboxSize:y(s(()=>{var e;return null==(e=null==t?void 0:t.size)?void 0:e.value})),hasOwnLabel:s(()=>!!l.default||!k(i.value)),actualValue:i}})(e,l,{model:t}),{isDisabled:F}=(({model:e,isChecked:l})=>{const a=n(oe,void 0),u=s(()=>{var u,t;const o=null==(u=null==a?void 0:a.max)?void 0:u.value,n=null==(t=null==a?void 0:a.min)?void 0:t.value;return!i(o)&&e.value.length>=o&&!l.value||!i(n)&&e.value.length<=n&&l.value});return{isDisabled:d(s(()=>(null==a?void 0:a.disabled.value)||u.value)),isLimitDisabled:u}})({model:t,isChecked:h}),{inputId:z,isLabeledByFormItem:N}=L(e,{formItemContext:u,disableIdGeneration:I,disableIdManagement:v}),{handleChange:w,onClickRoot:O}=ne(e,{model:t,isLimitExceeded:b,hasOwnLabel:I,isDisabled:F,isLabeledByFormItem:N});var _,D;return e.checked&&(f(t.value)&&!t.value.includes(E.value)?t.value.push(E.value):t.value=null==(D=null!=(_=e.trueValue)?_:e.trueLabel)||D),V({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},s(()=>v.value&&k(e.value))),V({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},s(()=>!!e.trueLabel)),V({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},s(()=>!!e.falseLabel)),{inputId:z,isLabeledByFormItem:N,isChecked:h,isDisabled:F,isFocused:m,checkboxButtonSize:B,checkboxSize:S,hasOwnLabel:I,model:t,actualValue:E,handleChange:w,onClickRoot:O}},ie=S({name:"ElCheckbox"});var de=B(S({...ie,props:ue,emits:te,setup(e){const l=e,a=I(),{inputId:u,isLabeledByFormItem:t,isChecked:o,isDisabled:n,isFocused:i,checkboxSize:d,hasOwnLabel:r,model:c,actualValue:v,handleChange:b,onClickRoot:m}=se(l,a),h=s(()=>{var e,a,u,t;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":null==(a=null!=(e=l.trueValue)?e:l.trueLabel)||a,"false-value":null!=(t=null!=(u=l.falseValue)?u:l.falseLabel)&&t}:{value:v.value}}),p=E("checkbox"),f=s(()=>[p.b(),p.m(d.value),p.is("disabled",n.value),p.is("bordered",l.border),p.is("checked",o.value)]),k=s(()=>[p.e("input"),p.is("disabled",n.value),p.is("checked",o.value),p.is("indeterminate",l.indeterminate),p.is("focus",i.value)]);return(e,l)=>(z(),F(q(!G(r)&&G(t)?"span":"label"),{class:D(G(f)),"aria-controls":e.indeterminate?e.ariaControls:null,onClick:G(m)},{default:N(()=>[w("span",{class:D(G(k))},[U(w("input",j({id:G(u),"onUpdate:modelValue":e=>$(c)?c.value=e:null,class:G(p).e("original"),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:G(n)},G(h),{onChange:G(b),onFocus:e=>i.value=!0,onBlur:e=>i.value=!1,onClick:A(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[R,G(c)]]),w("span",{class:D(G(p).e("inner"))},null,2)],2),G(r)?(z(),O("span",{key:0,class:D(G(p).e("label"))},[J(e.$slots,"default"),e.$slots.default?_("v-if",!0):(z(),O(K,{key:0},[M(P(e.label),1)],64))],2)):_("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","checkbox.vue"]]);const re=S({name:"ElCheckboxButton"});var ce=B(S({...re,props:ue,emits:te,setup(e){const l=e,a=I(),{isFocused:u,isChecked:t,isDisabled:o,checkboxButtonSize:i,model:d,actualValue:r,handleChange:c}=se(l,a),v=s(()=>{var e,a,u,t;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":null==(a=null!=(e=l.trueValue)?e:l.trueLabel)||a,"false-value":null!=(t=null!=(u=l.falseValue)?u:l.falseLabel)&&t}:{value:r.value}}),b=n(oe,void 0),m=E("checkbox"),h=s(()=>{var e,l,a,u;const t=null!=(l=null==(e=null==b?void 0:b.fill)?void 0:e.value)?l:"";return{backgroundColor:t,borderColor:t,color:null!=(u=null==(a=null==b?void 0:b.textColor)?void 0:a.value)?u:"",boxShadow:t?`-1px 0 0 0 ${t}`:void 0}}),p=s(()=>[m.b("button"),m.bm("button",i.value),m.is("disabled",o.value),m.is("checked",t.value),m.is("focus",u.value)]);return(e,l)=>(z(),O("label",{class:D(G(p))},[U(w("input",j({"onUpdate:modelValue":e=>$(d)?d.value=e:null,class:G(m).be("button","original"),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:G(o)},G(v),{onChange:G(c),onFocus:e=>u.value=!0,onBlur:e=>u.value=!1,onClick:A(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[R,G(d)]]),e.$slots.default||e.label?(z(),O("span",{key:0,class:D(G(m).be("button","inner")),style:Q(G(t)?G(h):void 0)},[J(e.$slots,"default",{},()=>[M(P(e.label),1)])],6)):_("v-if",!0)],2))}}),[["__file","checkbox-button.vue"]]);const ve=Z({modelValue:{type:X(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:t,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:X(Array)},props:{type:X(Object),default:()=>me},type:{type:String,values:["checkbox","button"],default:"checkbox"},...u(["ariaLabel"])}),be={[o]:e=>f(e),change:e=>f(e)},me={label:"label",value:"value",disabled:"disabled"},he=S({name:"ElCheckboxGroup"});var pe=B(S({...he,props:ve,emits:be,setup(e,{emit:l}){const a=e,u=E("checkbox"),{formItem:t}=r(),{inputId:n,isLabeledByFormItem:i}=L(a,{formItemContext:t}),d=async e=>{l(o,e),await b(),l(m,e)},c=s({get:()=>a.modelValue,set(e){d(e)}}),p=s(()=>({...me,...a.props})),f=s(()=>"button"===a.type?ce:de);return Y(oe,{...H(T(a),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:d}),v(()=>a.modelValue,(e,l)=>{a.validateEvent&&!C(e,l)&&(null==t||t.validate("change").catch(e=>h()))}),(e,l)=>{var a;return z(),F(q(e.tag),{id:G(n),class:D(G(u).b("group")),role:"group","aria-label":G(i)?void 0:e.ariaLabel||"checkbox-group","aria-labelledby":G(i)?null==(a=G(t))?void 0:a.labelId:void 0},{default:N(()=>[J(e.$slots,"default",{},()=>[(z(!0),O(K,null,W(e.options,(e,l)=>(z(),F(q(G(f)),j({key:l},(e=>{const{label:l,value:a,disabled:u}=p.value,t={label:e[l],value:e[a],disabled:e[u]};return{...ae(e,[l,a,u]),...t}})(e)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","checkbox-group.vue"]]);const fe=ee(de,{CheckboxButton:ce,CheckboxGroup:pe});le(ce),le(pe);export{fe as E};
