import{M as e,d as a,G as l,D as t,e as u,h as r,f as d,g as s,a1 as o,p as n,n as i,a as c,U as m,C as p,b as _,N as v,o as f,R as y,Q as h}from"./vendor-element-plus-CEQaQHNc.js";import{d as b,r as g,w as V,P as w,M as k,c as U,N as j,H as x,O as D,b as R,L as I,I as C,F as E,V as F,_ as M,R as P,Q as Y,b4 as z,b7 as q}from"./vendor-vue-DnBj6vzG.js";import{L as A}from"./Loading-fOFG7xAl.js";/* empty css                                                                          */import{es as N,eu as T,er as B,dD as L,eI as O,eR as G,eN as Q,eM as H,eS as J,dB as W,eK as K,eT as S,eU as X,eD as $}from"./vendor-other-CxXkF0Pk.js";import"./vendor-editor-CGvuleas.js";/* empty css                                                                        */import"./vendor-dayjs-CeOjnJlt.js";import{a as Z,_ as ee}from"./index.js";import{k as ae,a as le,f as te}from"./formatters-D-henrcx.js";import{b as ue,v as re,a as de}from"./validators-BHjNrE0Y.js";import{E as se}from"./Empty-BzPBqxja.js";import{s as oe}from"./imageCompressor-CTkRt5bg.js";import"./vendor-echarts-C00rBISf.js";import"./vendor-axios-BG7aBJwU.js";const ne={class:"resume-basic-info-tab"},ie=ee(b({__name:"ResumeBasicInfoTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(m,{emit:p}){const _=m,v=p,{success:f,error:y}=Z(),h=g(),b=g(!1),R=g({name:"",gender:"",birth_date:"",nationality:"",native_place:"",political_status:"",id_number:"",phone:"",email:"",address:"",introduction:""}),I={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:de,trigger:"blur"}],email:[{validator:re,trigger:"blur"}],id_number:[{validator:ue,trigger:"blur"}]};V(()=>_.resumeData,e=>{e&&(R.value={name:e.name||"",gender:e.gender||"",birth_date:e.birth_date||"",nationality:e.nationality||"",native_place:e.native_place||"",political_status:e.political_status||"",id_number:e.id_number||"",phone:e.phone||"",email:e.email||"",address:e.address||"",introduction:e.introduction||""})},{immediate:!0,deep:!0});const C=async()=>{h.value&&await h.value.validate(async e=>{if(e){b.value=!0;try{const e=await ae.updateResume(_.resumeId,R.value);e.success?(f("保存成功","基本信息已更新"),v("update")):y("保存失败",e.error||"未知错误")}catch(a){y("保存失败",a instanceof Error?a.message:"未知错误")}finally{b.value=!1}}})},E=()=>{var e;null==(e=h.value)||e.resetFields()};return(m,p)=>{const _=r,v=u,f=t,y=s,g=d,V=o,F=l,M=i,P=n,Y=c,z=a,q=e;return k(),w("div",ne,[U(q,null,{header:j(()=>[...p[11]||(p[11]=[D("span",null,"基本信息",-1)])]),default:j(()=>[U(z,{ref_key:"formRef",ref:h,model:R.value,rules:I,"label-width":"120px"},{default:j(()=>[U(F,{gutter:20},{default:j(()=>[U(f,{span:8},{default:j(()=>[U(v,{label:"姓名",prop:"name"},{default:j(()=>[U(_,{modelValue:R.value.name,"onUpdate:modelValue":p[0]||(p[0]=e=>R.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),U(f,{span:8},{default:j(()=>[U(v,{label:"性别",prop:"gender"},{default:j(()=>[U(g,{modelValue:R.value.gender,"onUpdate:modelValue":p[1]||(p[1]=e=>R.value.gender=e)},{default:j(()=>[U(y,{label:"男"},{default:j(()=>[...p[12]||(p[12]=[x("男",-1)])]),_:1}),U(y,{label:"女"},{default:j(()=>[...p[13]||(p[13]=[x("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),U(f,{span:8},{default:j(()=>[U(v,{label:"出生日期",prop:"birth_date"},{default:j(()=>[U(V,{modelValue:R.value.birth_date,"onUpdate:modelValue":p[2]||(p[2]=e=>R.value.birth_date=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(F,{gutter:20},{default:j(()=>[U(f,{span:8},{default:j(()=>[U(v,{label:"民族",prop:"nationality"},{default:j(()=>[U(_,{modelValue:R.value.nationality,"onUpdate:modelValue":p[3]||(p[3]=e=>R.value.nationality=e),placeholder:"如：汉族"},null,8,["modelValue"])]),_:1})]),_:1}),U(f,{span:8},{default:j(()=>[U(v,{label:"籍贯",prop:"native_place"},{default:j(()=>[U(_,{modelValue:R.value.native_place,"onUpdate:modelValue":p[4]||(p[4]=e=>R.value.native_place=e),placeholder:"如：北京市"},null,8,["modelValue"])]),_:1})]),_:1}),U(f,{span:8},{default:j(()=>[U(v,{label:"政治面貌",prop:"political_status"},{default:j(()=>[U(P,{modelValue:R.value.political_status,"onUpdate:modelValue":p[5]||(p[5]=e=>R.value.political_status=e),placeholder:"请选择",style:{width:"100%"}},{default:j(()=>[U(M,{label:"中共党员",value:"中共党员"}),U(M,{label:"共青团员",value:"共青团员"}),U(M,{label:"民主党派",value:"民主党派"}),U(M,{label:"群众",value:"群众"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(F,{gutter:20},{default:j(()=>[U(f,{span:12},{default:j(()=>[U(v,{label:"身份证号",prop:"id_number"},{default:j(()=>[U(_,{modelValue:R.value.id_number,"onUpdate:modelValue":p[6]||(p[6]=e=>R.value.id_number=e),placeholder:"18位身份证号",maxlength:"18"},null,8,["modelValue"])]),_:1})]),_:1}),U(f,{span:12},{default:j(()=>[U(v,{label:"联系电话",prop:"phone"},{default:j(()=>[U(_,{modelValue:R.value.phone,"onUpdate:modelValue":p[7]||(p[7]=e=>R.value.phone=e),placeholder:"手机号码",maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(F,{gutter:20},{default:j(()=>[U(f,{span:12},{default:j(()=>[U(v,{label:"电子邮箱",prop:"email"},{default:j(()=>[U(_,{modelValue:R.value.email,"onUpdate:modelValue":p[8]||(p[8]=e=>R.value.email=e),placeholder:"邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1}),U(f,{span:12},{default:j(()=>[U(v,{label:"联系地址",prop:"address"},{default:j(()=>[U(_,{modelValue:R.value.address,"onUpdate:modelValue":p[9]||(p[9]=e=>R.value.address=e),placeholder:"详细地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(v,{label:"个人简介",prop:"introduction"},{default:j(()=>[U(_,{modelValue:R.value.introduction,"onUpdate:modelValue":p[10]||(p[10]=e=>R.value.introduction=e),type:"textarea",rows:4,placeholder:"请简要介绍个人经历、专长、优势等"},null,8,["modelValue"])]),_:1}),U(v,null,{default:j(()=>[U(Y,{type:"primary",loading:b.value,onClick:C},{default:j(()=>[...p[14]||(p[14]=[x(" 保存 ",-1)])]),_:1},8,["loading"]),U(Y,{onClick:E},{default:j(()=>[...p[15]||(p[15]=[x("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-9eb5d3ea"]]),ce={class:"resume-education-tab"},me=ee(b({__name:"ResumeEducationTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(d,{emit:s}){const m=d,p=s,{success:_,error:v}=Z(),f=g(),y=g(!1),h=g({education_level:"",degree:"",university:"",major:"",graduation_date:""});V(()=>m.resumeData,e=>{e&&(h.value={education_level:e.education_level||"",degree:e.degree||"",university:e.university||"",major:e.major||"",graduation_date:e.graduation_date||""})},{immediate:!0,deep:!0});const b=async()=>{if(f.value){y.value=!0;try{const e=await ae.updateResume(m.resumeId,h.value);e.success?(_("保存成功","教育信息已更新"),p("update")):v("保存失败",e.error||"未知错误")}catch(e){v("保存失败",e instanceof Error?e.message:"未知错误")}finally{y.value=!1}}},R=()=>{var e;null==(e=f.value)||e.resetFields()};return(d,s)=>{const m=i,p=n,_=u,v=t,g=l,V=r,I=o,C=c,E=a,F=e;return k(),w("div",ce,[U(F,null,{header:j(()=>[...s[5]||(s[5]=[D("span",null,"教育信息",-1)])]),default:j(()=>[U(E,{ref_key:"formRef",ref:f,model:h.value,"label-width":"120px"},{default:j(()=>[U(g,{gutter:20},{default:j(()=>[U(v,{span:12},{default:j(()=>[U(_,{label:"学历",prop:"education_level"},{default:j(()=>[U(p,{modelValue:h.value.education_level,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value.education_level=e),placeholder:"请选择学历",style:{width:"100%"}},{default:j(()=>[U(m,{label:"博士",value:"博士"}),U(m,{label:"硕士",value:"硕士"}),U(m,{label:"本科",value:"本科"}),U(m,{label:"大专",value:"大专"}),U(m,{label:"高中",value:"高中"}),U(m,{label:"中专",value:"中专"}),U(m,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),U(v,{span:12},{default:j(()=>[U(_,{label:"学位",prop:"degree"},{default:j(()=>[U(p,{modelValue:h.value.degree,"onUpdate:modelValue":s[1]||(s[1]=e=>h.value.degree=e),placeholder:"请选择学位",style:{width:"100%"}},{default:j(()=>[U(m,{label:"博士学位",value:"博士"}),U(m,{label:"硕士学位",value:"硕士"}),U(m,{label:"学士学位",value:"学士"}),U(m,{label:"无学位",value:"无"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(g,{gutter:20},{default:j(()=>[U(v,{span:12},{default:j(()=>[U(_,{label:"毕业院校",prop:"university"},{default:j(()=>[U(V,{modelValue:h.value.university,"onUpdate:modelValue":s[2]||(s[2]=e=>h.value.university=e),placeholder:"请输入毕业院校"},null,8,["modelValue"])]),_:1})]),_:1}),U(v,{span:12},{default:j(()=>[U(_,{label:"专业",prop:"major"},{default:j(()=>[U(V,{modelValue:h.value.major,"onUpdate:modelValue":s[3]||(s[3]=e=>h.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(g,{gutter:20},{default:j(()=>[U(v,{span:12},{default:j(()=>[U(_,{label:"毕业时间",prop:"graduation_date"},{default:j(()=>[U(I,{modelValue:h.value.graduation_date,"onUpdate:modelValue":s[4]||(s[4]=e=>h.value.graduation_date=e),type:"date",placeholder:"选择毕业日期","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(_,null,{default:j(()=>[U(C,{type:"primary",loading:y.value,onClick:b},{default:j(()=>[...s[6]||(s[6]=[x(" 保存 ",-1)])]),_:1},8,["loading"]),U(C,{onClick:R},{default:j(()=>[...s[7]||(s[7]=[x("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-15f0e911"]]),pe={class:"resume-work-tab"},_e=ee(b({__name:"ResumeWorkTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(d,{emit:s}){const o=d,n=s,{success:i,error:p}=Z(),_=g(),v=g(!1),f=g({current_position:"",professional_title:"",work_years:void 0,current_company:"",department:"",work_location:"",skills:"",certificates:"",awards:""});V(()=>o.resumeData,e=>{e&&(f.value={current_position:e.current_position||"",professional_title:e.professional_title||"",work_years:e.work_years,current_company:e.current_company||"",department:e.department||"",work_location:e.work_location||"",skills:e.skills||"",certificates:e.certificates||"",awards:e.awards||""})},{immediate:!0,deep:!0});const y=async()=>{if(_.value){v.value=!0;try{const e=await ae.updateResume(o.resumeId,f.value);e.success?(i("保存成功","工作信息已更新"),n("update")):p("保存失败",e.error||"未知错误")}catch(e){p("保存失败",e instanceof Error?e.message:"未知错误")}finally{v.value=!1}}},h=()=>{var e;null==(e=_.value)||e.resetFields()};return(d,s)=>{const o=r,n=u,i=t,p=l,b=m,g=c,V=a,R=e;return k(),w("div",pe,[U(R,null,{header:j(()=>[...s[9]||(s[9]=[D("span",null,"工作信息",-1)])]),default:j(()=>[U(V,{ref_key:"formRef",ref:_,model:f.value,"label-width":"120px"},{default:j(()=>[U(p,{gutter:20},{default:j(()=>[U(i,{span:12},{default:j(()=>[U(n,{label:"当前职位",prop:"current_position"},{default:j(()=>[U(o,{modelValue:f.value.current_position,"onUpdate:modelValue":s[0]||(s[0]=e=>f.value.current_position=e),placeholder:"如：项目经理"},null,8,["modelValue"])]),_:1})]),_:1}),U(i,{span:12},{default:j(()=>[U(n,{label:"职称",prop:"professional_title"},{default:j(()=>[U(o,{modelValue:f.value.professional_title,"onUpdate:modelValue":s[1]||(s[1]=e=>f.value.professional_title=e),placeholder:"如：高级工程师"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(p,{gutter:20},{default:j(()=>[U(i,{span:12},{default:j(()=>[U(n,{label:"工作年限",prop:"work_years"},{default:j(()=>[U(b,{modelValue:f.value.work_years,"onUpdate:modelValue":s[2]||(s[2]=e=>f.value.work_years=e),min:0,max:50,placeholder:"年",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),U(i,{span:12},{default:j(()=>[U(n,{label:"当前单位",prop:"current_company"},{default:j(()=>[U(o,{modelValue:f.value.current_company,"onUpdate:modelValue":s[3]||(s[3]=e=>f.value.current_company=e),placeholder:"当前工作单位"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(p,{gutter:20},{default:j(()=>[U(i,{span:12},{default:j(()=>[U(n,{label:"所在部门",prop:"department"},{default:j(()=>[U(o,{modelValue:f.value.department,"onUpdate:modelValue":s[4]||(s[4]=e=>f.value.department=e),placeholder:"部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),U(i,{span:12},{default:j(()=>[U(n,{label:"工作地点",prop:"work_location"},{default:j(()=>[U(o,{modelValue:f.value.work_location,"onUpdate:modelValue":s[5]||(s[5]=e=>f.value.work_location=e),placeholder:"工作城市"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(n,{label:"技能特长",prop:"skills"},{default:j(()=>[U(o,{modelValue:f.value.skills,"onUpdate:modelValue":s[6]||(s[6]=e=>f.value.skills=e),type:"textarea",rows:3,placeholder:"请输入技能特长，多个技能用逗号分隔，如：项目管理,需求分析,Java开发"},null,8,["modelValue"])]),_:1}),U(n,{label:"证书列表",prop:"certificates"},{default:j(()=>[U(o,{modelValue:f.value.certificates,"onUpdate:modelValue":s[7]||(s[7]=e=>f.value.certificates=e),type:"textarea",rows:2,placeholder:"请输入证书名称，多个证书用逗号分隔，如：PMP,软考高级"},null,8,["modelValue"])]),_:1}),U(n,{label:"获奖情况",prop:"awards"},{default:j(()=>[U(o,{modelValue:f.value.awards,"onUpdate:modelValue":s[8]||(s[8]=e=>f.value.awards=e),type:"textarea",rows:2,placeholder:"请输入获奖情况"},null,8,["modelValue"])]),_:1}),U(n,null,{default:j(()=>[U(g,{type:"primary",loading:v.value,onClick:y},{default:j(()=>[...s[10]||(s[10]=[x(" 保存 ",-1)])]),_:1},8,["loading"]),U(g,{onClick:h},{default:j(()=>[...s[11]||(s[11]=[x("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),[["__scopeId","data-v-00b6bb2c"]]),ve={class:"resume-attachments-tab"},fe={class:"card-header"},ye={key:2,class:"attachments-grid"},he={class:"attachment-header"},be={class:"attachment-body"},ge=["title"],Ve={class:"file-info"},we={class:"file-size"},ke={class:"file-date"},Ue={key:0,class:"file-desc"},je={class:"attachment-actions"},xe=ee(b({__name:"ResumeAttachmentsTab",props:{resumeId:{},resumeData:{}},emits:["update"],setup(l,{emit:t}){const d=l,s=t,{success:o,error:m}=Z(),y=g(!1),h=g([]),b=g(!1),V=g(!1),z=g(),q=g(),K=g({attachment_category:"resume",description:"",file:null}),S={attachment_category:[{required:!0,message:"请选择附件类型",trigger:"change"}]},X=e=>{switch(e){case"resume":return W;case"id_card":return J;case"education":case"degree":return H;case"qualification":return Q;case"award":return G;default:return O}},$=e=>{switch(e){case"resume":return"#409eff";case"id_card":return"#f56c6c";case"education":return"#67c23a";case"degree":return"#e6a23c";case"qualification":default:return"#909399";case"award":return"#ff9800"}},ee=e=>{switch(e){case"resume":return"primary";case"id_card":return"danger";case"education":return"success";case"degree":case"award":return"warning";default:return"info"}},ue=e=>{switch(e){case"resume":return"简历文件";case"id_card":return"身份证";case"education":return"学历证书";case"degree":return"学位证书";case"qualification":return"资质证书";case"award":return"获奖证书";default:return"其他材料"}},re=async()=>{y.value=!0;try{const e=await ae.getResumeAttachments(d.resumeId);e.success&&e.data&&(h.value=e.data)}catch(e){m("加载失败",e instanceof Error?e.message:"未知错误")}finally{y.value=!1}},de=e=>{e.raw&&(K.value.file=e.raw)},ne=()=>{b.value=!0},ie=async()=>{z.value&&await z.value.validate(async e=>{var a;if(e)if(K.value.file){V.value=!0;try{let e=K.value.file;if(e.type.startsWith("image/")){const a="id_card"===K.value.attachment_category?"id_card":"photo";e=await oe(e,a)}const l=await ae.uploadResumeAttachment(d.resumeId,e,K.value.attachment_category,K.value.description||void 0);l.success?(o("上传成功","附件已上传"),b.value=!1,null==(a=q.value)||a.clearFiles(),K.value={attachment_category:"resume",description:"",file:null},await re(),s("update")):m("上传失败",l.error||"未知错误")}catch(l){m("上传失败",l instanceof Error?l.message:"未知错误")}finally{V.value=!1}}else m("请选择文件","请先选择要上传的文件")})};return R(()=>{re()}),(l,t)=>{const d=p,g=c,R=f,O=e,G=i,Q=n,H=u,J=r,W=v,Z=a,oe=_;return k(),w("div",ve,[U(O,null,{header:j(()=>[D("div",fe,[t[5]||(t[5]=D("span",null,"简历附件",-1)),U(g,{type:"primary",size:"small",onClick:ne},{default:j(()=>[U(d,null,{default:j(()=>[U(C(N))]),_:1}),t[4]||(t[4]=x(" 上传附件 ",-1))]),_:1})])]),default:j(()=>[y.value?(k(),I(C(A),{key:0,text:"加载附件中..."})):h.value.length?(k(),w("div",ye,[(k(!0),w(E,null,F(h.value,e=>(k(),w("div",{key:e.attachment_id,class:"attachment-card"},[D("div",he,[U(d,{size:32,color:$(e.attachment_category)},{default:j(()=>[(k(),I(M(X(e.attachment_category))))]),_:2},1032,["color"]),U(R,{type:ee(e.attachment_category),size:"small"},{default:j(()=>[x(P(ue(e.attachment_category)),1)]),_:2},1032,["type"])]),D("div",be,[D("div",{class:"file-name",title:e.original_filename},P(e.original_filename),9,ge),D("div",Ve,[D("span",we,P(C(le)(e.file_size)),1),D("span",ke,P(C(te)(e.uploaded_at,"date")),1)]),e.attachment_description?(k(),w("div",Ue,P(e.attachment_description),1)):Y("",!0)]),D("div",je,[U(g,{size:"small",onClick:a=>(e=>{const a=ae.downloadResumeAttachment(e.attachment_id);window.open(a,"_blank")})(e)},{default:j(()=>[U(d,null,{default:j(()=>[U(C(B))]),_:1}),t[6]||(t[6]=x(" 下载 ",-1))]),_:1},8,["onClick"]),U(g,{size:"small",type:"danger",onClick:a=>(async e=>{try{if(!confirm(`确定要删除附件 "${e.original_filename}" 吗？`))return;const a=await ae.deleteResumeAttachment(e.attachment_id);a.success?(o("删除成功","附件已删除"),await re(),s("update")):m("删除失败",a.error||"未知错误")}catch(a){m("删除失败",a instanceof Error?a.message:"未知错误")}})(e)},{default:j(()=>[U(d,null,{default:j(()=>[U(C(L))]),_:1}),t[7]||(t[7]=x(" 删除 ",-1))]),_:1},8,["onClick"])])]))),128))])):(k(),I(C(se),{key:1,type:"no-data",description:"暂无附件"}))]),_:1}),U(oe,{modelValue:b.value,"onUpdate:modelValue":t[3]||(t[3]=e=>b.value=e),title:"上传简历附件",width:"500px"},{footer:j(()=>[U(g,{onClick:t[2]||(t[2]=e=>b.value=!1)},{default:j(()=>[...t[10]||(t[10]=[x("取消",-1)])]),_:1}),U(g,{type:"primary",loading:V.value,onClick:ie},{default:j(()=>[...t[11]||(t[11]=[x(" 确定上传 ",-1)])]),_:1},8,["loading"])]),default:j(()=>[U(Z,{ref_key:"uploadFormRef",ref:z,model:K.value,rules:S,"label-width":"120px"},{default:j(()=>[U(H,{label:"附件类型",prop:"attachment_category"},{default:j(()=>[U(Q,{modelValue:K.value.attachment_category,"onUpdate:modelValue":t[0]||(t[0]=e=>K.value.attachment_category=e),placeholder:"请选择附件类型",style:{width:"100%"}},{default:j(()=>[U(G,{label:"简历文件",value:"resume"}),U(G,{label:"身份证",value:"id_card"}),U(G,{label:"学历证书",value:"education"}),U(G,{label:"学位证书",value:"degree"}),U(G,{label:"资质证书",value:"qualification"}),U(G,{label:"获奖证书",value:"award"}),U(G,{label:"其他材料",value:"other"})]),_:1},8,["modelValue"])]),_:1}),U(H,{label:"附件说明",prop:"description"},{default:j(()=>[U(J,{modelValue:K.value.description,"onUpdate:modelValue":t[1]||(t[1]=e=>K.value.description=e),type:"textarea",rows:2,placeholder:"请简要说明附件内容（可选）"},null,8,["modelValue"])]),_:1}),U(H,{label:"选择文件",prop:"file"},{default:j(()=>[U(W,{ref_key:"uploadRef",ref:q,"auto-upload":!1,limit:1,"on-change":de,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",drag:""},{tip:j(()=>[...t[8]||(t[8]=[D("div",{class:"el-upload__tip"}," 支持PDF、DOC、DOCX、JPG、PNG格式，文件大小不超过20MB ",-1)])]),default:j(()=>[U(d,{class:"el-icon--upload"},{default:j(()=>[U(C(T))]),_:1}),t[9]||(t[9]=D("div",{class:"el-upload__text"},[x(" 拖拽文件到这里 或 "),D("em",null,"点击上传")],-1))]),_:1},512)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-686973bc"]]),De={class:"resume-detail"},Re={class:"detail-header"},Ie={class:"header-title"},Ce={key:1,class:"detail-content"},Ee={class:"tab-label"},Fe={class:"tab-label"},Me={class:"tab-label"},Pe={class:"tab-label"},Ye=ee(b({__name:"ResumeDetail",setup(e){const a=z(),l=q(),{error:t}=Z(),u=g(!1),r=g("basic"),d=g(0),s=g({}),o=e=>{switch(e){case"active":return"success";case"inactive":return"warning";default:return"info"}},n=e=>{switch(e){case"active":return"活跃";case"inactive":return"离职";case"archived":return"已归档";default:return e}},i=async()=>{u.value=!0;try{const e=await ae.getResume(d.value);e.success&&e.data?s.value=e.data:(t("加载失败","无法获取简历信息"),v())}catch(e){t("加载失败",e instanceof Error?e.message:"未知错误"),v()}finally{u.value=!1}},m=e=>{},_=async()=>{await i()},v=()=>{l.push("/knowledge/resume-library")};return R(()=>{const e=a.params.id;if(e){if(d.value=parseInt(e,10),isNaN(d.value))return t("参数错误","无效的简历ID"),void v();i()}else t("参数错误","缺少简历ID"),v()}),(e,a)=>{const l=c,t=f,i=p,b=y,g=h;return k(),w("div",De,[D("div",Re,[U(l,{onClick:v,icon:"ArrowLeft"},{default:j(()=>[...a[1]||(a[1]=[x("返回列表",-1)])]),_:1}),D("div",Ie,[D("h2",null,P(s.value.name||"简历详情"),1),s.value.education_level?(k(),I(t,{key:0,type:(V=s.value.education_level,"博士"===V?"danger":"硕士"===V?"warning":"本科"===V?"success":"info")},{default:j(()=>[x(P(s.value.education_level),1)]),_:1},8,["type"])):Y("",!0),s.value.current_position?(k(),I(t,{key:1,type:"info"},{default:j(()=>[x(P(s.value.current_position),1)]),_:1})):Y("",!0),s.value.status?(k(),I(t,{key:2,type:o(s.value.status)},{default:j(()=>[x(P(n(s.value.status)),1)]),_:1},8,["type"])):Y("",!0)])]),u.value?(k(),I(C(A),{key:0,text:"加载简历信息中..."})):(k(),w("div",Ce,[U(g,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),class:"resume-tabs",onTabChange:m},{default:j(()=>[U(b,{name:"basic"},{label:j(()=>[D("span",Ee,[U(i,null,{default:j(()=>[U(C(K))]),_:1}),a[2]||(a[2]=x(" 基本信息 ",-1))])]),default:j(()=>[U(ie,{"resume-id":d.value,"resume-data":s.value,onUpdate:_},null,8,["resume-id","resume-data"])]),_:1}),U(b,{name:"education"},{label:j(()=>[D("span",Fe,[U(i,null,{default:j(()=>[U(C(S))]),_:1}),a[3]||(a[3]=x(" 教育信息 ",-1))])]),default:j(()=>[U(me,{"resume-id":d.value,"resume-data":s.value,onUpdate:_},null,8,["resume-id","resume-data"])]),_:1}),U(b,{name:"work"},{label:j(()=>[D("span",Me,[U(i,null,{default:j(()=>[U(C(X))]),_:1}),a[4]||(a[4]=x(" 工作信息 ",-1))])]),default:j(()=>[U(_e,{"resume-id":d.value,"resume-data":s.value,onUpdate:_},null,8,["resume-id","resume-data"])]),_:1}),U(b,{name:"attachments"},{label:j(()=>[D("span",Pe,[U(i,null,{default:j(()=>[U(C($))]),_:1}),a[5]||(a[5]=x(" 附件管理 ",-1))])]),default:j(()=>[U(xe,{"resume-id":d.value,"resume-data":s.value,onUpdate:_},null,8,["resume-id","resume-data"])]),_:1})]),_:1},8,["modelValue"])]))]);var V}}}),[["__scopeId","data-v-2d29e80e"]]);export{Ye as default};
