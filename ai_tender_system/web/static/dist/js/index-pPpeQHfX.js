import{bG as n,by as t,bH as e}from"./editor-CeUA3ax_.js";import{t as o}from"./toNumber-CDEuZe1n.js";import{a5 as i,l as r}from"./index.js";var a=function(){return n.Date.now()},u=Math.max,s=Math.min;function d(n,e,i){var r,d,c,f,l,m,v=0,p=!1,g=!1,h=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(t){var e=r,o=d;return r=d=void 0,v=t,f=n.apply(o,e)}function x(n){var t=n-m;return void 0===m||t>=e||t<0||g&&n-v>=c}function T(){var n=a();if(x(n))return w(n);l=setTimeout(T,function(n){var t=e-(n-m);return g?s(t,c-(n-v)):t}(n))}function w(n){return l=void 0,h&&r?b(n):(r=d=void 0,f)}function y(){var n=a(),t=x(n);if(r=arguments,d=this,m=n,t){if(void 0===l)return function(n){return v=n,l=setTimeout(T,e),p?b(n):f}(m);if(g)return clearTimeout(l),l=setTimeout(T,e),b(m)}return void 0===l&&(l=setTimeout(T,e)),f}return e=o(e)||0,t(i)&&(p=!!i.leading,c=(g="maxWait"in i)?u(o(i.maxWait)||0,e):c,h="trailing"in i?!!i.trailing:h),y.cancel=function(){void 0!==l&&clearTimeout(l),v=0,r=m=d=l=void 0},y.flush=function(){return void 0===l?f:w(a())},y}const c=new Map;if(r){let n;document.addEventListener("mousedown",t=>n=t),document.addEventListener("mouseup",t=>{if(n){for(const e of c.values())for(const{documentHandler:o}of e)o(t,n);n=void 0}})}function f(n,t){let o=[];return e(t.arg)?o=t.arg:i(t.arg)&&o.push(t.arg),function(e,i){const r=t.instance.popperRef,a=e.target,u=null==i?void 0:i.target,s=!t||!t.instance,d=!a||!u,c=n.contains(a)||n.contains(u),f=n===a,l=o.length&&o.some(n=>null==n?void 0:n.contains(a))||o.length&&o.includes(u),m=r&&(r.contains(a)||r.contains(u));s||d||c||f||l||m||t.value(e,i)}}const l={beforeMount(n,t){c.has(n)||c.set(n,[]),c.get(n).push({documentHandler:f(n,t),bindingFn:t.value})},updated(n,t){c.has(n)||c.set(n,[]);const e=c.get(n),o=e.findIndex(n=>n.bindingFn===t.oldValue),i={documentHandler:f(n,t),bindingFn:t.value};o>=0?e.splice(o,1,i):e.push(i)},unmounted(n){c.delete(n)}};export{l as C,d};
