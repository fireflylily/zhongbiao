import{_ as e}from"./_plugin-vue_export-helper-BZqs1yfm.js";import{E as a,a as t}from"./el-tab-pane-DorCtwCc.js";import{E as l}from"./el-space-CySvm7XR.js";import{E as n}from"./el-divider-Dr_mtr9k.js";import{E as i,a as s,b as o}from"./el-date-picker-panel-nEeC8MvB.js";/* empty css                 *//* empty css                *//* empty css                 */import"./el-scrollbar-COliMHv4.js";/* empty css                   */import{E as d}from"./el-input-number-Bd1Iq8-1.js";/* empty css                             */import{a as r,E as c}from"./el-form-item-BSZXyn1L.js";import{E as u,a as p}from"./el-col-DR3qk7qZ.js";/* empty css               */import{s as h,E as f,a as _}from"./el-select-zgwPLghA.js";import{aR as m,aS as v,am as y,aq as g,ag as b,b as k,aT as C,y as x,aU as N,an as w,av as z,W as j,_ as E,d as D,v as K,N as S,C as V,ah as I,M as A,r as q,ac as T,aa as U,X as B,ai as $,aj as L,c as O,o as P,e as F,g as M,B as R,a0 as H,w as W,G as Y,I as J,h as G,D as Q,a6 as X,aB as Z,aQ as ee,H as ae,A as te,aV as le,O as ne,L as ie,aW as se,V as oe,R as de,$ as re,t as ce,p as ue,n as pe,K as he,x as fe,aH as _e,aX as me,J as ve,i as ye,k as ge,l as be,aA as ke,E as Ce,aY as xe,F as Ne,aD as we,ay as ze,az as je}from"./index.js";import{L as Ee}from"./Loading-D6byd8bp.js";import"./DocumentPreview.vue_vue_type_style_index_0_scoped_e3ac2352_lang-aAcHzWd0.js";import{E as De}from"./index-_IbxD8AI.js";import{D as Ke}from"./DocumentPreview-Bd_e1FFL.js";import{E as Se}from"./el-checkbox-Chhrgelv.js";import{E as Ve}from"./index-Dc6VZPfZ.js";import{E as Ie,a as Ae}from"./el-collapse-item-CDndSUQr.js";/* empty css                        */import"./el-alert-CXP7XODY.js";import{t as qe}from"./tender-CTTmwiee.js";import{E as Te}from"./index-Xyju9K6B.js";import{E as Ue}from"./index-IN6Zpv5z.js";import{c as Be}from"./company-DNfURC7c.js";import{u as $e}from"./project-ngnLYivh.js";import{E as Le}from"./index-ELBiC1Q4.js";import{E as Oe,a as Pe}from"./index-Co1ZqTs4.js";import"./raf-CXOaDqGI.js";import"./strings-DTuDRpJG.js";import"./omit-Czoq2i9Z.js";import"./_baseClone-DZAH0W8r.js";import"./dayjs.min-62TF2vD4.js";import"./castArray-pal66jBx.js";import"./index-DzZX4pf4.js";import"./index-CUnJzTFi.js";import"./refs-Cw5r5QN8.js";const Fe="$treeNodeId",Me=function(e,a){a&&!a[Fe]&&Object.defineProperty(a,Fe,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Re=(e,a)=>null==a?void 0:a[e||Fe],He=(e,a,t)=>{const l=e.value.currentNode;t();const n=e.value.currentNode;l!==n&&a("current-change",n?n.data:null,n)},We=e=>{let a=!0,t=!0,l=!0;for(let n=0,i=e.length;n<i;n++){const i=e[n];(!0!==i.checked||i.indeterminate)&&(a=!1,i.disabled||(l=!1)),(!1!==i.checked||i.indeterminate)&&(t=!1)}return{all:a,none:t,allWithoutDisable:l,half:!a&&!t}},Ye=function(e){if(0===e.childNodes.length||e.loading)return;const{all:a,none:t,half:l}=We(e.childNodes);a?(e.checked=!0,e.indeterminate=!1):l?(e.checked=!1,e.indeterminate=!0):t&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;n&&0!==n.level&&(e.store.checkStrictly||Ye(n))},Je=function(e,a){const t=e.store.props,l=e.data||{},n=t[a];if(C(n))return n(l,e);if(x(n))return l[n];if(b(n)){const e=l[a];return b(e)?"":e}},Ge=function(e,a){e.forEach(e=>{e.canFocus=a,Ge(e.childNodes,a)})};let Qe=0;class Xe{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Qe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in e)m(e,a)&&(this[a]=e[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const a=this.store;if(!a)throw new Error("[Node]store is required!");a.registerNode(this);const t=a.props;if(t&&void 0!==t.isLeaf){const e=Je(this,"isLeaf");v(e)&&(this.isLeafByUser=e)}if(!0!==a.lazy&&this.data?(this.setData(this.data),a.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&a.lazy&&a.defaultExpandAll&&!this.isLeafByUser&&this.expand(),y(this.data)||Me(this,this.data),!this.data)return;const l=a.defaultExpandedKeys,n=a.key;n&&!g(this.key)&&l&&l.includes(this.key)&&this.expand(null,a.autoExpandParent),n&&void 0!==a.currentNodeKey&&this.key===a.currentNodeKey&&(a.currentNode=this,a.currentNode.isCurrent=!0),a.lazy&&a._initDefaultCheckedNode(this),this.updateLeafState(),1!==this.level&&!0!==(null==(e=this.parent)?void 0:e.expanded)||(this.canFocus=!0)}setData(e){let a;y(e)||Me(this,e),this.data=e,this.childNodes=[],a=0===this.level&&y(this.data)?this.data:Je(this,"children")||[];for(let t=0,l=a.length;t<l;t++)this.insertChild({data:a[t]})}get label(){return Je(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return Je(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const a=e.childNodes.indexOf(this);if(a>-1)return e.childNodes[a+1]}return null}get previousSibling(){const e=this.parent;if(e){const a=e.childNodes.indexOf(this);if(a>-1)return a>0?e.childNodes[a-1]:null}return null}contains(e,a=!0){return(this.childNodes||[]).some(t=>t===e||a&&t.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,a,t){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Xe)){if(!t){const t=this.getChildren(!0);(null==t?void 0:t.includes(e.data))||(b(a)||a<0?null==t||t.push(e.data):null==t||t.splice(a,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=k(new Xe(e)))instanceof Xe&&e.initialize()}e.level=this.level+1,b(a)||a<0?this.childNodes.push(e):this.childNodes.splice(a,0,e),this.updateLeafState()}insertBefore(e,a){let t;a&&(t=this.childNodes.indexOf(a)),this.insertChild(e,t)}insertAfter(e,a){let t;a&&(t=this.childNodes.indexOf(a),-1!==t&&(t+=1)),this.insertChild(e,t)}removeChild(e){const a=this.getChildren()||[],t=a.indexOf(e.data);t>-1&&a.splice(t,1);const l=this.childNodes.indexOf(e);l>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(e){let a=null;for(let t=0;t<this.childNodes.length;t++)if(this.childNodes[t].data===e){a=this.childNodes[t];break}a&&this.removeChild(a)}expand(e,a){const t=()=>{if(a){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),Ge(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{y(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ye(this),t())}):t()}doCreateChildren(e,a={}){e.forEach(e=>{this.insertChild(Object.assign({data:e},a),void 0,!0)})}collapse(){this.expanded=!1,Ge(this.childNodes,!1)}shouldLoadData(){return Boolean(!0===this.store.lazy&&this.store.load&&!this.loaded)}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,a,t,l){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:t,allWithoutDisable:n}=We(this.childNodes);this.isLeaf||t||!n||(this.checked=!1,e=!1);const i=()=>{if(a){const t=this.childNodes;for(let s=0,o=t.length;s<o;s++){const n=t[s];l=l||!1!==e;const i=n.disabled?n.checked:l;n.setChecked(i,a,!0,l)}const{half:n,all:i}=We(t);i||(this.checked=i,this.indeterminate=n)}};if(this.shouldLoadData())return void this.loadData(()=>{i(),Ye(this)},{checked:!1!==e});i()}const n=this.parent;n&&0!==n.level&&(t||Ye(n))}getChildren(e=!1){if(0===this.level)return this.data;const a=this.data;if(!a)return null;const t=this.store.props;let l="children";return t&&(l=t.children||"children"),b(a[l])&&(a[l]=null),e&&!a[l]&&(a[l]=[]),a[l]}updateChildren(){const e=this.getChildren()||[],a=this.childNodes.map(e=>e.data),t={},l=[];e.forEach((e,n)=>{const i=e[Fe];!!i&&a.some(e=>(null==e?void 0:e[Fe])===i)?t[i]={index:n,data:e}:l.push({index:n,data:e})}),this.store.lazy||a.forEach(e=>{t[null==e?void 0:e[Fe]]||this.removeChildByData(e)}),l.forEach(({index:e,data:a})=>{this.insertChild({data:a},e)}),this.updateLeafState()}loadData(e,a={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(a).length)e&&e.call(this);else{this.loading=!0;const t=t=>{this.childNodes=[],this.doCreateChildren(t,a),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,t)},l=()=>{this.loading=!1};this.store.load(this,t,l)}}eachNode(e){const a=[this];for(;a.length;){const t=a.shift();a.unshift(...t.childNodes),e(t)}}reInitChecked(){this.store.checkStrictly||Ye(this)}}class Ze{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const a in e)m(e,a)&&(this[a]=e[a]);this.nodesMap={}}initialize(){if(this.root=new Xe({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()},N)}else this._initDefaultCheckedNodes()}filter(e){const a=this.filterNodeMethod,t=this.lazy,l=async function(n){const i=n.root?n.root.childNodes:n.childNodes;for(const[t,s]of i.entries())s.visible=!!(null==a?void 0:a.call(s,e,s.data,s)),t%80==0&&t>0&&await j(),await l(s);if(!n.visible&&i.length){let e=!0;e=!i.some(e=>e.visible),n.root?n.root.visible=!1===e:n.visible=!1===e}e&&n.visible&&!n.isLeaf&&(t&&!n.loaded||n.expand())};l(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof Xe)return e;const a=w(e)?Re(this.key,e):e;return this.nodesMap[a]||null}insertBefore(e,a){var t;const l=this.getNode(a);null==(t=l.parent)||t.insertBefore({data:e},l)}insertAfter(e,a){var t;const l=this.getNode(a);null==(t=l.parent)||t.insertAfter({data:e},l)}remove(e){const a=this.getNode(e);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(e,a){const t=z(a)?this.root:this.getNode(a);t&&t.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],a=this.nodesMap;e.forEach(e=>{const t=a[e];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const a=this.defaultCheckedKeys||[];!g(e.key)&&a.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const a=this.key;if(e&&e.data)if(a){const a=e.key;g(a)||(this.nodesMap[a]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach(e=>{this.deregisterNode(e)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,a=!1){const t=[],l=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(n=>{(n.checked||a&&n.indeterminate)&&(!e||e&&n.isLeaf)&&t.push(n.data),l(n)})};return l(this),t}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(e=>(e||{})[this.key])}getHalfCheckedNodes(){const e=[],a=function(t){(t.root?t.root.childNodes:t.childNodes).forEach(t=>{t.indeterminate&&e.push(t.data),a(t)})};return a(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],a=this.nodesMap;for(const t in a)m(a,t)&&e.push(a[t]);return e}updateChildren(e,a){const t=this.nodesMap[e];if(!t)return;const l=t.childNodes;for(let n=l.length-1;n>=0;n--){const e=l[n];this.remove(e.data)}for(let n=0,i=a.length;n<i;n++){const e=a[n];this.append(e,t.data)}}_setCheckedKeys(e,a=!1,t){const l=this._getAllNodes().sort((e,a)=>e.level-a.level),n=Object.create(null),i=Object.keys(t);l.forEach(e=>e.setChecked(!1,!1));const s=a=>{a.childNodes.forEach(a=>{var t;n[a.data[e]]=!0,(null==(t=a.childNodes)?void 0:t.length)&&s(a)})};for(let o=0,d=l.length;o<d;o++){const t=l[o],d=t.data[e].toString();if(i.includes(d)){if(t.childNodes.length&&s(t),t.isLeaf||this.checkStrictly)t.setChecked(!0,!1);else if(t.setChecked(!0,!0),a){t.setChecked(!1,!1);const e=function(a){a.childNodes.forEach(a=>{a.isLeaf||a.setChecked(!1,!1),e(a)})};e(t)}}else t.checked&&!n[d]&&t.setChecked(!1,!1)}}setCheckedNodes(e,a=!1){const t=this.key,l={};e.forEach(e=>{l[(e||{})[t]]=!0}),this._setCheckedKeys(t,a,l)}setCheckedKeys(e,a=!1){this.defaultCheckedKeys=e;const t=this.key,l={};e.forEach(e=>{l[e]=!0}),this._setCheckedKeys(t,a,l)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(e=>{const a=this.getNode(e);a&&a.expand(null,this.autoExpandParent)})}setChecked(e,a,t){const l=this.getNode(e);l&&l.setChecked(!!a,t)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,a=!0){var t;const l=e[this.key],n=this.nodesMap[l];this.setCurrentNode(n),a&&this.currentNode&&this.currentNode.level>1&&(null==(t=this.currentNode.parent)||t.expand(null,!0))}setCurrentNodeKey(e,a=!0){var t;if(this.currentNodeKey=e,z(e))return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const l=this.getNode(e);l&&(this.setCurrentNode(l),a&&this.currentNode&&this.currentNode.level>1&&(null==(t=this.currentNode.parent)||t.expand(null,!0)))}}const ea="RootTree",aa="NodeInstance",ta="TreeNodeMap";var la=E(D({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const a=K("tree"),t=S(aa),l=S(ea);return()=>{const n=e.node,{data:s,store:o}=n;return e.renderContent?e.renderContent(I,{_self:t,node:n,data:s,store:o}):V(l.ctx.slots,"default",{node:n,data:s},()=>[I(i,{tag:"span",truncated:!0,class:a.be("node","label")},()=>[n.label])])}}}),[["__file","tree-node-content.vue"]]);function na(e){const a=S(ta,null),t={treeNodeExpand:a=>{var t;e.node!==a&&(null==(t=e.node)||t.collapse())},children:[]};return a&&a.children.push(t),A(ta,t),{broadcastExpanded:a=>{if(e.accordion)for(const e of t.children)e.treeNodeExpand(a)}}}const ia=Symbol("dragEvents");const sa=D({name:"ElTreeNode",components:{ElCollapseTransition:Ve,ElCheckbox:Se,NodeContent:la,ElIcon:ae,Loading:ee},props:{node:{type:Xe,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(e,a){const t=K("tree"),{broadcastExpanded:l}=na(e),n=S(ea),i=q(!1),s=q(!1),o=q(),d=q(),r=q(),c=S(ia),u=ne();A(aa,u),e.node.expanded&&(i.value=!0,s.value=!0);const p=n.props.props.children||"children";te(()=>{var a;const t=null==(a=e.node.data)?void 0:a[p];return t&&[...t]},()=>{e.node.updateChildren()}),te(()=>e.node.indeterminate,a=>{f(e.node.checked,a)}),te(()=>e.node.checked,a=>{f(a,e.node.indeterminate)}),te(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),te(()=>e.node.expanded,e=>{j(()=>i.value=e),e&&(s.value=!0)});const h=e=>Re(n.props.nodeKey,e.data),f=(a,t)=>{o.value===a&&d.value===t||n.ctx.emit("check-change",e.node.data,a,t),o.value=a,d.value=t},_=()=>{e.node.isLeaf||(i.value?(n.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):e.node.expand(()=>{a.emit("node-expand",e.node.data,e.node,u)}))},m=a=>{e.node.setChecked(a,!(null==n?void 0:n.props.checkStrictly)),j(()=>{const a=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:a.getCheckedNodes(),checkedKeys:a.getCheckedKeys(),halfCheckedNodes:a.getHalfCheckedNodes(),halfCheckedKeys:a.getHalfCheckedKeys()})})};return{ns:t,node$:r,tree:n,expanded:i,childNodeRendered:s,oldChecked:o,oldIndeterminate:d,getNodeKey:h,getNodeClass:a=>{const t=e.props.class;if(!t)return{};let l;if(C(t)){const{data:e}=a;l=t(e,a)}else l=t;return x(l)?{[l]:!0}:l},handleSelectChange:f,handleClick:a=>{He(n.store,n.ctx.emit,()=>{var a;if(null==(a=null==n?void 0:n.props)?void 0:a.nodeKey){const a=h(e.node);n.store.value.setCurrentNodeKey(a)}else n.store.value.setCurrentNode(e.node)}),n.currentNode.value=e.node,n.props.expandOnClickNode&&_(),(n.props.checkOnClickNode||e.node.isLeaf&&n.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&m(!e.node.checked),n.ctx.emit("node-click",e.node.data,e.node,u,a)},handleContextMenu:a=>{var t;(null==(t=n.instance.vnode.props)?void 0:t.onNodeContextmenu)&&(a.stopPropagation(),a.preventDefault()),n.ctx.emit("node-contextmenu",a,e.node.data,e.node,u)},handleExpandIconClick:_,handleCheckChange:m,handleChildNodeExpand:(e,a,t)=>{l(a),n.ctx.emit("node-expand",e,a,t)},handleDragStart:a=>{n.props.draggable&&c.treeNodeDragStart({event:a,treeNode:e})},handleDragOver:a=>{a.preventDefault(),n.props.draggable&&c.treeNodeDragOver({event:a,treeNode:{$el:r.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{n.props.draggable&&c.treeNodeDragEnd(e)},CaretRight:le}}});const oa=ve(E(D({name:"ElTree",components:{ElTreeNode:E(sa,[["render",function(e,a,t,l,n,i){const s=B("el-icon"),o=B("el-checkbox"),d=B("loading"),r=B("node-content"),c=B("el-tree-node"),u=B("el-collapse-transition");return $((P(),O("div",{ref:"node$",class:J([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:G(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:G(e.handleDragStart,["stop"]),onDragover:G(e.handleDragOver,["stop"]),onDragend:G(e.handleDragEnd,["stop"]),onDrop:G(e.handleDrop,["stop"])},[F("div",{class:J(e.ns.be("node","content")),style:Q({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(P(),R(s,{key:0,class:J([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:G(e.handleExpandIconClick,["stop"])},{default:W(()=>[(P(),R(Y(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):H("v-if",!0),e.showCheckbox?(P(),R(o,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:G(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):H("v-if",!0),e.node.loading?(P(),R(s,{key:2,class:J([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:W(()=>[M(d)]),_:1},8,["class"])):H("v-if",!0),M(r,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),M(u,null,{default:W(()=>[!e.renderAfterExpand||e.childNodeRendered?$((P(),O("div",{key:0,class:J(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:G(()=>{},["stop"])},[(P(!0),O(X,null,Z(e.node.childNodes,a=>(P(),R(c,{key:e.getNodeKey(a),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:a,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[L,e.expanded]]):H("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[L,e.node.visible]])}],["__file","tree-node.vue"]])},props:{data:{type:pe(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:pe(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:pe(Function)},allowDrop:{type:pe(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ue}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,a){const{t:t}=he(),l=K("tree"),n=S(h,null),i=q(new Ze({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();const s=q(i.value.root),o=q(null),d=q(null),r=q(null),{broadcastExpanded:c}=na(e),{dragState:u}=function({props:e,ctx:a,el$:t,dropIndicator$:l,store:n}){const i=K("tree"),s=q({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return A(ia,{treeNodeDragStart:({event:t,treeNode:l})=>{if(t.dataTransfer){if(C(e.allowDrag)&&!e.allowDrag(l.node))return t.preventDefault(),!1;t.dataTransfer.effectAllowed="move";try{t.dataTransfer.setData("text/plain","")}catch(n){}s.value.draggingNode=l,a.emit("node-drag-start",l.node,t)}},treeNodeDragOver:({event:n,treeNode:o})=>{if(!n.dataTransfer)return;const d=o,r=s.value.dropNode;r&&r.node.id!==d.node.id&&T(r.$el,i.is("drop-inner"));const c=s.value.draggingNode;if(!c||!d)return;let u=!0,p=!0,h=!0,f=!0;C(e.allowDrop)&&(u=e.allowDrop(c.node,d.node,"prev"),f=p=e.allowDrop(c.node,d.node,"inner"),h=e.allowDrop(c.node,d.node,"next")),n.dataTransfer.dropEffect=p||u||h?"move":"none",(u||p||h)&&(null==r?void 0:r.node.id)!==d.node.id&&(r&&a.emit("node-drag-leave",c.node,r.node,n),a.emit("node-drag-enter",c.node,d.node,n)),s.value.dropNode=u||p||h?d:null,d.node.nextSibling===c.node&&(h=!1),d.node.previousSibling===c.node&&(u=!1),d.node.contains(c.node,!1)&&(p=!1),(c.node===d.node||c.node.contains(d.node))&&(u=!1,p=!1,h=!1);const _=d.$el,m=_.querySelector(`.${i.be("node","content")}`).getBoundingClientRect(),v=t.value.getBoundingClientRect(),y=t.value.scrollTop;let g;const b=u?p?.25:h?.45:1:Number.NEGATIVE_INFINITY,k=h?p?.75:u?.55:0:Number.POSITIVE_INFINITY;let x=-9999;const N=n.clientY-m.top;g=N<m.height*b?"before":N>m.height*k?"after":p?"inner":"none";const w=_.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),z=l.value;"before"===g?x=w.top-v.top+y:"after"===g&&(x=w.bottom-v.top+y),z.style.top=`${x}px`,z.style.left=w.right-v.left+"px","inner"===g?U(_,i.is("drop-inner")):T(_,i.is("drop-inner")),s.value.showDropIndicator="before"===g||"after"===g,s.value.allowDrop=s.value.showDropIndicator||f,s.value.dropType=g,a.emit("node-drag-over",c.node,d.node,n)},treeNodeDragEnd:e=>{var t,l;const{draggingNode:o,dropType:d,dropNode:r}=s.value;if(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),(null==o?void 0:o.node.data)&&r){const s={data:o.node.data};"none"!==d&&o.node.remove(),"before"===d?null==(t=r.node.parent)||t.insertBefore(s,r.node):"after"===d?null==(l=r.node.parent)||l.insertAfter(s,r.node):"inner"===d&&r.node.insertChild(s),"none"!==d&&(n.value.registerNode(s),n.value.key&&o.node.eachNode(e=>{var a;null==(a=n.value.nodesMap[e.data[n.value.key]])||a.setChecked(e.checked,!n.value.checkStrictly)})),T(r.$el,i.is("drop-inner")),a.emit("node-drag-end",o.node,r.node,d,e),"none"!==d&&a.emit("node-drop",o.node,r.node,d,e)}o&&!r&&a.emit("node-drag-end",o.node,null,d,e),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}({props:e,ctx:a,el$:d,dropIndicator$:r,store:i});!function({el$:e},a){const t=K("tree");function l(e,t){var l,n;const i=a.value.getNode(e[t].dataset.key);return i.canFocus&&i.visible&&((null==(l=i.parent)?void 0:l.expanded)||0===(null==(n=i.parent)?void 0:n.level))}ie(()=>{n()}),se(()=>{Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(e=>{e.setAttribute("tabindex","-1")})}),oe(e,"keydown",a=>{const n=a.target;if(!n.className.includes(t.b("node")))return;const i=de(a),s=Array.from(e.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`)),o=s.indexOf(n);let d;if([re.up,re.down].includes(i)){if(a.preventDefault(),i===re.up){d=-1===o?0:0!==o?o-1:s.length-1;const e=d;for(;!l(s,d);){if(d--,d===e){d=-1;break}d<0&&(d=s.length-1)}}else{d=-1===o?0:o<s.length-1?o+1:0;const e=d;for(;!l(s,d);){if(d++,d===e){d=-1;break}d>=s.length&&(d=0)}}-1!==d&&s[d].focus()}[re.left,re.right].includes(i)&&(a.preventDefault(),n.click());const r=n.querySelector('[type="checkbox"]');[re.enter,re.numpadEnter,re.space].includes(i)&&r&&(a.preventDefault(),r.click())});const n=()=>{var a;if(!e.value)return;const l=Array.from(e.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(e=>{e.setAttribute("tabindex","-1")});const n=e.value.querySelectorAll(`.${t.is("checked")}[role=treeitem]`);n.length?n[0].setAttribute("tabindex","0"):null==(a=l[0])||a.setAttribute("tabindex","0")}}({el$:d},i);const p=fe(()=>{const{childNodes:e}=s.value,a=!!n&&0!==n.hasFilteredOptions;return(!e||0===e.length||e.every(({visible:e})=>!e))&&!a});te(()=>e.currentNodeKey,e=>{i.value.setCurrentNodeKey(null!=e?e:null)}),te(()=>e.defaultCheckedKeys,(e,a)=>{_e(e,a)||i.value.setDefaultCheckedKey(null!=e?e:[])}),te(()=>e.defaultExpandedKeys,e=>{i.value.setDefaultExpandedKeys(null!=e?e:[])}),te(()=>e.data,e=>{i.value.setData(e)},{deep:!0}),te(()=>e.checkStrictly,e=>{i.value.checkStrictly=e});const f=()=>{const e=i.value.getCurrentNode();return e?e.data:null};return A(ea,{ctx:a,props:e,store:i,root:s,currentNode:o,instance:ne()}),A(me,void 0),{ns:l,store:i,root:s,currentNode:o,dragState:u,el$:d,dropIndicator$:r,isEmpty:p,filter:a=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(a)},getNodeKey:a=>Re(e.nodeKey,a.data),getNodePath:a=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const t=i.value.getNode(a);if(!t)return[];const l=[t.data];let n=t.parent;for(;n&&n!==s.value;)l.push(n.data),n=n.parent;return l.reverse()},getCheckedNodes:(e,a)=>i.value.getCheckedNodes(e,a),getCheckedKeys:e=>i.value.getCheckedKeys(e),getCurrentNode:f,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const a=f();return a?a[e.nodeKey]:null},setCheckedNodes:(a,t)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(a,t)},setCheckedKeys:(a,t)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(a,t)},setChecked:(e,a,t)=>{i.value.setChecked(e,a,t)},getHalfCheckedNodes:()=>i.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>i.value.getHalfCheckedKeys(),setCurrentNode:(t,l=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");He(i,a.emit,()=>{c(t),i.value.setUserCurrentNode(t,l)})},setCurrentKey:(t,l=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");He(i,a.emit,()=>{c(),i.value.setCurrentNodeKey(null!=t?t:null,l)})},t:t,getNode:e=>i.value.getNode(e),remove:e=>{i.value.remove(e)},append:(e,a)=>{i.value.append(e,a)},insertBefore:(e,a)=>{i.value.insertBefore(e,a)},insertAfter:(e,a)=>{i.value.insertAfter(e,a)},handleNodeExpand:(e,t,l)=>{c(t),a.emit("node-expand",e,t,l)},updateKeyChildren:(a,t)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(a,t)}}}}),[["render",function(e,a,t,l,n,i){const s=B("el-tree-node");return P(),O("div",{ref:"el$",class:J([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(P(!0),O(X,null,Z(e.root.childNodes,a=>(P(),R(s,{key:e.getNodeKey(a),node:a,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(P(),O("div",{key:0,class:J(e.ns.e("empty-block"))},[V(e.$slots,"empty",{},()=>{var a;return[F("span",{class:J(e.ns.e("empty-text"))},ce(null!=(a=e.emptyText)?a:e.t("el.tree.emptyText")),3)]})],2)):H("v-if",!0),$(F("div",{ref:"dropIndicator$",class:J(e.ns.e("drop-indicator"))},null,2),[[L,e.dragState.showDropIndicator]])],2)}],["__file","tree.vue"]])),da={class:"back-text"},ra={class:"page-header-main"},ca={class:"page-header-heading"},ua={class:"heading-title"},pa={class:"title-text"},ha={key:0,class:"heading-tags"},fa={key:0,class:"heading-description"},_a={class:"description-text"},ma={key:1,class:"heading-extra"},va={key:0,class:"page-header-actions"},ya={key:1,class:"page-header-footer"},ga=e(D({__name:"PageHeader",props:{title:{default:""},description:{default:""},showBack:{type:Boolean,default:!1},backText:{default:"è¿”å›ž"},ghost:{type:Boolean,default:!1},tags:{default:()=>[]}},emits:["back"],setup(e,{emit:a}){const t=a,l=ye();function n(){t("back"),t("back")||l.back()}return(a,t)=>{const l=De;return P(),O("div",{class:J(["page-header",{"page-header--ghost":e.ghost}])},[e.showBack?(P(),O("div",{key:0,class:"page-header-back",onClick:n},[t[0]||(t[0]=F("i",{class:"bi bi-arrow-left back-icon"},null,-1)),F("span",da,ce(e.backText),1)])):H("",!0),F("div",ra,[F("div",ca,[F("div",ua,[V(a.$slots,"title",{},()=>[F("h1",pa,ce(e.title),1)],!0),a.$slots.tags||e.tags?(P(),O("div",ha,[V(a.$slots,"tags",{},()=>[(P(!0),O(X,null,Z(e.tags,(e,a)=>(P(),R(l,{key:a,type:e.type,size:e.size||"default"},{default:W(()=>[ge(ce(e.text),1)]),_:2},1032,["type","size"]))),128))],!0)])):H("",!0)]),a.$slots.description||e.description?(P(),O("div",fa,[V(a.$slots,"description",{},()=>[F("p",_a,ce(e.description),1)],!0)])):H("",!0),a.$slots.extra?(P(),O("div",ma,[V(a.$slots,"extra",{},void 0,!0)])):H("",!0)]),a.$slots.actions?(P(),O("div",va,[V(a.$slots,"actions",{},void 0,!0)])):H("",!0)]),a.$slots.footer?(P(),O("div",ya,[V(a.$slots,"footer",{},void 0,!0)])):H("",!0)],2)}}}),[["__scopeId","data-v-57518d3e"]]),ba={class:"file-card__icon"},ka={class:"file-card__info"},Ca={class:"file-card__name"},xa={class:"file-card__meta"},Na={key:0,class:"meta-item"},wa={key:0,class:"file-card__actions"},za=e(D({__name:"FileCard",props:{fileUrl:{},fileName:{},fileSize:{},uploadTime:{},type:{default:"default"},showActions:{type:Boolean,default:!0}},emits:["preview"],setup(e,{emit:a}){const t=e,l=a,n=fe(()=>{if(t.fileName)return t.fileName;const e=t.fileUrl.split("/");return e[e.length-1]||""}),i=fe(()=>{var e;return{pdf:"bi-file-pdf",doc:"bi-file-word",docx:"bi-file-word",xls:"bi-file-excel",xlsx:"bi-file-excel",zip:"bi-file-zip",rar:"bi-file-zip"}[(null==(e=n.value.split(".").pop())?void 0:e.toLowerCase())||""]||"bi-file-earmark-text"}),s=fe(()=>t.uploadTime?t.uploadTime.split(" ")[0]||t.uploadTime:""),o=()=>{const e=document.createElement("a");e.href=t.fileUrl,e.download=n.value,document.body.appendChild(e),e.click(),document.body.removeChild(e),ke.success("æ–‡ä»¶ä¸‹è½½å·²å¼€å§‹")},d=()=>{var e;const a=null==(e=n.value.split(".").pop())?void 0:e.toLowerCase();"doc"===a||"docx"===a?l("preview",t.fileUrl,n.value):window.open(t.fileUrl,"_blank")};return(a,t)=>{const l=be;return P(),O("div",{class:J(["file-card",[`file-card--${e.type}`]])},[F("div",ba,[F("i",{class:J(i.value)},null,2)]),F("div",ka,[F("div",Ca,ce(n.value),1),F("div",xa,[s.value?(P(),O("span",Na,[t[0]||(t[0]=F("i",{class:"bi bi-calendar"},null,-1)),ge(" "+ce(s.value),1)])):H("",!0)])]),e.showActions?(P(),O("div",wa,[M(l,{size:"small",onClick:o},{default:W(()=>[...t[1]||(t[1]=[F("i",{class:"bi bi-download"},null,-1),ge(" ä¸‹è½½ ",-1)])]),_:1}),M(l,{size:"small",onClick:d},{default:W(()=>[...t[2]||(t[2]=[F("i",{class:"bi bi-eye"},null,-1),ge(" é¢„è§ˆ ",-1)])]),_:1})])):H("",!0)],2)}}}),[["__scopeId","data-v-863d814f"]]),ja={class:"chapter-tree"},Ea={key:0,class:"chapter-search mb-3"},Da={class:"chapter-tree-container"},Ka={class:"chapter-tree-node"},Sa={class:"chapter-title"},Va={class:"chapter-meta"},Ia={key:1,class:"word-count text-muted ms-2"},Aa=e(D({__name:"ChapterTree",props:{chapters:{},showCheckbox:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},defaultCheckedKeys:{default:()=>[]}},emits:["check","select"],setup(e,{expose:a,emit:t}){const l=e,n=t,i=q(),o=q(""),d=q([]),r={children:"children",label:"title"};d.value=l.chapters,te(()=>l.chapters,e=>{d.value=e,l.defaultCheckedKeys.length>0&&i.value&&i.value.setCheckedKeys(l.defaultCheckedKeys)},{immediate:!0});const c=()=>{if(!o.value.trim())return void(d.value=l.chapters);const e=o.value.toLowerCase();d.value=u(l.chapters,e)},u=(e,a)=>{const t=[];for(const l of e)if(l.title.toLowerCase().includes(a))t.push(l);else if(l.children&&l.children.length>0){const e=u(l.children,a);e.length>0&&t.push({...l,children:e})}return t},p=()=>{if(!i.value)return;const e=i.value.getCheckedKeys(),a=i.value.getCheckedNodes();n("check",e,a)};return a({setCheckedKeys:e=>{var a;null==(a=i.value)||a.setCheckedKeys(e)},getCheckedKeys:()=>{var e;return null==(e=i.value)?void 0:e.getCheckedKeys()},getCheckedNodes:()=>{var e;return null==(e=i.value)?void 0:e.getCheckedNodes()}}),(a,t)=>{const l=Ce,n=De,u=oa,h=s;return P(),O("div",ja,[e.showSearch?(P(),O("div",Ea,[M(l,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),placeholder:"ðŸ” æœç´¢ç« èŠ‚...",clearable:"",onInput:c},{prefix:W(()=>[...t[1]||(t[1]=[F("i",{class:"bi bi-search"},null,-1)])]),_:1},8,["modelValue"])])):H("",!0),F("div",Da,[M(u,{ref_key:"treeRef",ref:i,data:d.value,props:r,"show-checkbox":e.showCheckbox,"check-strictly":!1,"default-expand-all":!1,"expand-on-click-node":!1,"node-key":"id",onCheck:p},{default:W(({node:e,data:a})=>{return[F("div",Ka,[F("span",Sa,[F("i",{class:J([(l=a,l.children&&l.children.length>0?"bi bi-folder":"bi bi-file-earmark-text"),"me-1"])},null,2),ge(" "+ce(a.title),1)]),F("span",Va,[a.level?(P(),R(n,{key:0,size:"small",type:"info"},{default:W(()=>{return[ge(ce((e=a.level,{1:"ä¸€çº§",2:"äºŒçº§",3:"ä¸‰çº§",4:"å››çº§",5:"äº”çº§"}[e]||`${e}çº§`)),1)];var e}),_:2},1024)):H("",!0),a.word_count?(P(),O("span",Ia,ce((t=a.word_count,t>=1e4?`${(t/1e4).toFixed(1)}ä¸‡`:t.toLocaleString()))+"å­— ",1)):H("",!0)])])];var t,l}),_:1},8,["data","show-checkbox"]),d.value&&0!==d.value.length?H("",!0):(P(),R(h,{key:0,description:"æš‚æ— ç« èŠ‚æ•°æ®","image-size":80}))])])}}}),[["__scopeId","data-v-af38204c"]]),qa={class:"tender-document-processor"},Ta={class:"collapse-title"},Ua={class:"upload-section"},Ba={key:0,class:"existing-document"},$a={class:"d-flex align-items-center justify-content-between"},La={class:"me-3"},Oa={key:1},Pa={key:0,class:"mt-3"},Fa={class:"d-flex align-items-center justify-content-between"},Ma={key:0,class:"bi bi-file-earmark-code me-1"},Ra={class:"collapse-title"},Ha={class:"chapter-section"},Wa={class:"stats-grid mb-3"},Ya={class:"stat-card"},Ja={class:"stat-value"},Ga={class:"stat-card"},Qa={class:"stat-value text-success"},Xa={class:"stat-card"},Za={class:"stat-value text-info"},et={class:"batch-operations mb-3"},at={class:"save-actions mt-4"},tt={key:0,class:"parsing-progress mt-3"},lt={class:"d-flex align-items-center"},nt=e(D({__name:"TenderDocumentProcessor",props:{projectId:{},companyId:{},projectDetail:{}},emits:["success","refresh","preview"],setup(e,{emit:a}){const t=e,n=a,i=q(),s=q(),o=q(["upload"]),d=q([]),r=q(null),c=q(!1),u=q("æ­£åœ¨è§£æžæ–‡æ¡£ç»“æž„..."),p=q([]),h=q([]),f=q([]),_=q(!1),m=q(!1),v=q(null),y=fe(()=>{const e=a=>{let t=a.length;return a.forEach(a=>{a.children&&a.children.length>0&&(t+=e(a.children))}),t};return e(p.value)}),g=fe(()=>h.value.length),b=fe(()=>f.value.reduce((e,a)=>e+(a.word_count||0),0)),k=fe(()=>null!==v.value),C=e=>{e.raw&&(r.value=e.raw,d.value=[e])},x=()=>{r.value=null,d.value=[],p.value=[],h.value=[]},N=()=>{v.value&&n("preview",v.value.path,v.value.name)},w=()=>{v.value=null,p.value=[],h.value=[],o.value=["upload"]},z=async()=>{if(r.value){c.value=!0,u.value="æ­£åœ¨è§£æžæ–‡æ¡£ç»“æž„...";try{const e=new FormData;e.append("file",r.value),e.append("company_id",t.companyId.toString()),e.append("project_id",t.projectId.toString());const a=await qe.parseDocumentStructure(e);if(!a.success)throw new Error(a.message||a.error||"è§£æžå¤±è´¥");p.value=a.chapters||[],ke.success("æ–‡æ¡£è§£æžæˆåŠŸ"),o.value=["chapters"]}catch(e){ke.error(`è§£æžå¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{c.value=!1}}else ke.warning("è¯·å…ˆä¸Šä¼ æ–‡æ¡£")},j=(e,a)=>{h.value=e,f.value=a},E=()=>{var e;const a=V(p.value);null==(e=s.value)||e.setCheckedKeys(a)},D=()=>{var e;null==(e=s.value)||e.setCheckedKeys([])},K=()=>{var e;const a=I(p.value,["æŠ€æœ¯","æ–¹æ¡ˆ","å®žæ–½","ç³»ç»Ÿ"]);null==(e=s.value)||e.setCheckedKeys(a)},S=()=>{var e;const a=V(p.value),t=I(p.value,["åˆåŒ","æ¡æ¬¾","åè®®"]),l=a.filter(e=>!t.includes(e));null==(e=s.value)||e.setCheckedKeys(l)},V=e=>{const a=[];return e.forEach(e=>{a.push(e.id),e.children&&e.children.length>0&&a.push(...V(e.children))}),a},I=(e,a)=>{const t=[];return e.forEach(e=>{a.some(a=>e.title.includes(a))&&t.push(e.id),e.children&&e.children.length>0&&t.push(...I(e.children,a))}),t},A=async()=>{if(0!==g.value){_.value=!0;try{await qe.saveResponseFile(t.projectId,h.value),ke.success("åº”ç­”æ–‡ä»¶ä¿å­˜æˆåŠŸ"),n("success","response"),n("refresh")}catch(e){ke.error(`ä¿å­˜å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{_.value=!1}}else ke.warning("è¯·å…ˆé€‰æ‹©ç« èŠ‚")},T=async()=>{if(0!==g.value){m.value=!0;try{await qe.saveTechnicalChapters(t.projectId,h.value),ke.success("æŠ€æœ¯éœ€æ±‚ä¿å­˜æˆåŠŸ"),n("success","technical"),n("refresh")}catch(e){ke.error(`ä¿å­˜å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{m.value=!1}}else ke.warning("è¯·å…ˆé€‰æ‹©ç« èŠ‚")},U=e=>{if(!e)return"æ‹›æ ‡æ–‡æ¡£";try{const a=e.replace(/\\/g,"/").split("/"),t=a[a.length-1];return decodeURIComponent(t)}catch(a){return"æ‹›æ ‡æ–‡æ¡£"}},B=()=>{if(!t.projectDetail)return;let e=t.projectDetail.step1_data;if("string"==typeof e)try{e=JSON.parse(e)}catch(a){e=null}if(t.projectDetail.tender_document_path){const e=t.projectDetail.original_filename||U(t.projectDetail.tender_document_path);v.value={path:t.projectDetail.tender_document_path,name:e,uploadedAt:t.projectDetail.created_at}}else if(null==e?void 0:e.file_path){const a=e.file_name||U(e.file_path);v.value={path:e.file_path,name:a,uploadedAt:t.projectDetail.created_at}}(null==e?void 0:e.chapters)&&Array.isArray(e.chapters)&&e.chapters.length>0&&(p.value=e.chapters,o.value=["chapters"])};return te(()=>t.projectDetail,()=>{B()},{immediate:!0}),ie(()=>{B()}),(e,a)=>{const t=De,n=be,h=Te,f=Ue,V=Ae,I=xe,q=l,U=Ie,B=ae;return P(),O("div",qa,[M(U,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),accordion:""},{default:W(()=>[M(V,{name:"upload"},{title:W(()=>[F("div",Ta,[a[2]||(a[2]=F("i",{class:"bi bi-upload me-2 text-primary"},null,-1)),a[3]||(a[3]=F("span",null,"æ­¥éª¤1: ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰",-1)),r.value?(P(),R(t,{key:0,type:"success",size:"small",class:"ms-2"},{default:W(()=>[...a[1]||(a[1]=[ge(" å·²ä¸Šä¼  ",-1)])]),_:1})):H("",!0)])]),default:W(()=>[F("div",Ua,[k.value?(P(),O("div",Ba,[M(h,{type:"success",closable:!1},{title:W(()=>[F("div",$a,[F("div",null,[a[5]||(a[5]=F("i",{class:"bi bi-file-earmark-check-fill me-2"},null,-1)),F("span",La,ce(v.value.name),1),M(t,{size:"small",type:"success"},{default:W(()=>[...a[4]||(a[4]=[ge("å·²ä¸Šä¼ ",-1)])]),_:1})]),F("div",null,[M(n,{size:"small",onClick:N},{default:W(()=>[...a[6]||(a[6]=[F("i",{class:"bi bi-eye me-1"},null,-1),ge(" é¢„è§ˆ ",-1)])]),_:1}),M(n,{size:"small",onClick:w},{default:W(()=>[...a[7]||(a[7]=[F("i",{class:"bi bi-arrow-repeat me-1"},null,-1),ge(" é‡æ–°ä¸Šä¼  ",-1)])]),_:1})])])]),_:1})])):(P(),O("div",Oa,[M(f,{ref_key:"uploadRef",ref:i,drag:"","auto-upload":!1,limit:1,accept:".doc,.docx","on-change":C,"on-remove":x,"file-list":d.value},{tip:W(()=>[...a[8]||(a[8]=[F("div",{class:"el-upload__tip"}," æ”¯æŒ .doc å’Œ .docx æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 50MBï¼ˆå¯é€‰ä¸Šä¼ ï¼Œç”¨äºŽè¾…åŠ©è§£æžï¼‰ ",-1)])]),default:W(()=>[a[9]||(a[9]=F("i",{class:"bi bi-cloud-upload",style:{"font-size":"48px",color:"var(--el-color-primary)"}},null,-1)),a[10]||(a[10]=F("div",{class:"el-upload__text"},[ge(" æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„æˆ– "),F("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["file-list"]),r.value?(P(),O("div",Pa,[M(h,{type:"success",closable:!1},{title:W(()=>[F("div",Fa,[F("span",null,[a[11]||(a[11]=F("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),ge(" å·²é€‰æ‹©æ–‡ä»¶: "+ce(r.value.name),1)]),M(n,{type:"primary",size:"small",loading:c.value,onClick:z},{default:W(()=>[c.value?H("",!0):(P(),O("i",Ma)),ge(" "+ce(c.value?"è§£æžä¸­...":"è§£æžæ–‡æ¡£ç»“æž„"),1)]),_:1},8,["loading"])])]),_:1})])):H("",!0)]))])]),_:1}),p.value.length>0?(P(),R(V,{key:0,name:"chapters"},{title:W(()=>[F("div",Ra,[a[12]||(a[12]=F("i",{class:"bi bi-list-nested me-2 text-success"},null,-1)),a[13]||(a[13]=F("span",null,"æ­¥éª¤2: é€‰æ‹©ç« èŠ‚",-1)),g.value>0?(P(),R(t,{key:0,type:"success",size:"small",class:"ms-2"},{default:W(()=>[ge(" å·²é€‰ "+ce(g.value)+" ä¸ª ",1)]),_:1})):H("",!0)])]),default:W(()=>{return[F("div",Ha,[F("div",Wa,[F("div",Ya,[a[14]||(a[14]=F("div",{class:"stat-label"},"æ€»ç« èŠ‚æ•°",-1)),F("div",Ja,ce(y.value),1)]),F("div",Ga,[a[15]||(a[15]=F("div",{class:"stat-label"},"å·²é€‰æ‹©",-1)),F("div",Qa,ce(g.value),1)]),F("div",Xa,[a[16]||(a[16]=F("div",{class:"stat-label"},"é€‰ä¸­å­—æ•°",-1)),F("div",Za,ce((e=b.value,e>=1e4?`${(e/1e4).toFixed(1)}ä¸‡`:e.toLocaleString())),1)])]),F("div",et,[M(I,null,{default:W(()=>[M(n,{size:"small",onClick:E},{default:W(()=>[...a[17]||(a[17]=[F("i",{class:"bi bi-check-all me-1"},null,-1),ge(" å…¨é€‰ ",-1)])]),_:1}),M(n,{size:"small",onClick:D},{default:W(()=>[...a[18]||(a[18]=[F("i",{class:"bi bi-x me-1"},null,-1),ge(" å…¨ä¸é€‰ ",-1)])]),_:1}),M(n,{size:"small",type:"success",onClick:K},{default:W(()=>[...a[19]||(a[19]=[F("i",{class:"bi bi-cpu me-1"},null,-1),ge(" ä»…é€‰æŠ€æœ¯ç« èŠ‚ ",-1)])]),_:1}),M(n,{size:"small",type:"warning",onClick:S},{default:W(()=>[...a[20]||(a[20]=[F("i",{class:"bi bi-file-x me-1"},null,-1),ge(" æŽ’é™¤åˆåŒæ¡æ¬¾ ",-1)])]),_:1})]),_:1})]),M(Aa,{ref_key:"chapterTreeRef",ref:s,chapters:p.value,onCheck:j},null,8,["chapters"]),F("div",at,[M(q,{size:16},{default:W(()=>[M(n,{type:"info",size:"large",disabled:0===g.value,loading:_.value,onClick:A},{default:W(()=>[...a[21]||(a[21]=[F("i",{class:"bi bi-file-earmark-arrow-down me-1"},null,-1),ge(" å¦å­˜ä¸ºåº”ç­”æ–‡ä»¶ ",-1)])]),_:1},8,["disabled","loading"]),M(n,{type:"success",size:"large",disabled:0===g.value,loading:m.value,onClick:T},{default:W(()=>[...a[22]||(a[22]=[F("i",{class:"bi bi-file-code me-1"},null,-1),ge(" å¦å­˜ä¸ºæŠ€æœ¯éœ€æ±‚ ",-1)])]),_:1},8,["disabled","loading"])]),_:1})])])];var e}),_:1})):H("",!0)]),_:1},8,["modelValue"]),c.value?(P(),O("div",tt,[M(h,{type:"info",closable:!1},{title:W(()=>[F("div",lt,[M(B,{class:"is-loading me-2"},{default:W(()=>[M(Ne(ee))]),_:1}),F("span",null,ce(u.value),1)])]),_:1})])):H("",!0)])}}}),[["__scopeId","data-v-08990e22"]]),it={class:"tender-management-detail"},st={class:"tab-content"},ot={class:"info-section"},dt={class:"section-header"},rt={class:"info-section"},ct={class:"section-header"},ut={key:0,class:"bi bi-magic me-1"},pt={key:0,class:"amount"},ht={key:1},ft={key:0,class:"deadline"},_t={key:1},mt={key:0,class:"deadline"},vt={key:1},yt={key:0,class:"deadline"},gt={key:1},bt={class:"info-section"},kt={class:"tab-content"},Ct={class:"info-section"},xt={class:"section-header"},Nt={key:0,class:"bi bi-magic me-1"},wt={key:0,class:"requirements-list"},zt={class:"requirement-content"},jt={class:"requirement-text"},Et={key:0},Dt={key:1},Kt={class:"requirement-status"},St={class:"info-section"},Vt={key:0,class:"requirements-list"},It={class:"requirement-content"},At={class:"requirement-text"},qt={key:0},Tt={key:1},Ut={key:2},Bt={class:"requirement-status"},$t={class:"info-section"},Lt={key:0,class:"requirements-list"},Ot={class:"requirement-content"},Pt={class:"requirement-text"},Ft={key:0},Mt={key:1},Rt={key:2},Ht={class:"requirement-status"},Wt={class:"info-section"},Yt={key:0,class:"financial-requirements"},Jt={class:"requirement-content"},Gt={class:"requirement-text"},Qt={class:"tab-label"},Xt={class:"tab-content"},Zt={class:"file-section"},el={class:"section-header"},al={class:"file-section"},tl={class:"section-header"},ll={class:"action-area"},nl={class:"tab-label"},il={class:"tab-content"},sl={class:"info-section"},ol={class:"section-header"},dl={key:0,class:"documents-grid"},rl={key:1,class:"info-section"},cl={class:"section-header"},ul={class:"tab-label"},pl={class:"tab-content"},hl={class:"file-section"},fl={class:"section-header"},_l={class:"file-section"},ml={class:"section-header"},vl={class:"file-section"},yl={class:"section-header"},gl={class:"action-area"},bl=e(D({__name:"ManagementDetail",setup(e){const h=we(),m=ye(),v=$e(),y=q(!1),g=q(!1),b=q(!1),C=q(null),x=q("basic"),N=q([]),w=q(null),z=q(!1),j=q(!1),E=q([]),D=q([]),K=q(!1),S=q(""),V=q(""),I=k({name:"",number:"",company_id:null,description:"",tender_unit:"",tender_agency:"",budget_amount:null,project_type:"",registration_deadline:"",bid_deadline:"",bid_opening_time:"",bid_opening_location:"",project_manager_name:"",project_manager_phone:"",tech_lead_name:"",tech_lead_phone:"",business_contact_name:"",business_contact_phone:"",authorized_person_name:"",authorized_person_id:""}),A={name:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}],number:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®ç¼–å·",trigger:"blur"}],company_id:[{required:!0,message:"è¯·é€‰æ‹©å…¬å¸",trigger:"change"}]},T=fe(()=>Number(h.params.id)),U=fe(()=>{var e;return(null==(e=C.value)?void 0:e.name)||"é¡¹ç›®è¯¦æƒ…"}),B=fe(()=>{const e=a=>{let t=a.length;return a.forEach(a=>{a.children&&a.children.length>0&&(t+=e(a.children))}),t};return e(D.value)}),$=e=>e?"string"==typeof e?{fileUrl:e,fileName:void 0,fileSize:void 0}:{fileUrl:e.file_url||e.file_path||"",fileName:e.filename||e.file_name,fileSize:e.file_size}:null,L=fe(()=>{var e,a;return $(null==(a=null==(e=C.value)?void 0:e.step1_data)?void 0:a.response_file_path)}),Y=fe(()=>{var e,a;return $(null==(a=null==(e=C.value)?void 0:e.step1_data)?void 0:a.business_response_file)}),J=fe(()=>{var e,a;return $(null==(a=null==(e=C.value)?void 0:e.step1_data)?void 0:a.technical_file_path)}),G=fe(()=>{var e,a;return $(null==(a=null==(e=C.value)?void 0:e.step1_data)?void 0:a.technical_point_to_point_file)}),Q=fe(()=>{var e,a;return $(null==(a=null==(e=C.value)?void 0:e.step1_data)?void 0:a.technical_proposal_file)}),ee={business_license:"è¥ä¸šæ‰§ç…§ä¿¡æ¯",legal_id_front:"æ³•äººèº«ä»½è¯æ­£é¢",legal_id_back:"æ³•äººèº«ä»½è¯åé¢",auth_id_front:"è¢«æŽˆæƒäººèº«ä»½è¯æ­£é¢",auth_id_back:"è¢«æŽˆæƒäººèº«ä»½è¯åé¢",authorization_letter:"æ³•äººæŽˆæƒå§”æ‰˜ä¹¦",iso9001:"ISO9001è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯",iso20000:"ISO20000ä¿¡æ¯æŠ€æœ¯æœåŠ¡ç®¡ç†ä½“ç³»è®¤è¯",iso27001:"ISO27001ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯",cmmi:"CMMIèƒ½åŠ›æˆç†Ÿåº¦è®¤è¯",itss:"ITSSä¿¡æ¯æŠ€æœ¯æœåŠ¡æ ‡å‡†è®¤è¯",telecom_license:"ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",value_added_telecom_license:"å¢žå€¼ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",basic_telecom_license:"åŸºç¡€ç”µä¿¡ä¸šåŠ¡è®¸å¯è¯",level_protection:"ç­‰çº§ä¿æŠ¤è®¤è¯",software_copyright:"è½¯ä»¶è‘—ä½œæƒ",patent_certificate:"ä¸“åˆ©è¯ä¹¦",audit_report:"è´¢åŠ¡è¦æ±‚",project_performance:"é¡¹ç›®ä¸šç»©è¦æ±‚",social_security:"ç¤¾ä¼šä¿é™©è¯æ˜Ž",dishonest_executor:"å¤±ä¿¡è¢«æ‰§è¡Œäºº",tax_violation_check:"é‡å¤§ç¨Žæ”¶è¿æ³•",gov_procurement_creditchina:"æ”¿åºœé‡‡è´­ä¸¥é‡è¿æ³•å¤±ä¿¡è®°å½•ï¼ˆä¿¡ç”¨ä¸­å›½ï¼‰",gov_procurement_ccgp:"æ”¿åºœé‡‡è´­ä¸¥é‡è¿æ³•å¤±ä¿¡è®°å½•ï¼ˆæ”¿åºœé‡‡è´­ç½‘ï¼‰",tax_compliance:"ä¾æ³•çº³ç¨Ž",commitment_letter:"æ‰¿è¯ºå‡½",property_certificate:"è¥ä¸šåŠžå…¬åœºæ‰€æˆ¿äº§è¯æ˜Ž",deposit_requirement:"ä¿è¯é‡‘è¦æ±‚",purchaser_blacklist:"é‡‡è´­äººé»‘åå•"},ae=fe(()=>{var e;const a=null==(e=C.value)?void 0:e.qualifications_data;return a&&"object"==typeof a&&Object.keys(a).length>0?(e=>{const a=[],t=[],l=[];let n=null;const i=["ISO","è®¤è¯","èµ„è´¨","è®¸å¯è¯","è¯ä¹¦","ç­‰ä¿","è‘—ä½œæƒ","ä¸“åˆ©","ä¿¡ç”¨"],s=["ä¸šç»©","é¡¹ç›®","æ¡ˆä¾‹","åˆåŒ"],o=["äººå‘˜","é¡¹ç›®ç»ç†","æŠ€æœ¯è´Ÿè´£äºº","å·¥ç¨‹å¸ˆ"],d=["è´¢åŠ¡","èµ„æœ¬","èµ„äº§","å®¡è®¡","é“¶è¡Œ","æ³¨å†Œèµ„é‡‘","è¥ä¸šé¢"];return Object.entries(e).forEach(([e,r])=>{const c="mandatory"===r.constraint_type,u=r.detail||"",p=r.summary||e;d.some(a=>e.includes(a))?(n||(n={description:[]}),n.description.push(`${p}: ${u}`)):s.some(a=>e.includes(a))?t.push({description:p,detail:u,required:c}):o.some(a=>e.includes(a))?l.push({position:p,detail:u,required:c}):(i.some(a=>e.includes(a)),a.push({name:p,note:u,required:c}))}),n&&n.description&&(n.description=n.description.join("ï¼›")),{certifications:a,performance:t,personnel:l,financial:n}})(a):{certifications:[],performance:[],personnel:[],financial:null}}),le=async()=>{if(T.value){y.value=!0;try{const a=(await qe.getProject(T.value)).data;if(C.value={id:a.project_id,name:a.project_name,number:a.project_number,company_id:a.company_id,company_name:a.company_name,status:a.status,created_at:a.created_at,updated_at:a.updated_at,authorized_person_name:a.authorized_person_name,authorized_person_id:a.authorized_person_id,tender_unit:a.tender_unit,tender_agency:a.tender_agency,budget_amount:a.budget_amount,project_type:a.project_type,registration_deadline:a.registration_deadline,bid_deadline:a.bid_deadline,bid_opening_time:a.bid_opening_time,bid_opening_location:a.bid_opening_location,project_manager_name:a.project_manager_name,project_manager_phone:a.project_manager_phone,tech_lead_name:a.tech_lead_name,tech_lead_phone:a.tech_lead_phone,business_contact_name:a.business_contact_name,business_contact_phone:a.business_contact_phone,description:a.description,step1_data:a.step1_data,...a},I.name=C.value.name||"",I.number=C.value.number||"",I.company_id=C.value.company_id||null,I.description=C.value.description||"",I.tender_unit=C.value.tender_unit||"",I.tender_agency=C.value.tender_agency||"",I.budget_amount=C.value.budget_amount||null,I.project_type=C.value.project_type||"",I.registration_deadline=C.value.registration_deadline||"",I.bid_deadline=C.value.bid_deadline||"",I.bid_opening_time=C.value.bid_opening_time||"",I.bid_opening_location=C.value.bid_opening_location||"",I.project_manager_name=C.value.project_manager_name||"",I.project_manager_phone=C.value.project_manager_phone||"",I.tech_lead_name=C.value.tech_lead_name||"",I.tech_lead_phone=C.value.tech_lead_phone||"",I.business_contact_name=C.value.business_contact_name||"",I.business_contact_phone=C.value.business_contact_phone||"",I.authorized_person_name=C.value.authorized_person_name||"",I.authorized_person_id=C.value.authorized_person_id||"",a.step1_data)try{const e="string"==typeof a.step1_data?JSON.parse(a.step1_data):a.step1_data;e.chapters&&Array.isArray(e.chapters)&&(D.value=e.chapters);const t=[];let l=1;if(a.tender_document_path&&t.push({id:l++,file_path:a.tender_document_path,file_url:a.tender_document_path,original_filename:"æ‹›æ ‡æ–‡æ¡£",document_type:"tender",uploaded_at:a.created_at}),e.response_file_path&&t.push({id:l++,file_path:e.response_file_path,file_url:e.response_file_path,original_filename:e.response_filename||"åº”ç­”æ–‡ä»¶æ¨¡æ¿",document_type:"response_template",file_size:e.response_file_size,uploaded_at:a.updated_at}),e.technical_file_path&&t.push({id:l++,file_path:e.technical_file_path,file_url:e.technical_file_path,original_filename:e.technical_filename||"æŠ€æœ¯éœ€æ±‚æ–‡ä»¶",document_type:"technical",file_size:e.technical_file_size,uploaded_at:a.updated_at}),e.business_response_file){const n="string"==typeof e.business_response_file?{file_path:e.business_response_file}:e.business_response_file;t.push({id:l++,file_path:n.file_path||n.file_url,file_url:n.file_url||n.file_path,original_filename:n.file_name||"å•†åŠ¡åº”ç­”å®Œæˆæ–‡ä»¶",document_type:"business_response",file_size:n.file_size,uploaded_at:a.updated_at})}if(e.technical_point_to_point_file){const n="string"==typeof e.technical_point_to_point_file?{file_path:e.technical_point_to_point_file}:e.technical_point_to_point_file;t.push({id:l++,file_path:n.file_path||n.file_url,file_url:n.file_url||n.file_path,original_filename:n.file_name||"æŠ€æœ¯ç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶",document_type:"technical_p2p",file_size:n.file_size,uploaded_at:a.updated_at})}if(e.technical_proposal_file){const n="string"==typeof e.technical_proposal_file?{file_path:e.technical_proposal_file}:e.technical_proposal_file;t.push({id:l++,file_path:n.file_path||n.file_url,file_url:n.file_url||n.file_path,original_filename:n.file_name||"æŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶",document_type:"technical_proposal",file_size:n.file_size,uploaded_at:a.updated_at})}E.value=t}catch(e){}"æ–°é¡¹ç›®"!==C.value.name&&"draft"!==C.value.status||(b.value=!0)}catch(a){ke.error("åŠ è½½é¡¹ç›®è¯¦æƒ…å¤±è´¥")}finally{y.value=!1}}},ne=e=>e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}),se=e=>({active:"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ",draft:"è‰ç¨¿"}[e]||e),oe=()=>{le()},de=()=>{b.value=!0},re=()=>{je.confirm("ç¡®å®šè¦å–æ¶ˆç¼–è¾‘å—ï¼Ÿæœªä¿å­˜çš„æ›´æ”¹å°†ä¸¢å¤±","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{le(),b.value=!1}).catch(()=>{})},ue=async()=>{g.value=!0;try{const e={project_name:I.name,project_number:I.number,company_id:I.company_id,description:I.description,tender_unit:I.tender_unit,tender_agency:I.tender_agency,budget_amount:I.budget_amount,project_type:I.project_type,registration_deadline:I.registration_deadline,bid_deadline:I.bid_deadline,bid_opening_time:I.bid_opening_time,bid_opening_location:I.bid_opening_location,project_manager_name:I.project_manager_name,project_manager_phone:I.project_manager_phone,tech_lead_name:I.tech_lead_name,tech_lead_phone:I.tech_lead_phone,business_contact_name:I.business_contact_name,business_contact_phone:I.business_contact_phone,authorized_person_name:I.authorized_person_name,authorized_person_id:I.authorized_person_id,status:"active"};await qe.updateProject(T.value,e),ke.success("ä¿å­˜æˆåŠŸ"),b.value=!1,await le()}catch(e){ke.error("ä¿å­˜å¤±è´¥")}finally{g.value=!1}},pe=async()=>{var e;if(!C.value)return;(null==(e=C.value.step1_data)?void 0:e.response_file_path)?(v.setCurrentProject(C.value),await m.push({name:"BusinessResponse"})):ke.warning("æœªæ‰¾åˆ°åº”ç­”æ–‡ä»¶æ¨¡æ¿")},he=async()=>{var e;if(!C.value)return;const a=null==(e=C.value.step1_data)?void 0:e.technical_file_path;a?await m.push({name:"PointToPoint",query:{projectId:T.value.toString(),technicalFileUrl:a,fromHitl:"true"}}):ke.warning("æœªæ‰¾åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")},_e=async()=>{var e;if(!C.value)return;const a=null==(e=C.value.step1_data)?void 0:e.technical_file_path;a?await m.push({name:"TechProposal",query:{projectId:T.value.toString(),technicalFileUrl:a,fromHitl:"true"}}):ke.warning("æœªæ‰¾åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")},me=async e=>{await le(),"response"===e?(ke.success("åº”ç­”æ–‡ä»¶å·²ä¿å­˜ï¼Œå¯ä»¥å¼€å§‹å•†åŠ¡åº”ç­”å¤„ç†"),x.value="business"):"technical"===e&&(ke.success("æŠ€æœ¯éœ€æ±‚å·²ä¿å­˜ï¼Œå¯ä»¥å¼€å§‹æŠ€æœ¯æ–¹æ¡ˆç¼–å†™"),x.value="technical")},ve=e=>{w.value=e},xe=async()=>{if(T.value){z.value=!0;try{const e=await qe.extractBasicInfo(T.value);if(!e.success||!e.data)throw new Error(e.error||"AIæå–å¤±è´¥");{const a=e.data;a.project_name&&(I.name=a.project_name),a.project_number&&(I.number=a.project_number),a.tender_party&&(I.tender_unit=a.tender_party),a.tender_agent&&(I.tender_agency=a.tender_agent),a.tender_location&&(I.bid_opening_location=a.tender_location),a.tender_deadline&&(I.bid_deadline=a.tender_deadline),ke.success("AIæå–åŸºæœ¬ä¿¡æ¯æˆåŠŸ"),b.value||(b.value=!0)}}catch(e){ke.error(`AIæå–å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{z.value=!1}}else ke.warning("è¯·å…ˆä¸Šä¼ å¹¶è§£æžæ‹›æ ‡æ–‡æ¡£")},Se=async()=>{if(T.value){j.value=!0;try{const e=await qe.extractQualifications(T.value);if(!e.success)throw new Error(e.error||"AIæå–å¤±è´¥");ke.success("AIæå–èµ„æ ¼è¦æ±‚æˆåŠŸï¼Œæ­£åœ¨åˆ·æ–°æ•°æ®..."),await le(),ke.success("èµ„æ ¼è¦æ±‚å·²æ›´æ–°")}catch(e){ke.error(`AIæå–å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{j.value=!1}}else ke.warning("è¯·å…ˆä¸Šä¼ å¹¶è§£æžæ‹›æ ‡æ–‡æ¡£")},Ve=(e,a)=>{S.value=e,V.value=a,K.value=!0};return te(()=>h.params.id,()=>{le()}),ie(()=>{(async()=>{try{const e=await Be.getCompanies();N.value=e.data||[]}catch(e){}})(),le()}),(e,h)=>{const m=be,v=De,k=Ce,q=r,$=p,te=_,ie=f,fe=u,ye=c,ke=Oe,we=Pe,je=d,Ie=o,Ae=t,qe=Le,Te=s,Ue=ze,Be=i,$e=n,Fe=l,Me=a;return P(),O("div",it,[M(Ne(ga),{title:U.value,"show-back":!0},{actions:W(()=>[b.value?(P(),O(X,{key:1},[M(m,{onClick:re},{default:W(()=>[...h[24]||(h[24]=[F("i",{class:"bi bi-x-lg"},null,-1),ge(" å–æ¶ˆ ",-1)])]),_:1}),M(m,{type:"primary",loading:g.value,onClick:ue},{default:W(()=>[...h[25]||(h[25]=[F("i",{class:"bi bi-check-lg"},null,-1),ge(" ä¿å­˜ ",-1)])]),_:1},8,["loading"])],64)):(P(),O(X,{key:0},[M(m,{onClick:oe},{default:W(()=>[...h[22]||(h[22]=[F("i",{class:"bi bi-arrow-clockwise"},null,-1),ge(" åˆ·æ–° ",-1)])]),_:1}),M(m,{type:"primary",onClick:de},{default:W(()=>[...h[23]||(h[23]=[F("i",{class:"bi bi-pencil"},null,-1),ge(" ç¼–è¾‘é¡¹ç›® ",-1)])]),_:1})],64))]),_:1},8,["title"]),y.value?(P(),R(Ne(Ee),{key:0,text:"åŠ è½½é¡¹ç›®è¯¦æƒ…..."})):C.value?(P(),O(X,{key:1},[M(nt,{"project-id":T.value,"company-id":C.value.company_id,"project-detail":C.value,onSuccess:me,onRefresh:le,onTaskIdUpdate:ve,onPreview:Ve},null,8,["project-id","company-id","project-detail"]),M(qe,{class:"tabs-card",shadow:"never"},{default:W(()=>[M(Me,{modelValue:x.value,"onUpdate:modelValue":h[20]||(h[20]=e=>x.value=e),class:"detail-tabs"},{default:W(()=>[M(Ae,{name:"basic"},{label:W(()=>[...h[26]||(h[26]=[F("span",{class:"tab-label"},[F("i",{class:"bi bi-info-circle"}),ge(" åŸºæœ¬ä¿¡æ¯ ")],-1)])]),default:W(()=>{return[F("div",st,[F("section",ot,[F("div",dt,[h[27]||(h[27]=F("h3",null,[F("i",{class:"bi bi-folder"}),ge(" é¡¹ç›®åŸºæœ¬ä¿¡æ¯")],-1)),M(v,{type:(e=C.value.status,{active:"success",completed:"primary",draft:"info"}[e]||"info")},{default:W(()=>[ge(ce(se(C.value.status)),1)]),_:1},8,["type"])]),b.value?(P(),R(ye,{key:0,model:I,rules:A,"label-width":"120px",class:"edit-form"},{default:W(()=>[M(fe,{gutter:20},{default:W(()=>[M($,{span:24},{default:W(()=>[M(q,{label:"é¡¹ç›®åç§°",prop:"name"},{default:W(()=>[M(k,{modelValue:I.name,"onUpdate:modelValue":h[0]||(h[0]=e=>I.name=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®åç§°"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"é¡¹ç›®ç¼–å·",prop:"number"},{default:W(()=>[M(k,{modelValue:I.number,"onUpdate:modelValue":h[1]||(h[1]=e=>I.number=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®ç¼–å·"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"å…¬å¸åç§°",prop:"company_id"},{default:W(()=>[M(ie,{modelValue:I.company_id,"onUpdate:modelValue":h[2]||(h[2]=e=>I.company_id=e),placeholder:"è¯·é€‰æ‹©å…¬å¸",style:{width:"100%"}},{default:W(()=>[(P(!0),O(X,null,Z(N.value,e=>(P(),R(te,{key:e.company_id,label:e.name,value:e.company_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"è¢«æŽˆæƒäºº"},{default:W(()=>[M(k,{modelValue:I.authorized_person_name,"onUpdate:modelValue":h[3]||(h[3]=e=>I.authorized_person_name=e),placeholder:"è¯·è¾“å…¥è¢«æŽˆæƒäººå§“å"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"æŽˆæƒäººèº«ä»½è¯"},{default:W(()=>[M(k,{modelValue:I.authorized_person_id,"onUpdate:modelValue":h[4]||(h[4]=e=>I.authorized_person_id=e),placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:24},{default:W(()=>[M(q,{label:"é¡¹ç›®æè¿°"},{default:W(()=>[M(k,{modelValue:I.description,"onUpdate:modelValue":h[5]||(h[5]=e=>I.description=e),type:"textarea",rows:4,placeholder:"è¯·è¾“å…¥é¡¹ç›®æè¿°"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(P(),R(we,{key:1,column:2,border:"",size:"large"},{default:W(()=>[M(ke,{label:"é¡¹ç›®åç§°",span:2},{default:W(()=>[F("strong",null,ce(C.value.name),1)]),_:1}),M(ke,{label:"é¡¹ç›®ç¼–å·"},{default:W(()=>[ge(ce(C.value.number||"-"),1)]),_:1}),M(ke,{label:"å…¬å¸åç§°"},{default:W(()=>[ge(ce(C.value.company_name),1)]),_:1}),M(ke,{label:"åˆ›å»ºæ—¶é—´"},{default:W(()=>[ge(ce(C.value.created_at),1)]),_:1}),M(ke,{label:"æœ€åŽæ›´æ–°"},{default:W(()=>[ge(ce(C.value.updated_at||"-"),1)]),_:1}),M(ke,{label:"è¢«æŽˆæƒäºº"},{default:W(()=>[ge(ce(C.value.authorized_person_name||"-"),1)]),_:1}),M(ke,{label:"æŽˆæƒäººèº«ä»½è¯"},{default:W(()=>[ge(ce(C.value.authorized_person_id||"-"),1)]),_:1})]),_:1}))]),F("section",rt,[F("div",ct,[h[28]||(h[28]=F("h3",null,[F("i",{class:"bi bi-megaphone"}),ge(" æ‹›æ ‡ä¿¡æ¯")],-1)),M(m,{size:"small",type:"primary",loading:z.value,disabled:!w.value,onClick:xe},{default:W(()=>[z.value?H("",!0):(P(),O("i",ut)),ge(" "+ce(z.value?"AIæå–ä¸­...":"AIæå–åŸºæœ¬ä¿¡æ¯"),1)]),_:1},8,["loading","disabled"])]),b.value?(P(),R(ye,{key:0,model:I,"label-width":"120px",class:"edit-form"},{default:W(()=>[M(fe,{gutter:20},{default:W(()=>[M($,{span:12},{default:W(()=>[M(q,{label:"æ‹›æ ‡å•ä½"},{default:W(()=>[M(k,{modelValue:I.tender_unit,"onUpdate:modelValue":h[6]||(h[6]=e=>I.tender_unit=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡å•ä½"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"æ‹›æ ‡ä»£ç†"},{default:W(()=>[M(k,{modelValue:I.tender_agency,"onUpdate:modelValue":h[7]||(h[7]=e=>I.tender_agency=e),placeholder:"è¯·è¾“å…¥æ‹›æ ‡ä»£ç†"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"é¢„ç®—é‡‘é¢"},{default:W(()=>[M(je,{modelValue:I.budget_amount,"onUpdate:modelValue":h[8]||(h[8]=e=>I.budget_amount=e),controls:!1,precision:2,placeholder:"è¯·è¾“å…¥é¢„ç®—é‡‘é¢",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"é¡¹ç›®ç±»åž‹"},{default:W(()=>[M(k,{modelValue:I.project_type,"onUpdate:modelValue":h[9]||(h[9]=e=>I.project_type=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®ç±»åž‹"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"æŠ¥åæˆªæ­¢æ—¶é—´"},{default:W(()=>[M(Ie,{modelValue:I.registration_deadline,"onUpdate:modelValue":h[10]||(h[10]=e=>I.registration_deadline=e),type:"datetime",placeholder:"é€‰æ‹©æŠ¥åæˆªæ­¢æ—¶é—´",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"æŠ•æ ‡æˆªæ­¢æ—¶é—´"},{default:W(()=>[M(Ie,{modelValue:I.bid_deadline,"onUpdate:modelValue":h[11]||(h[11]=e=>I.bid_deadline=e),type:"datetime",placeholder:"é€‰æ‹©æŠ•æ ‡æˆªæ­¢æ—¶é—´",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"å¼€æ ‡æ—¶é—´"},{default:W(()=>[M(Ie,{modelValue:I.bid_opening_time,"onUpdate:modelValue":h[12]||(h[12]=e=>I.bid_opening_time=e),type:"datetime",placeholder:"é€‰æ‹©å¼€æ ‡æ—¶é—´",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"å¼€æ ‡åœ°ç‚¹"},{default:W(()=>[M(k,{modelValue:I.bid_opening_location,"onUpdate:modelValue":h[13]||(h[13]=e=>I.bid_opening_location=e),placeholder:"è¯·è¾“å…¥å¼€æ ‡åœ°ç‚¹"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(P(),R(we,{key:1,column:2,border:"",size:"large"},{default:W(()=>[M(ke,{label:"æ‹›æ ‡å•ä½"},{default:W(()=>[ge(ce(C.value.tender_unit||"-"),1)]),_:1}),M(ke,{label:"æ‹›æ ‡ä»£ç†"},{default:W(()=>[ge(ce(C.value.tender_agency||"-"),1)]),_:1}),M(ke,{label:"é¢„ç®—é‡‘é¢"},{default:W(()=>[C.value.budget_amount?(P(),O("span",pt," Â¥ "+ce(ne(C.value.budget_amount)),1)):(P(),O("span",ht,"-"))]),_:1}),M(ke,{label:"é¡¹ç›®ç±»åž‹"},{default:W(()=>[ge(ce(C.value.project_type||"-"),1)]),_:1}),M(ke,{label:"æŠ¥åæˆªæ­¢æ—¶é—´"},{default:W(()=>[C.value.registration_deadline?(P(),O("span",ft,[h[29]||(h[29]=F("i",{class:"bi bi-calendar-event"},null,-1)),ge(" "+ce(C.value.registration_deadline),1)])):(P(),O("span",_t,"-"))]),_:1}),M(ke,{label:"æŠ•æ ‡æˆªæ­¢æ—¶é—´"},{default:W(()=>[C.value.bid_deadline?(P(),O("span",mt,[h[30]||(h[30]=F("i",{class:"bi bi-calendar-event"},null,-1)),ge(" "+ce(C.value.bid_deadline),1)])):(P(),O("span",vt,"-"))]),_:1}),M(ke,{label:"å¼€æ ‡æ—¶é—´"},{default:W(()=>[C.value.bid_opening_time?(P(),O("span",yt,[h[31]||(h[31]=F("i",{class:"bi bi-calendar-event"},null,-1)),ge(" "+ce(C.value.bid_opening_time),1)])):(P(),O("span",gt,"-"))]),_:1}),M(ke,{label:"å¼€æ ‡åœ°ç‚¹"},{default:W(()=>[ge(ce(C.value.bid_opening_location||"-"),1)]),_:1})]),_:1}))]),F("section",bt,[h[32]||(h[32]=F("div",{class:"section-header"},[F("h3",null,[F("i",{class:"bi bi-person-lines-fill"}),ge(" è”ç³»äººä¿¡æ¯")])],-1)),b.value?(P(),R(ye,{key:0,model:I,"label-width":"120px",class:"edit-form"},{default:W(()=>[M(fe,{gutter:20},{default:W(()=>[M($,{span:12},{default:W(()=>[M(q,{label:"é¡¹ç›®ç»ç†"},{default:W(()=>[M(k,{modelValue:I.project_manager_name,"onUpdate:modelValue":h[14]||(h[14]=e=>I.project_manager_name=e),placeholder:"è¯·è¾“å…¥é¡¹ç›®ç»ç†å§“å"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"è”ç³»ç”µè¯"},{default:W(()=>[M(k,{modelValue:I.project_manager_phone,"onUpdate:modelValue":h[15]||(h[15]=e=>I.project_manager_phone=e),placeholder:"è¯·è¾“å…¥è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"æŠ€æœ¯è´Ÿè´£äºº"},{default:W(()=>[M(k,{modelValue:I.tech_lead_name,"onUpdate:modelValue":h[16]||(h[16]=e=>I.tech_lead_name=e),placeholder:"è¯·è¾“å…¥æŠ€æœ¯è´Ÿè´£äººå§“å"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"è”ç³»ç”µè¯"},{default:W(()=>[M(k,{modelValue:I.tech_lead_phone,"onUpdate:modelValue":h[17]||(h[17]=e=>I.tech_lead_phone=e),placeholder:"è¯·è¾“å…¥è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"å•†åŠ¡è”ç³»äºº"},{default:W(()=>[M(k,{modelValue:I.business_contact_name,"onUpdate:modelValue":h[18]||(h[18]=e=>I.business_contact_name=e),placeholder:"è¯·è¾“å…¥å•†åŠ¡è”ç³»äººå§“å"},null,8,["modelValue"])]),_:1})]),_:1}),M($,{span:12},{default:W(()=>[M(q,{label:"è”ç³»ç”µè¯"},{default:W(()=>[M(k,{modelValue:I.business_contact_phone,"onUpdate:modelValue":h[19]||(h[19]=e=>I.business_contact_phone=e),placeholder:"è¯·è¾“å…¥è”ç³»ç”µè¯"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])):(P(),R(we,{key:1,column:2,border:"",size:"large"},{default:W(()=>[M(ke,{label:"é¡¹ç›®ç»ç†"},{default:W(()=>[ge(ce(C.value.project_manager_name||"-"),1)]),_:1}),M(ke,{label:"è”ç³»ç”µè¯"},{default:W(()=>[ge(ce(C.value.project_manager_phone||"-"),1)]),_:1}),M(ke,{label:"æŠ€æœ¯è´Ÿè´£äºº"},{default:W(()=>[ge(ce(C.value.tech_lead_name||"-"),1)]),_:1}),M(ke,{label:"è”ç³»ç”µè¯"},{default:W(()=>[ge(ce(C.value.tech_lead_phone||"-"),1)]),_:1}),M(ke,{label:"å•†åŠ¡è”ç³»äºº"},{default:W(()=>[ge(ce(C.value.business_contact_name||"-"),1)]),_:1}),M(ke,{label:"è”ç³»ç”µè¯"},{default:W(()=>[ge(ce(C.value.business_contact_phone||"-"),1)]),_:1})]),_:1}))])])];var e}),_:1}),M(Ae,{name:"qualifications"},{label:W(()=>[...h[33]||(h[33]=[F("span",{class:"tab-label"},[F("i",{class:"bi bi-award"}),ge(" èµ„æ ¼è¦æ±‚ ")],-1)])]),default:W(()=>[F("div",kt,[F("section",Ct,[F("div",xt,[h[34]||(h[34]=F("h3",null,[F("i",{class:"bi bi-patch-check"}),ge(" èµ„è´¨è¦æ±‚")],-1)),M(m,{size:"small",type:"primary",loading:j.value,disabled:!w.value,onClick:Se},{default:W(()=>[j.value?H("",!0):(P(),O("i",Nt)),ge(" "+ce(j.value?"AIæå–ä¸­...":"AIæå–èµ„æ ¼è¦æ±‚"),1)]),_:1},8,["loading","disabled"])]),ae.value.certifications.length>0?(P(),O("div",wt,[(P(!0),O(X,null,Z(ae.value.certifications,(e,a)=>(P(),R(qe,{key:a,shadow:"never",class:"requirement-item"},{default:W(()=>{return[F("div",zt,[h[37]||(h[37]=F("div",{class:"requirement-icon"},[F("i",{class:"bi bi-shield-check"})],-1)),F("div",jt,[F("h4",null,ce((a=e.name,ee[a]?ee[a]:a)),1),e.level?(P(),O("p",Et,"ç­‰çº§è¦æ±‚: "+ce(e.level),1)):H("",!0),e.note?(P(),O("p",Dt,ce(e.note),1)):H("",!0)]),F("div",Kt,[e.required?(P(),R(v,{key:0,type:"danger",size:"small"},{default:W(()=>[...h[35]||(h[35]=[ge(" å¿…éœ€ ",-1)])]),_:1})):(P(),R(v,{key:1,type:"info",size:"small"},{default:W(()=>[...h[36]||(h[36]=[ge("å¯é€‰",-1)])]),_:1}))])])];var a}),_:2},1024))),128))])):(P(),R(Te,{key:1,description:"æš‚æ— èµ„è´¨è¦æ±‚","image-size":80}))]),F("section",St,[h[41]||(h[41]=F("div",{class:"section-header"},[F("h3",null,[F("i",{class:"bi bi-graph-up-arrow"}),ge(" ä¸šç»©è¦æ±‚")])],-1)),ae.value.performance.length>0?(P(),O("div",Vt,[(P(!0),O(X,null,Z(ae.value.performance,(e,a)=>(P(),R(qe,{key:a,shadow:"never",class:"requirement-item"},{default:W(()=>[F("div",It,[h[40]||(h[40]=F("div",{class:"requirement-icon"},[F("i",{class:"bi bi-briefcase"})],-1)),F("div",At,[F("h4",null,ce(e.description),1),e.amount?(P(),O("p",qt,"é‡‘é¢è¦æ±‚: â‰¥ Â¥"+ce(ne(e.amount)),1)):H("",!0),e.time_range?(P(),O("p",Tt,"æ—¶é—´èŒƒå›´: "+ce(e.time_range),1)):H("",!0),e.count?(P(),O("p",Ut,"æ•°é‡è¦æ±‚: "+ce(e.count)+" ä¸ª",1)):H("",!0)]),F("div",Bt,[e.required?(P(),R(v,{key:0,type:"danger",size:"small"},{default:W(()=>[...h[38]||(h[38]=[ge(" å¿…éœ€ ",-1)])]),_:1})):(P(),R(v,{key:1,type:"info",size:"small"},{default:W(()=>[...h[39]||(h[39]=[ge("å¯é€‰",-1)])]),_:1}))])])]),_:2},1024))),128))])):(P(),R(Te,{key:1,description:"æš‚æ— ä¸šç»©è¦æ±‚","image-size":80}))]),F("section",$t,[h[45]||(h[45]=F("div",{class:"section-header"},[F("h3",null,[F("i",{class:"bi bi-people"}),ge(" äººå‘˜é…ç½®è¦æ±‚")])],-1)),ae.value.personnel.length>0?(P(),O("div",Lt,[(P(!0),O(X,null,Z(ae.value.personnel,(e,a)=>(P(),R(qe,{key:a,shadow:"never",class:"requirement-item"},{default:W(()=>[F("div",Ot,[h[44]||(h[44]=F("div",{class:"requirement-icon"},[F("i",{class:"bi bi-person-badge"})],-1)),F("div",Pt,[F("h4",null,ce(e.position),1),e.count?(P(),O("p",Ft,"äººæ•°: "+ce(e.count)+" äºº",1)):H("",!0),e.qualification?(P(),O("p",Mt,"èµ„æ ¼è¦æ±‚: "+ce(e.qualification),1)):H("",!0),e.experience?(P(),O("p",Rt,"ç»éªŒè¦æ±‚: "+ce(e.experience),1)):H("",!0)]),F("div",Ht,[e.required?(P(),R(v,{key:0,type:"danger",size:"small"},{default:W(()=>[...h[42]||(h[42]=[ge(" å¿…éœ€ ",-1)])]),_:1})):(P(),R(v,{key:1,type:"info",size:"small"},{default:W(()=>[...h[43]||(h[43]=[ge("å¯é€‰",-1)])]),_:1}))])])]),_:2},1024))),128))])):(P(),R(Te,{key:1,description:"æš‚æ— äººå‘˜é…ç½®è¦æ±‚","image-size":80}))]),F("section",Wt,[h[48]||(h[48]=F("div",{class:"section-header"},[F("h3",null,[F("i",{class:"bi bi-cash-stack"}),ge(" è´¢åŠ¡è¦æ±‚")])],-1)),ae.value.financial?(P(),O("div",Yt,[M(qe,{shadow:"never",class:"requirement-item"},{default:W(()=>[F("div",Jt,[h[47]||(h[47]=F("div",{class:"requirement-icon"},[F("i",{class:"bi bi-cash-stack"})],-1)),F("div",Gt,[h[46]||(h[46]=F("h4",null,"è´¢åŠ¡ç›¸å…³è¦æ±‚",-1)),F("p",null,ce(ae.value.financial.description),1)])])]),_:1})])):(P(),R(Te,{key:1,description:"æš‚æ— è´¢åŠ¡è¦æ±‚","image-size":80}))])])]),_:1}),M(Ae,{name:"business"},{label:W(()=>{var e;return[F("span",Qt,[h[49]||(h[49]=F("i",{class:"bi bi-briefcase"},null,-1)),h[50]||(h[50]=ge(" å•†åŠ¡åº”ç­” ",-1)),(null==(e=C.value.step1_data)?void 0:e.business_response_file)?(P(),R(Ue,{key:0,"is-dot":"",type:"success"})):H("",!0)])]}),default:W(()=>[F("div",Xt,[F("section",Zt,[F("div",el,[h[52]||(h[52]=F("h3",null,[F("i",{class:"bi bi-file-earmark-text"}),ge(" åº”ç­”æ–‡ä»¶æ¨¡æ¿")],-1)),M(v,{type:"info",size:"small"},{default:W(()=>[...h[51]||(h[51]=[ge("AI è‡ªåŠ¨æå–",-1)])]),_:1})]),L.value?(P(),R(za,{key:0,"file-url":L.value.fileUrl,"file-name":L.value.fileName,"file-size":L.value.fileSize,"show-actions":!0,onPreview:Ve},null,8,["file-url","file-name","file-size"])):(P(),R(Te,{key:1,description:"æš‚æœªæå–åˆ°åº”ç­”æ–‡ä»¶æ¨¡æ¿","image-size":80},{extra:W(()=>[M(Be,{type:"info",size:"small"},{default:W(()=>[...h[53]||(h[53]=[ge(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1})]),_:1}))]),M($e),F("section",al,[F("div",tl,[h[56]||(h[56]=F("h3",null,[F("i",{class:"bi bi-file-earmark-check"}),ge(" å•†åŠ¡åº”ç­”å®Œæˆæ–‡ä»¶")],-1)),Y.value?(P(),R(v,{key:0,type:"success",size:"small"},{default:W(()=>[...h[54]||(h[54]=[F("i",{class:"bi bi-check-circle-fill"},null,-1),ge(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(P(),R(v,{key:1,type:"info",size:"small"},{default:W(()=>[...h[55]||(h[55]=[ge("æœªç”Ÿæˆ",-1)])]),_:1}))]),Y.value?(P(),R(za,{key:0,"file-url":Y.value.fileUrl,"file-name":Y.value.fileName,"file-size":Y.value.fileSize,"show-actions":!0,type:"success",onPreview:Ve},null,8,["file-url","file-name","file-size"])):(P(),R(Te,{key:1,description:"æš‚æœªç”Ÿæˆå•†åŠ¡åº”ç­”æ–‡ä»¶","image-size":80},{extra:W(()=>[M(Be,{type:"info",size:"small"},{default:W(()=>[...h[57]||(h[57]=[ge(" ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ç”Ÿæˆå•†åŠ¡åº”ç­” ",-1)])]),_:1})]),_:1}))]),F("div",ll,[M(m,{type:"primary",size:"large",disabled:!L.value,onClick:pe},{default:W(()=>[h[58]||(h[58]=F("i",{class:"bi bi-rocket-takeoff"},null,-1)),ge(" "+ce(Y.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"å•†åŠ¡åº”ç­” ",1)]),_:1},8,["disabled"]),L.value?H("",!0):(P(),R(Be,{key:0,type:"warning",size:"small"},{default:W(()=>[...h[59]||(h[59]=[F("i",{class:"bi bi-exclamation-triangle"},null,-1),ge(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1}))])])]),_:1}),M(Ae,{name:"documents"},{label:W(()=>[F("span",nl,[h[60]||(h[60]=F("i",{class:"bi bi-files"},null,-1)),h[61]||(h[61]=ge(" æ–‡æ¡£ä¸Žç« èŠ‚ ",-1)),E.value.length>0||D.value.length>0?(P(),R(Ue,{key:0,value:E.value.length,type:"success"},null,8,["value"])):H("",!0)])]),default:W(()=>[F("div",il,[F("section",sl,[F("div",ol,[h[62]||(h[62]=F("h3",null,[F("i",{class:"bi bi-file-earmark-text"}),ge(" é¡¹ç›®æ–‡æ¡£")],-1)),E.value.length>0?(P(),R(v,{key:0,type:"success",size:"small"},{default:W(()=>[ge(" å…± "+ce(E.value.length)+" ä¸ªæ–‡ä»¶ ",1)]),_:1})):H("",!0)]),E.value.length>0?(P(),O("div",dl,[(P(!0),O(X,null,Z(E.value,e=>(P(),R(za,{key:e.id,"file-url":e.file_url||e.file_path,"file-name":e.original_filename,"file-size":e.file_size,"upload-time":e.uploaded_at,"show-actions":!0,onPreview:Ve},null,8,["file-url","file-name","file-size","upload-time"]))),128))])):(P(),R(Te,{key:1,description:"æš‚æ— æ–‡æ¡£","image-size":80},{extra:W(()=>[M(Be,{type:"info",size:"small"},{default:W(()=>[...h[63]||(h[63]=[ge(" è¯·åœ¨é¡µé¢é¡¶éƒ¨ä¸Šä¼ æ‹›æ ‡æ–‡æ¡£ ",-1)])]),_:1})]),_:1}))]),D.value.length>0?(P(),R($e,{key:0})):H("",!0),D.value.length>0?(P(),O("section",rl,[F("div",cl,[h[64]||(h[64]=F("h3",null,[F("i",{class:"bi bi-list-nested"}),ge(" å·²è¯†åˆ«ç« èŠ‚")],-1)),M(v,{type:"success",size:"small"},{default:W(()=>[ge(" å…± "+ce(B.value)+" ä¸ªç« èŠ‚ ",1)]),_:1})]),M(Aa,{chapters:D.value,"show-checkbox":!1,"show-search":!0},null,8,["chapters"])])):H("",!0)])]),_:1}),M(Ae,{name:"technical"},{label:W(()=>{var e,a;return[F("span",ul,[h[65]||(h[65]=F("i",{class:"bi bi-cpu"},null,-1)),h[66]||(h[66]=ge(" æŠ€æœ¯éœ€æ±‚ ",-1)),(null==(e=C.value.step1_data)?void 0:e.technical_point_to_point_file)||(null==(a=C.value.step1_data)?void 0:a.technical_proposal_file)?(P(),R(Ue,{key:0,"is-dot":"",type:"success"})):H("",!0)])]}),default:W(()=>[F("div",pl,[F("section",hl,[F("div",fl,[h[68]||(h[68]=F("h3",null,[F("i",{class:"bi bi-file-earmark-text"}),ge(" æŠ€æœ¯éœ€æ±‚æ–‡ä»¶")],-1)),M(v,{type:"info",size:"small"},{default:W(()=>[...h[67]||(h[67]=[ge("AI è‡ªåŠ¨æå–",-1)])]),_:1})]),J.value?(P(),R(za,{key:0,"file-url":J.value.fileUrl,"file-name":J.value.fileName,"file-size":J.value.fileSize,"show-actions":!0,onPreview:Ve},null,8,["file-url","file-name","file-size"])):(P(),R(Te,{key:1,description:"æš‚æœªæå–åˆ°æŠ€æœ¯éœ€æ±‚æ–‡ä»¶","image-size":80}))]),M($e),F("section",_l,[F("div",ml,[h[71]||(h[71]=F("h3",null,[F("i",{class:"bi bi-arrow-left-right"}),ge(" ç‚¹å¯¹ç‚¹åº”ç­”å®Œæˆæ–‡ä»¶")],-1)),G.value?(P(),R(v,{key:0,type:"success",size:"small"},{default:W(()=>[...h[69]||(h[69]=[F("i",{class:"bi bi-check-circle-fill"},null,-1),ge(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(P(),R(v,{key:1,type:"info",size:"small"},{default:W(()=>[...h[70]||(h[70]=[ge("æœªç”Ÿæˆ",-1)])]),_:1}))]),G.value?(P(),R(za,{key:0,"file-url":G.value.fileUrl,"file-name":G.value.fileName,"file-size":G.value.fileSize,"show-actions":!0,type:"success",onPreview:Ve},null,8,["file-url","file-name","file-size"])):(P(),R(Te,{key:1,description:"æš‚æœªç”Ÿæˆç‚¹å¯¹ç‚¹åº”ç­”æ–‡ä»¶","image-size":80}))]),M($e),F("section",vl,[F("div",yl,[h[74]||(h[74]=F("h3",null,[F("i",{class:"bi bi-file-code"}),ge(" æŠ€æœ¯æ–¹æ¡ˆå®Œæˆæ–‡ä»¶")],-1)),Q.value?(P(),R(v,{key:0,type:"success",size:"small"},{default:W(()=>[...h[72]||(h[72]=[F("i",{class:"bi bi-check-circle-fill"},null,-1),ge(" å·²ç”Ÿæˆ ",-1)])]),_:1})):(P(),R(v,{key:1,type:"info",size:"small"},{default:W(()=>[...h[73]||(h[73]=[ge("æœªç”Ÿæˆ",-1)])]),_:1}))]),Q.value?(P(),R(za,{key:0,"file-url":Q.value.fileUrl,"file-name":Q.value.fileName,"file-size":Q.value.fileSize,"show-actions":!0,type:"success",onPreview:Ve},null,8,["file-url","file-name","file-size"])):(P(),R(Te,{key:1,description:"æš‚æœªç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆæ–‡ä»¶","image-size":80}))]),F("div",gl,[M(Fe,{size:16},{default:W(()=>[M(m,{type:"primary",size:"large",disabled:!J.value,onClick:he},{default:W(()=>[h[75]||(h[75]=F("i",{class:"bi bi-arrow-left-right"},null,-1)),ge(" "+ce(G.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"ç‚¹å¯¹ç‚¹åº”ç­” ",1)]),_:1},8,["disabled"]),M(m,{type:"primary",size:"large",disabled:!J.value,onClick:_e},{default:W(()=>[h[76]||(h[76]=F("i",{class:"bi bi-file-code"},null,-1)),ge(" "+ce(Q.value?"é‡æ–°ç”Ÿæˆ":"å¼€å§‹")+"æŠ€æœ¯æ–¹æ¡ˆç¼–å†™ ",1)]),_:1},8,["disabled"])]),_:1}),J.value?H("",!0):(P(),R(Be,{key:0,type:"warning",size:"small"},{default:W(()=>[...h[77]||(h[77]=[F("i",{class:"bi bi-exclamation-triangle"},null,-1),ge(" è¯·å…ˆä¸Šä¼ æ‹›æ ‡æ–‡ä»¶å¹¶è¿›è¡Œ AI è§£æž ",-1)])]),_:1}))])])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)):(P(),R(Te,{key:2,description:"é¡¹ç›®ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥"})),M(Ne(Ke),{modelValue:K.value,"onUpdate:modelValue":h[21]||(h[21]=e=>K.value=e),"file-url":S.value,"file-name":V.value},null,8,["modelValue","file-url","file-name"])])}}}),[["__scopeId","data-v-1184cef6"]]);export{bl as default};
