import{e as t}from"./index.js";const d={async getKnowledgeDocuments(e){return t.get("/knowledge/documents",e)},async getKnowledgeDocument(e){return t.get(`/knowledge/documents/${e}`)},async uploadKnowledgeDocument(e,a){const r=new FormData;return r.append("file",e.file),r.append("company_id",e.company_id.toString()),r.append("category",e.category),r.append("title",e.title),e.description&&r.append("description",e.description),t.upload("/knowledge/documents/upload",r,s=>{if(a&&s.total){const c=Math.round(s.loaded*100/s.total);a(c)}})},async updateKnowledgeDocument(e,a){return t.put(`/knowledge/documents/${e}`,a)},async deleteKnowledgeDocument(e){return t.delete(`/knowledge/documents/${e}`)},async getKnowledgeCategories(){return t.get("/knowledge/categories")},async searchKnowledge(e){return t.post("/knowledge/search",e)},async ragRetrieval(e){return t.post("/knowledge/rag-retrieval",e)},async getCases(e){return t.get("/case_library/cases",e)},async getCase(e){return t.get(`/case_library/cases/${e}`)},async createCase(e){return t.post("/case_library/cases",e)},async updateCase(e,a){return t.put(`/case_library/cases/${e}`,a)},async deleteCase(e){return t.delete(`/case_library/cases/${e}`)},async getCaseAttachments(e){return t.get(`/case_library/cases/${e}/attachments`)},async uploadCaseAttachment(e,a,r,s,c){const n=new FormData;return n.append("file",a),n.append("attachment_type",r),s&&n.append("description",s),t.upload(`/case_library/cases/${e}/attachments`,n,o=>{if(c&&o.total){const u=Math.round(o.loaded*100/o.total);c(u)}})},async deleteCaseAttachment(e){return t.delete(`/case_library/attachments/${e}`)},downloadCaseAttachment(e){return`${t.getInstance().defaults.baseURL}/case_library/attachments/${e}/download`},async searchCases(e,a){return t.get("/case_library/search",{q:e,company_id:a})},async getCaseStatistics(e){return t.get("/case_library/statistics",e?{company_id:e}:void 0)},async getResumes(e){return t.get("/resume_library/list",e)},async getResume(e){return t.get(`/resume_library/detail/${e}`)},async createResume(e){return t.post("/resume_library/create",e)},async updateResume(e,a){return t.put(`/resume_library/update/${e}`,a)},async deleteResume(e){return t.delete(`/resume_library/delete/${e}`)},async parseResumeFile(e,a=!1,r,s){const c=new FormData;return c.append("file",e),c.append("auto_create",a.toString()),r&&c.append("company_id",r.toString()),t.upload("/resume_library/parse-resume",c,n=>{if(s&&n.total){const o=Math.round(n.loaded*100/n.total);s(o)}})},async uploadResumeAttachment(e,a,r,s,c){const n=new FormData;return n.append("file",a),n.append("resume_id",e.toString()),n.append("attachment_category",r),s&&n.append("description",s),t.upload("/resume_library/upload-attachment",n,o=>{if(c&&o.total){const u=Math.round(o.loaded*100/o.total);c(u)}})},async getResumeAttachments(e,a){return t.get(`/resume_library/attachments/${e}`,a?{category:a}:void 0)},async deleteResumeAttachment(e){return t.delete(`/resume_library/attachment/${e}`)},downloadResumeAttachment(e){return`${t.getInstance().defaults.baseURL}/resume_library/attachment/${e}/download`},async searchResumes(e,a=10){return t.get("/resume_library/search",{keyword:e,limit:a})},async getResumeStatistics(e){return t.get("/resume_library/statistics",e?{company_id:e}:void 0)},async exportResumes(e,a){return t.post("/resume_library/export",{resume_ids:e,options:a})},async getAttachmentCategories(){return t.get("/resume_library/categories")},async getEducationLevels(){return t.get("/resume_library/education-levels")}},m=e=>{if(!e||e===0)return"0 B";const a=1024,r=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(a));return`${Math.round(e/Math.pow(a,s)*100)/100} ${r[s]}`},p=(e,a="datetime")=>{if(!e)return"";const r=typeof e=="string"?new Date(e):e;if(isNaN(r.getTime()))return"";const s=r.getFullYear(),c=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0"),o=String(r.getHours()).padStart(2,"0"),u=String(r.getMinutes()).padStart(2,"0"),i=String(r.getSeconds()).padStart(2,"0");switch(a){case"date":return`${s}-${c}-${n}`;case"time":return`${o}:${u}`;case"datetime-full":return`${s}年${c}月${n}日 ${o}:${u}:${i}`;case"datetime":default:return`${s}-${c}-${n} ${o}:${u}`}};export{m as a,p as f,d as k};
