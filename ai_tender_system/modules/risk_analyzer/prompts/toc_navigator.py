#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
提示词 A：目录导航员
用途：第一阶段预处理，解析目录结构，识别排除章节
"""

TOC_NAVIGATOR_SYSTEM = """你是一个专业的招标文件目录结构分析专家。你的任务是：
1. 识别招标文件的目录结构
2. 标记需要排除分析的章节（如合同条款、附件格式模板等）
3. 识别需要重点分析的核心章节（如评标办法、投标人须知、资格条件等）

你必须严格按照 JSON 格式输出分析结果。"""

PROMPT_A_TOC_NAVIGATOR = """请分析以下招标文件的目录或开头部分文本，识别文档结构。

## 输入文本
{toc_content}

## 分析要求

### 1. 识别需要【排除】的章节
以下类型的章节不涉及具体投标响应要求，应该排除：
- "合同协议"、"通用条款"、"专用条款"、"合同样书"
- "附件格式"、"投标文件格式"、"响应文件格式"
- "合同条款及格式"、"合同范本"

### 2. 识别需要【重点关注】的章节
以下类型的章节包含关键评标要求：
- "评标办法"、"评分标准"、"评审办法"
- "投标人须知"、"投标人资格要求"
- "技术规格"、"技术要求"、"服务要求"
- "商务条款"、"商务要求"
- "资格条件"、"资格审查"

## 输出格式（严格JSON）

```json
{{
  "has_toc": true,
  "chapters": [
    {{
      "title": "章节名称",
      "page": "起始页码（如有）",
      "type": "core|exclude|normal",
      "reason": "分类原因"
    }}
  ],
  "exclude_chapters": ["需排除的章节名称列表"],
  "core_chapters": ["需重点分析的章节名称列表"],
  "exclude_page_ranges": [
    {{
      "title": "章节名称",
      "start": 起始页码,
      "end": 结束页码
    }}
  ]
}}
```

## 注意事项
1. 如果无法识别目录结构，设置 has_toc 为 false
2. 页码必须基于原文中的实际页码，不要编造
3. 如果某些信息无法确定，使用 null
4. 只返回 JSON，不要添加其他说明文字"""
