# 招标信息读取页面重构需求文档

## 1. 项目概述

### 1.1 项目背景
现有招标信息读取功能存在以下限制：
- 仅支持单个文件上传
- 信息提取界面单一，缺乏分步骤展示
- 缺乏评分信息的结构化展示
- 无法自动生成应答文件模板

### 1.2 重构目标
- 支持多文件上传（PDF、DOC、DOCX、Excel等）
- 实现三步骤信息读取流程
- 增强评分信息展示功能
- 自动生成应答文件模板

## 2. 功能需求

### 2.1 文件上传需求

#### 2.1.1 多文件上传支持
- **支持格式**：PDF (.pdf)、Word文档 (.doc, .docx)、Excel文件 (.xls, .xlsx)、文本文件 (.txt)
- **上传方式**：
  - 拖拽上传：支持同时拖拽多个文件
  - 点击上传：支持多选文件
  - 批量操作：支持一次性上传多个文件
- **文件限制**：
  - 单个文件最大50MB
  - 总文件数量不超过10个
  - 总大小不超过200MB

#### 2.1.2 文件管理功能
- 文件列表显示：显示已上传文件名、大小、类型
- 文件删除：支持单独删除某个文件
- 文件预览：支持预览文档内容（可选）
- 上传进度：显示每个文件的上传进度

### 2.2 三步骤信息读取流程

#### 2.2.1 第一步：基本信息提取
**必需字段**：
1. **招标人（采购人）**：发起采购的主体单位
2. **招标代理**：招标代理机构（如无则显示"采购人自行组织"）
3. **投标方式**：
   - 识别关键词：公开招标、竞争性磋商、询价等
   - 特殊说明：供应商须派代表当面递交等具体要求
4. **投标地点**：响应文件递交地点
5. **投标时间**：响应文件递交截止时间及地点
6. **中标人数量**：推荐成交候选供应商的数量（如：推荐2家、推荐2名成交候选人）
7. **项目名称**：完整的项目名称
8. **项目编号**：招标编号或采购编号

**界面要求**：
- 以卡片形式展示每个字段
- 支持手动编辑和修正
- 显示提取置信度（高/中/低）
- 提供字段说明和示例

#### 2.2.2 第二步：投标要求信息

**资质要求**：
- **信用中国网站**：查询要求和说明
- **营业执照**：副本要求
- **ISO认证**：质量管理体系认证等
- **其他资质**：行业特定资质要求

**业绩要求**：
- 类似项目经验要求
- 业绩规模要求
- 时间限制（如近3年）
- 证明材料要求

**界面要求**：
- 分类展示不同类型的要求
- 支持标记"必需"或"优先"
- 显示具体要求描述
- 支持添加自定义要求项

#### 2.2.3 第三步：评分信息

**评分表格结构**：
1. **大类**：技术评分、商务评分、报价评分
2. **评分项**：具体的评分子项
3. **评分标准**：每个评分项的具体标准和要求
4. **分数**：每个评分项的分值

**总体项目评分**：
- **满分显示**：总分多少分
- **分类权重**：商务分、技术分、报价分各占比例
- **评分项详情**：可展开查看具体评分细则

**界面要求**：
- 表格形式展示评分信息
- 支持展开/收起评分项详情
- 如无评分标准，显示"该项目无评分标准"
- 支持导出评分表格

### 2.3 应答文件格式处理

#### 2.3.1 自动提取应答文件格式
- **提取逻辑**：
  - 在招标文件中搜索"应答文件格式"相关章节
  - 提取完整的格式要求内容
  - 生成对应的应答文件模板

#### 2.3.2 应答文件模板生成
- **模板生成**：
  - 基于提取的格式要求创建Word模板
  - 自动调整标题格式和层级
  - 预设常用应答内容占位符

#### 2.3.3 商务应答页面集成
- **自动上传功能**：
  - 打开商务应答页面时，自动检查是否有生成的模板
  - 如有模板，自动填充到"点击上传商务应答模板"处
- **手动上传优先**：
  - 用户手动上传的文档优先级更高
  - 如用户手动上传，则忽略自动生成的模板
- **页面显示逻辑**：
  - 如无应答文件格式要求，商务应答页面正常显示
  - 支持用户选择使用自动模板或上传自定义模板

## 3. 非功能性需求

### 3.1 性能要求
- 文件上传响应时间：单个文件<10秒
- 信息提取处理时间：<30秒
- 页面加载时间：<3秒

### 3.2 兼容性要求
- 浏览器兼容：Chrome 90+
- 文件格式兼容：完全支持Office 2016+格式

### 3.3 安全要求
- 文件上传安全：病毒扫描、格式验证
- 数据存储安全：文件加密存储
- 访问控制：用户会话管理

### 3.4 可用性要求
- 用户界面友好：直观的三步骤指引
- 错误处理：明确的错误提示和恢复建议
- 帮助文档：每步骤提供操作说明

## 4. 界面设计要求

### 4.1 整体布局
- 采用步骤指示器显示当前进度
- 每个步骤独立页面或折叠面板
- 响应式设计，支持不同屏幕尺寸

### 4.2 文件上传区域
- 大文件拖拽区域，视觉突出
- 文件列表展示，支持批量管理
- 进度条和状态指示

### 4.3 信息展示
- 卡片式布局展示提取结果
- 支持字段编辑的内联编辑功能
- 清晰的视觉层次和分组

### 4.4 交互设计
- 平滑的步骤切换动画
- 实时保存和状态提示
- 撤销/重做功能支持

## 5. 数据存储需求

### 5.1 文件存储
- 临时文件存储：上传后24小时自动清理
- 模板文件存储：生成的应答模板永久保存
- 文件索引：建立文件和项目的关联关系

### 5.2 提取结果存储
- 结构化存储：JSON格式存储提取结果
- 版本控制：支持多次提取结果的版本管理
- 配置文件：兼容现有的.ini配置文件格式

## 6. 集成要求

### 6.1 与现有系统集成
- 商务应答系统：自动模板传递
- 点对点应答系统：共享项目基本信息
- 技术方案系统：传递评分要求信息

### 6.2 API接口要求
- RESTful API设计
- 统一的响应格式
- 完整的错误代码定义

## 7. 测试要求

### 7.1 功能测试
- 多文件上传测试
- 不同格式文件的信息提取准确性测试
- 应答模板生成质量测试

### 7.2 性能测试
- 大文件上传性能测试
- 并发访问压力测试
- 长时间运行稳定性测试

### 7.3 兼容性测试
- 不同浏览器兼容性测试
- 各种Office版本文件兼容性测试
- 移动端功能测试

## 8. 验收标准

### 8.1 功能验收
- ✅ 支持同时上传最多10个不同格式的文件
- ✅ 三步骤信息提取流程完整可用
- ✅ 基本信息8个字段提取准确率>85%
- ✅ 评分信息结构化展示完整
- ✅ 应答文件模板自动生成功能正常

### 8.2 性能验收
- ✅ 单个50MB文件上传时间<30秒
- ✅ 信息提取处理时间<60秒
- ✅ 页面响应时间<5秒

### 8.3 用户体验验收
- ✅ 界面操作直观，无需培训即可使用
- ✅ 错误处理友好，提供明确的解决建议
- ✅ 移动端基本功能可正常使用

## 9. 项目里程碑

### Phase 1: 多文件上传功能（1周）
- 实现多文件上传界面
- 完成文件管理功能
- 基础的文件格式验证

### Phase 2: 三步骤信息提取（2周）
- 重构信息提取界面
- 实现基本信息、投标要求、评分信息三步骤
- 优化信息提取算法

### Phase 3: 应答模板生成（1周）
- 实现应答文件格式提取
- 开发模板生成功能
- 完成与商务应答页面集成

### Phase 4: 测试与优化（1周）
- 全面功能测试
- 性能优化
- 用户体验改进

## 10. 风险评估

### 10.1 技术风险
- **文件格式兼容性**：不同版本Office文件可能存在解析问题
- **信息提取准确性**：AI算法对非标准格式文档的识别率可能较低
- **性能问题**：大文件处理可能影响系统响应速度

### 10.2 缓解措施
- 提供多种文件格式解析库备选
- 实现人工校正和确认机制
- 采用异步处理和进度提示
- 建立完善的错误处理和恢复机制

---

**文档版本**：1.0
**创建日期**：2025年9月9日
**最后更新**：2025年9月9日
**文档状态**：待审核