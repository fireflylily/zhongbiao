# æµ‹è¯•ç”¨ä¾‹æ•°æ®æ–‡ä»¶è¯´æ˜

## ğŸ“ æ–‡ä»¶è¯´æ˜

### `business_response_test_cases.json`
å•†åŠ¡åº”ç­”æ–‡å­—å¡«å……åŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹æ•°æ®æ–‡ä»¶ã€‚

**ç”¨é€”**ï¼š
- ä»Pythonä»£ç ä¸­åˆ†ç¦»æµ‹è¯•æ•°æ®
- ä¾¿äºæ·»åŠ å’Œç®¡ç†å¤§é‡æµ‹è¯•ç”¨ä¾‹
- æ”¯æŒéæŠ€æœ¯äººå‘˜é€šè¿‡Excelç¼–è¾‘

**ç»“æ„**ï¼š
```json
{
  "version": "1.0",
  "last_updated": "2025-12-02",
  "description": "æè¿°",
  "test_suites": {
    "å¥—ä»¶åç§°": {
      "description": "å¥—ä»¶æè¿°",
      "test_cases": [
        {
          "id": "ç”¨ä¾‹ID",
          "field_alias": "æ–‡æ¡£ä¸­çš„å­—æ®µå",
          "expected_standard_field": "æ ‡å‡†å­—æ®µå",
          "note": "å¤‡æ³¨"
        }
      ]
    }
  },
  "sample_data": {
    "description": "ç¤ºä¾‹æ•°æ®æè¿°",
    "data": {
      "å­—æ®µå": "å€¼"
    }
  }
}
```

---

## ğŸ”§ å¦‚ä½•ä½¿ç”¨

### æ–¹å¼1ï¼šç›´æ¥ç¼–è¾‘JSONæ–‡ä»¶ï¼ˆæ¨èç»™å¼€å‘äººå‘˜ï¼‰

```bash
# ç¼–è¾‘JSONæ–‡ä»¶
vim tests/data/business_response_test_cases.json

# è¿è¡Œæµ‹è¯•éªŒè¯
pytest tests/unit/modules/test_business_response_text_filling.py -v
```

### æ–¹å¼2ï¼šé€šè¿‡Excelç¼–è¾‘ï¼ˆæ¨èç»™éæŠ€æœ¯äººå‘˜ï¼‰

#### ç¬¬1æ­¥ï¼šå¯¼å‡ºä¸ºExcel

```bash
cd tests
python scripts/export_to_excel.py
```

ç”Ÿæˆæ–‡ä»¶ï¼š`tests/data/business_response_test_cases.xlsx`

#### ç¬¬2æ­¥ï¼šç”¨Excelç¼–è¾‘

æ‰“å¼€ `business_response_test_cases.xlsx`ï¼Œä½ ä¼šçœ‹åˆ°ï¼š

- **æ¦‚è§ˆ** - ç‰ˆæœ¬å’Œè¯´æ˜ä¿¡æ¯
- **å„æµ‹è¯•å¥—ä»¶** - æ¯ä¸ªsheetå¯¹åº”ä¸€ä¸ªæµ‹è¯•å¥—ä»¶
  - `field_recognition_company` - å…¬å¸åç§°å­—æ®µè¯†åˆ«
  - `field_recognition_address` - åœ°å€å­—æ®µè¯†åˆ«
  - `field_recognition_legal_person` - æ³•äººå’Œè¢«æˆæƒäººè¯†åˆ«
  - `bracket_field_filling` - æ‹¬å·å­—æ®µå¡«å……
  - `combo_field_recognition` - ç»„åˆå­—æ®µè¯†åˆ«
  - `date_formatting` - æ—¥æœŸæ ¼å¼åŒ–
  - `signature_field_skip_logic` - ç­¾å­—å­—æ®µè·³è¿‡é€»è¾‘
  - `real_world_scenarios` - çœŸå®åœºæ™¯æ˜ å°„
- **ç¤ºä¾‹æ•°æ®** - æµ‹è¯•ç”¨çš„å…¬å¸æ•°æ®

**ç¼–è¾‘æç¤º**ï¼š
- å¯ä»¥æ·»åŠ æ–°è¡Œå¢åŠ æµ‹è¯•ç”¨ä¾‹
- å¯ä»¥ä¿®æ”¹ç°æœ‰ç”¨ä¾‹
- ä¿æŒåˆ—åä¸å˜
- ä¸è¦åˆ é™¤ `id` åˆ—

#### ç¬¬3æ­¥ï¼šå¯¼å…¥å›JSON

```bash
python scripts/import_from_excel.py
```

#### ç¬¬4æ­¥ï¼šè¿è¡Œæµ‹è¯•éªŒè¯

```bash
pytest tests/unit/modules/test_business_response_text_filling.py -v
```

---

## ğŸ“ æ·»åŠ æ–°æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹

### åœ¨JSONä¸­æ·»åŠ 

```json
{
  "id": "company_008",
  "field_alias": "æŠ•æ ‡å•ä½",
  "expected_standard_field": "companyName",
  "note": "æŠ•æ ‡å•ä½ç§°å‘¼"
}
```

### åœ¨Excelä¸­æ·»åŠ 

| id | field_alias | expected_standard_field | note |
|----|-------------|------------------------|------|
| company_008 | æŠ•æ ‡å•ä½ | companyName | æŠ•æ ‡å•ä½ç§°å‘¼ |

---

## ğŸ¯ æµ‹è¯•å¥—ä»¶è¯´æ˜

### 1. field_recognition_company
**å…¬å¸åç§°å­—æ®µè¯†åˆ«æµ‹è¯•** - 7ä¸ªç”¨ä¾‹

æµ‹è¯•å„ç§å…¬å¸åç§°çš„åˆ«åèƒ½å¦æ­£ç¡®è¯†åˆ«ä¸º `companyName`

### 2. field_recognition_address
**åœ°å€å­—æ®µè¯†åˆ«æµ‹è¯•** - 7ä¸ªç”¨ä¾‹

æµ‹è¯•å„ç§åœ°å€å­—æ®µçš„åˆ«åèƒ½å¦æ­£ç¡®è¯†åˆ«ä¸º `address`

### 3. field_recognition_legal_person
**æ³•äººå’Œè¢«æˆæƒäººå­—æ®µè¯†åˆ«æµ‹è¯•** - 11ä¸ªç”¨ä¾‹

æµ‹è¯•ï¼š
- æ³•å®šä»£è¡¨äººç›¸å…³å­—æ®µ â†’ `legalRepresentative`
- è¢«æˆæƒäººç›¸å…³å­—æ®µ â†’ `representativeName`

### 4. bracket_field_filling
**æ‹¬å·å­—æ®µå¡«å……æµ‹è¯•** - 5ä¸ªç”¨ä¾‹

æµ‹è¯• `(ä¾›åº”å•†åç§°)` è¿™ç±»æ‹¬å·å­—æ®µçš„è¯†åˆ«å’Œå¡«å……

### 5. combo_field_recognition
**ç»„åˆå­—æ®µè¯†åˆ«æµ‹è¯•** - 3ä¸ªç”¨ä¾‹

æµ‹è¯• `(å…¬å¸åç§°ã€åœ°å€)` è¿™ç±»ç»„åˆå­—æ®µçš„è§£æ

### 6. date_formatting
**æ—¥æœŸæ ¼å¼åŒ–æµ‹è¯•** - 5ä¸ªç”¨ä¾‹

æµ‹è¯•å„ç§æ—¥æœŸæ ¼å¼è½¬æ¢ä¸ºä¸­æ–‡æ ¼å¼

### 7. signature_field_skip_logic
**ç­¾å­—å­—æ®µè·³è¿‡é€»è¾‘æµ‹è¯•** - 5ä¸ªç”¨ä¾‹

æµ‹è¯•ç­¾å­—/ç›–ç« å­—æ®µçš„è·³è¿‡é€»è¾‘

### 8. real_world_scenarios
**çœŸå®åœºæ™¯å­—æ®µæ˜ å°„æµ‹è¯•** - 3ä¸ªç”¨ä¾‹

æµ‹è¯•å®é™…æ–‡æ¡£ä¸­çš„å­—æ®µæ˜ å°„

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **JSONæ ¼å¼**
   - ç¡®ä¿JSONæ ¼å¼æ­£ç¡®ï¼ˆä½¿ç”¨JSONéªŒè¯å·¥å…·ï¼‰
   - ä¸­æ–‡å­—ç¬¦æ­£å¸¸ä¿å­˜ï¼ˆUTF-8ç¼–ç ï¼‰

2. **Excelæ ¼å¼**
   - ä¸è¦ä¿®æ”¹sheetåç§°
   - ä¸è¦åˆ é™¤åˆ—æ ‡é¢˜
   - ç©ºè¡Œä¼šè¢«è‡ªåŠ¨å¿½ç•¥

3. **æµ‹è¯•éªŒè¯**
   - æ¯æ¬¡ä¿®æ”¹åå¿…é¡»è¿è¡Œæµ‹è¯•éªŒè¯
   - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡åå†æäº¤

4. **ç‰ˆæœ¬æ§åˆ¶**
   - ä¿®æ”¹JSONåæ›´æ–° `last_updated` å­—æ®µ
   - é‡è¦ä¿®æ”¹æ—¶å¤‡ä»½åŸæ–‡ä»¶
   - Excelæ–‡ä»¶ä¸è¦æäº¤åˆ°Gitï¼ˆå·²åŠ å…¥.gitignoreï¼‰

---

## ğŸ” æ•…éšœæ’æŸ¥

### æµ‹è¯•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

1. **æ£€æŸ¥JSONæ ¼å¼**
   ```bash
   python -m json.tool tests/data/business_response_test_cases.json
   ```

2. **æ£€æŸ¥æµ‹è¯•ç”¨ä¾‹å­—æ®µ**
   - `field_alias` æ˜¯å¦æ­£ç¡®
   - `expected_standard_field` æ˜¯å¦åŒ¹é…ä»£ç ä¸­çš„å­—æ®µå

3. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯**
   ```bash
   pytest tests/unit/modules/test_business_response_text_filling.py -vv
   ```

### Excelå¯¼å…¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

1. **æ£€æŸ¥Excelæ–‡ä»¶æ˜¯å¦å­˜åœ¨**
   ```bash
   ls -l tests/data/business_response_test_cases.xlsx
   ```

2. **æ£€æŸ¥æ˜¯å¦å®‰è£…ä¾èµ–**
   ```bash
   pip install pandas openpyxl
   ```

3. **æŸ¥çœ‹å¯¼å…¥æ—¥å¿—**
   - è„šæœ¬ä¼šæ˜¾ç¤ºè¯¦ç»†çš„å¯¼å…¥è¿‡ç¨‹
   - æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®æ ¼å¼é”™è¯¯

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

**å½“å‰ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-12-02
**æµ‹è¯•å¥—ä»¶æ•°é‡**: 8
**æµ‹è¯•ç”¨ä¾‹æ€»æ•°**: 48

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- æµ‹è¯•æ³¨å†Œè¡¨ï¼š`tests/TEST_REGISTRY.md`
- æµ‹è¯•ä½¿ç”¨æŒ‡å—ï¼š`tests/HOWTO_USE.md`
- æµ‹è¯•è·¯çº¿å›¾ï¼š`docs/TESTING_ROADMAP.md`

---

## ğŸ‘¥ ç»´æŠ¤äººå‘˜

å¼€å‘å›¢é˜Ÿ

å¦‚æœ‰é—®é¢˜è¯·è”ç³»é¡¹ç›®è´Ÿè´£äººã€‚
